if (self.CavalryLogger) { CavalryLogger.start_js(["f\/sol"]); }

__d("VideoUploadVideoListSectionContainer.react",["ix","cx","fbt","AsyncDialog","AsyncRequest","ComposerVideoShowsActions","ComposerVideoShowsDispatcher","ComposerVideoShowsStore","FluxContainer","React","ShowVideoListDialogEntryPoint","SUIAtlasTheme","SUIBusinessThemeContainer.react","SUIButton.react","SUIGlyphIcon.react","SUISelector.react","SUISelectorOption.react","SUITooltip.react","XShowPagesCreatePlaylistDialogController","XShowPagesCreateSeasonDialogController","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=35,l="new";c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(a){j.constructor.call(this,a),b("ComposerVideoShowsDispatcher").explicitlyRegisterStore(b("ComposerVideoShowsStore")),b("ComposerVideoShowsActions").requestVideoListOptions(a.pageID)}a.getStores=function(){return[b("ComposerVideoShowsStore")]};a.calculateState=function(){var a=b("ComposerVideoShowsStore").getState().toObject(),c=a.isEpisode,d=a.shouldShowPlaylistSelector,e=a.playlistIDs,f=a.seasonID,g=a.playlistOptions;a=a.seasonOptions;return{isEpisode:c,shouldShowPlaylistSelector:d,playlistIDs:e,seasonID:f,playlistOptions:g,seasonOptions:a}};a.prototype.UNSAFE_componentWillReceiveProps=function(a){a.pageID&&a.pageID!==this.props.pageID&&b("ComposerVideoShowsActions").requestVideoListOptions(a.pageID)};a.prototype.render=function(){return b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement("div",{className:"_3-8y"},this.$1(),this.$2()))};a.prototype.$2=function(){return this.state.shouldShowPlaylistSelector?b("React").createElement(b("SUISelector.react"),{canSelectMultiple:!0,button:b("React").createElement(b("SUIButton.react"),{icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("123408"),srcDisabled:g("126612")}),label:b("React").createElement(b("SUITooltip.react"),{position:"right",offset:12,theme:b("SUIAtlasTheme"),tooltip:i._("You can add videos and episodes to playlists")},this.$3())}),onChange:function(a){if(a.length>0&&a[a.length-1]===l){var c=b("XShowPagesCreatePlaylistDialogController").getURIBuilder().setFBID("page_id",this.props.pageID).setEnum("entry_point",b("ShowVideoListDialogEntryPoint").VIDEO_LIST_SELECTOR).getURI();c=new(b("AsyncRequest"))().setURI(c);b("AsyncDialog").send(c)}else b("ComposerVideoShowsActions").setPlaylists(a)}.bind(this),value:this.state.playlistIDs,className_DEPRECATED:"_4gt6"},Object.keys(this.state.playlistOptions).map(function(a){return b("React").createElement(b("SUISelectorOption.react"),{value:a,key:a},this.state.playlistOptions[a])}.bind(this)),b("React").createElement(b("SUISelectorOption.react"),{value:l,key:l},i._("+ Create New Playlist"))):b("React").createElement("div",null)};a.prototype.$3=function(){if(this.state.playlistIDs.length===0||Object.keys(this.state.playlistOptions).length===0)return i._("Add to Playlist");var a=this.state.playlistIDs,c=this.state.playlistOptions[a[0]],d=1;while(c.length<k&&d<a.length)c+=", "+this.state.playlistOptions[a[d]],d+=1;if(c.length>=k)return b("React").createElement("span",null,c.slice(0,k-10),i._("... {number of hidden selected playlists} more",[i._param("number of hidden selected playlists",a.length-d+1)]));else return b("React").createElement("span",null,c)};a.prototype.$4=function(){var a=this.state.seasonOptions;if(this.state.seasonID)return this.$5(a[this.state.seasonID]);else return i._("Add to Season")};a.prototype.$1=function(){var a=this.state.seasonOptions;return b("React").createElement(b("SUISelector.react"),{button:b("React").createElement(b("SUIButton.react"),{icon:b("React").createElement(b("SUIGlyphIcon.react"),{srcDefault:g("123652"),srcDisabled:g("126856")}),label:b("React").createElement(b("SUITooltip.react"),{position:"right",offset:12,theme:b("SUIAtlasTheme"),tooltip:i._("Only episodes can be added to seasons")},this.$4()),disabled:!this.state.isEpisode}),onChange:function(a){if(a===l){var c=b("XShowPagesCreateSeasonDialogController").getURIBuilder().setFBID("page_id",this.props.pageID).setEnum("entry_point",b("ShowVideoListDialogEntryPoint").VIDEO_LIST_SELECTOR).getURI();c=new(b("AsyncRequest"))().setURI(c);b("AsyncDialog").send(c)}else b("ComposerVideoShowsActions").setSeason(a)}.bind(this),value:this.state.seasonID,className_DEPRECATED:"_4gt6",disabled:!this.state.isEpisode},b("React").createElement(b("SUISelectorOption.react"),{value:null,key:0},i._("Not in any season")),Object.keys(this.state.seasonOptions).map(function(c){return b("React").createElement(b("SUISelectorOption.react"),{value:c,key:c},this.$5(a[c]))}.bind(this)),b("React").createElement(b("SUISelectorOption.react"),{value:l,key:l},i._("+ Create New Season")))};a.prototype.$5=function(a){return i._("Season {seasonNumber}",[i._param("seasonNumber",a)])};e.exports=b("FluxContainer").create(a)}),null);