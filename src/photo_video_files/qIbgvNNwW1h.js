if (self.CavalryLogger) { CavalryLogger.start_js(["bGBsL"]); }

__d("LiveVideoBroadcastSaveChangesDialogContainer.react",["fbt","ErrorDialog","FluxContainer","LiveVideoBroadcastActions","LiveVideoBroadcastAfterBootloadUtils","LiveVideoBroadcastAPIBroadcastStore","LiveVideoBroadcastBroadcastStore","LiveVideoBroadcastCrosspostStore","LiveVideoBroadcastMetadataInputStore","LiveVideoBroadcastSaveChangesDialog.react","LiveVideoBroadcastUIStore","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$3=function(){b("ErrorDialog").show(g._("Save error"),g._("Error saving data, please try again")),this.props.onError()}.bind(this),this.$4=function(){if(!this.state.accessToken||!this.state.apiVideoID||!this.state.composerConfig)return;var a={is_continuous:this.state.isContinuous,is_embeddable:this.state.isEmbeddable,should_expire_after_live:this.state.shouldExpireAfterGoLive,should_show_graphic_content_warning:this.state.shouldShowGraphicContentWarning,is_rewind_enabled:this.state.isRewindEnabled,crosspost_page_ids:this.state.crosspostPageIDs,live_comment_moderation_setting:this.state.commentModes};this.state.episodeData&&(a=babelHelpers["extends"]({},a,{is_episode:this.state.episodeData.isEpisode,season_id:this.state.episodeData.seasonID,playlist_ids:this.state.episodeData.playlistIDs}));this.state.canEnableLiveCoverVideo&&(a=babelHelpers["extends"]({},a,{is_page_live_cover_video_enabled:this.state.isLiveCoverVideoEnabled,is_page_live_cover_video_explicitly_set:!0}));b("LiveVideoBroadcastAfterBootloadUtils").updateBroadcastRequest(this.state.accessToken,this.state.actorID,this.state.apiVideoID,this.state.apiBroadcastID,this.state.composerConfig,this.state.copyrightData,this.state.targetID,this.state.isCopyrighted,this.state.metadataConfig,a,this.$2,this.$3)}.bind(this),c}a.getStores=function(){return[b("LiveVideoBroadcastUIStore"),b("LiveVideoBroadcastAPIBroadcastStore"),b("LiveVideoBroadcastMetadataInputStore"),b("LiveVideoBroadcastBroadcastStore"),b("LiveVideoBroadcastCrosspostStore")]};a.calculateState=function(){__p&&__p();var a=b("LiveVideoBroadcastUIStore").getState().toObject(),c=a.accessToken,d=a.canEnableLiveCoverVideo,e=a.composerConfig,f=a.episodeData,g=a.isLiveCoverVideoEnabled,h=a.isRewindEnabled;a=a.commentModes;var i=b("LiveVideoBroadcastMetadataInputStore").getState().toObject(),j=b("LiveVideoBroadcastAPIBroadcastStore").getState().toObject(),k=j.apiBroadcastID,l=j.apiVideoID,m=j.areCountriesIncluded,n=j.copyrightMonitoringType,o=j.copyrightRuleID,p=j.copyrightWhitelistedFBUsers,q=j.copyrightWhitelistedIGUserNames,r=j.isCopyrighted,s=j.isContinuous,t=j.isEmbeddable,u=j.ownershipCountries,v=j.selectedCategory,w=j.shouldExpireAfterGoLive;j=j.shouldShowGraphicContentWarning;var x=b("LiveVideoBroadcastBroadcastStore").getState().toObject(),y=x.actorID;x=x.targetID;n={copyrightMonitoringType:n,copyrightRuleID:o,copyrightWhitelistedFBUsers:p,copyrightWhitelistedIGUserNames:q,areCopyrightCountriesIncluded:m,copyrightOwnershipCountries:u,selectedCategory:v};o=b("LiveVideoBroadcastCrosspostStore").getState().toObject();p=o.crosspostingConfig;q=p.filter(function(a){return a.get("allow")}).map(function(a){return a.get("id")}).toArray();return{accessToken:c,actorID:y,canEnableLiveCoverVideo:d,composerConfig:e,copyrightData:n,apiBroadcastID:k,apiVideoID:l,episodeData:f,isEmbeddable:t,metadataConfig:i,isCopyrighted:r,isLiveCoverVideoEnabled:g,isRewindEnabled:h,shouldExpireAfterGoLive:w,shouldShowGraphicContentWarning:j,isContinuous:s,targetID:x,crosspostPageIDs:q,commentModes:a}};a.prototype.$1=function(){b("LiveVideoBroadcastActions").cleanup()};a.prototype.$2=function(){b("LiveVideoBroadcastActions").cleanup()};a.prototype.render=function(){return b("React").createElement(b("LiveVideoBroadcastSaveChangesDialog.react"),{onSaveChangesDialogCancel:this.$1,onSaveChangesDialogConfirm:this.$4})};e.exports=b("FluxContainer").create(a)}),null);