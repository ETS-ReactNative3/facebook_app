if (self.CavalryLogger) { CavalryLogger.start_js(["6CoS0"]); }

__d("LiveVideoResilientAPIPlayer.react",["cx","LiveAPIPreviewPlayerSpinner.react","LiveVideoBroadcastActions","LiveVideoNoFlashError.react","LiveVideoPublisherToolsFunnelLogger","React","VideoComponentContextMenu.react","VideoComponentEmbeddedControls.react","VideoComponentLiveEndScreen.react","VideoComponentWithLiveBroadcast.react","VideoDataContainer.react","VideoPlayer.react","VideoPlayerLoggerSource"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={shouldRestartPlayer:!1,hasError:!1,isPlayerLoading:!0},this.$1=function(){this.refs.player.vpc.addListener("error",function(a){this.setState({shouldRestartPlayer:!0,isPlayerLoading:!0});a=a==null?void 0:a.error;b("LiveVideoBroadcastActions").apiPreviewPlayerCrash(a)}.bind(this)),this.refs.player.vpc.addListener("updateMetadata",function(){b("LiveVideoPublisherToolsFunnelLogger").previewStarted(),b("LiveVideoBroadcastActions").apiBroadcastLivePreviewPlaying(!0),this.setState({isPlayerLoading:!1})}.bind(this)),this.refs.player.vpc.addListener("finishPlayback",function(){this.setState({isPlayerLoading:!0})}.bind(this)),this.setState({hasError:this.refs.player.vpc.isImplementationUnavailable()})}.bind(this),c}a.prototype.render=function(){if(this.state.shouldRestartPlayer){this.setState({shouldRestartPlayer:!1});return null}if(this.state.hasError)return b("React").createElement(b("LiveVideoNoFlashError.react"),null);var a=this.state.isPlayerLoading?b("React").createElement(b("LiveAPIPreviewPlayerSpinner.react"),null):null;return b("React").createElement("div",null,a,b("React").createElement("div",{className:"_2clx"+(this.state.isPlayerLoading?" _14e1":"")},a,b("React").createElement(b("VideoDataContainer.react"),{videoID:this.props.videoID,onVideoLoaded:this.$1},b("React").createElement(b("VideoPlayer.react"),{autoplay:!0,className:"_14e2 _2clx",disableClickPlayPause:!0,keepPlayingOnDialog:!0,ref:"player",startMuted:!0,subOrigin:b("VideoPlayerLoggerSource").LIVE_VIDEO_PREVIEW,videoData:b("VideoDataContainer.react").VIDEO_DATA_PLACEHOLDER},b("React").createElement(b("VideoComponentEmbeddedControls.react"),{showFullscreenButton:!1,showSettingsButton:!0}),b("React").createElement(b("VideoComponentContextMenu.react"),null),b("React").createElement(b("VideoComponentWithLiveBroadcast.react"),null),b("React").createElement(b("VideoComponentLiveEndScreen.react"),null)))))};e.exports=a}),null);