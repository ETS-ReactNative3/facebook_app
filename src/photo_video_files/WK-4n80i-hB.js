if (self.CavalryLogger) { CavalryLogger.start_js(["i69A5"]); }

__d("CameraPostSendReplyDraftEditor.react",["cx","fbt","BusinessConversationEvent","BusinessConversationEventTarget","BusinessConversationLogger","CameraPostSendReplyContentButtons.react","CameraPostTypes","DraftEditor.react","EditorState","Image.react","React","addEmojiInput","addEmojiToEditorState","emptyFunction","getVisibleValueForContentStateWithMessengerEmoji"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("addEmojiInput")(b("DraftEditor.react"));c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={editorState:b("EditorState").createEmpty()},this.$2=function(a){this.setState({editorState:a})}.bind(this),this.$3=function(event,a){a=b("getVisibleValueForContentStateWithMessengerEmoji")(this.state.editorState.getCurrentContent());a.trim().length>0&&(this.props.onReplyEntered(a),this.resetState());return"handled"}.bind(this),this.$4=function(a){return this.$1=a}.bind(this),this.$5=function(a){var c=this.state.editorState;a=b("addEmojiToEditorState")(a,c);a!==this.state.editorState&&this.$2(a)}.bind(this),c}a.prototype.componentDidMount=function(){this.props.cameraPostType===b("CameraPostTypes").PAGE_STORY&&this.props.ownerID!==null&&this.props.ownerID!==undefined&&b("BusinessConversationLogger").log(this.props.ownerID,b("BusinessConversationEvent").IMPRESSION,b("BusinessConversationEventTarget").PAGE_STORY_REPLY_BAR,"page_stories_www",{})};a.prototype.resetState=function(){var a=b("EditorState").createEmpty();this.setState({editorState:b("EditorState").moveFocusToEnd(a)})};a.prototype.render=function(){return b("React").createElement("div",{className:"_2dvt"},b("React").createElement("div",{className:"_2dv-"},b("React").createElement(b("Image.react"),{src:this.props.replyProfilePic,className:"_2dv_"})),b("React").createElement("div",{className:"_2dw0"},b("React").createElement("div",{className:"_3r4m draftEditor"},b("React").createElement(j,{editorState:this.state.editorState,handleReturn:this.$3,onChange:this.$2,onBlur:this.props.onBlurInput,onFocus:this.props.onFocusInput,placeholder:b("React").createElement("span",{className:"_2pid"},h._("Write a reply...")),ref:this.$4,spellCheck:!0,textAlignment:"left"})),b("React").createElement(b("CameraPostSendReplyContentButtons.react"),{input:this.$1,onEmojiSelect:this.$5,onFocusInput:this.props.onFocusInput,onGifSelect:this.props.onGifSelect,onReplyEntered:this.props.onReplyEntered,onStickerSelect:this.props.onStickerSelect,threadID:this.props.threadID})))};a.defaultProps={onFocusInput:b("emptyFunction"),onBlurInput:b("emptyFunction")};e.exports=a}),null);