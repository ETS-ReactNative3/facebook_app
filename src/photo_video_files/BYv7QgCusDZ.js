if (self.CavalryLogger) { CavalryLogger.start_js(["GA7io"]); }

__d("EventsTypeaheadView.react",["cx","React","XUITypeaheadViewItem.react"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var c;c=((c=a.entry.getAuxiliaryData())==null?void 0:c.disabled)===!0;return b("React").createElement(b("XUITypeaheadViewItem.react"),{className:c?"_4tw1":"",entry:a.entry,highlighted:a.highlighted,disabled:c,onSelect:a.onSelect,onHighlight:a.onHighlight,onRenderHighlight:a.onRenderHighlight,radiusImage:a.radiusImage})}function a(a){return b("React").createElement("ul",{className:"_599r"+(a.entries.length===0?" _599s":"")},a.entries.map(function(c){return b("React").createElement(h,{key:c.getUniqueID(),entry:c,highlighted:c===a.highlightedEntry,onHighlight:a.onHighlight,onRenderHighlight:a.onRenderHighlight,onSelect:a.onSelect,radiusImage:a.radiusImage})}))}e.exports=a}),null);
__d("PagesInviteConstants",["keyMirror"],(function(a,b,c,d,e,f){a={Actions:b("keyMirror")({INITIAL_LOAD:null,BOOTSTRAP_ENTRIES:null,UPDATE_QUERY:null,SELECT_ENTRY:null,DESELECT_ENTRY:null,SELECT_ALL_ENTRIES:null,DESELECT_ALL_ENTRIES:null,EXPAND_GROUP:null,COLLAPSE_GROUP:null,SET_ACTIVE_FILTER:null}),Events:b("keyMirror")({CHANGE:null,RESET_FILTER:null}),PageSize:50,SelectSource:b("keyMirror")({TYPEAHEAD:null,ACTIVE_FILTER:null})};e.exports=a}),null);
__d("PagesInviteDispatcher",["ReactDispatcher_DEPRECATED"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("ReactDispatcher_DEPRECATED"));g&&g.prototype;a.prototype.handleAction=function(a){"use strict";this.dispatch({action:a})};function a(){"use strict";g.apply(this,arguments)}e.exports=new a()}),null);
__d("PagesInviteActions",["PagesInviteConstants","PagesInviteDispatcher"],(function(a,b,c,d,e,f){__p&&__p();a.prototype.bootstrapEntries=function(a){"use strict";b("PagesInviteDispatcher").handleAction({type:b("PagesInviteConstants").Actions.BOOTSTRAP_ENTRIES,entries:a})};a.prototype.selectEntry=function(a,c){"use strict";b("PagesInviteDispatcher").handleAction({type:b("PagesInviteConstants").Actions.SELECT_ENTRY,entry:a,source:c})};a.prototype.deselectEntry=function(a){"use strict";b("PagesInviteDispatcher").handleAction({type:b("PagesInviteConstants").Actions.DESELECT_ENTRY,entry:a})};a.prototype.selectAllEntries=function(){"use strict";b("PagesInviteDispatcher").handleAction({type:b("PagesInviteConstants").Actions.SELECT_ALL_ENTRIES})};a.prototype.deselectAllEntries=function(){"use strict";b("PagesInviteDispatcher").handleAction({type:b("PagesInviteConstants").Actions.DESELECT_ALL_ENTRIES})};a.prototype.updateQuery=function(a){"use strict";b("PagesInviteDispatcher").handleAction({type:b("PagesInviteConstants").Actions.UPDATE_QUERY,queryString:a})};a.prototype.expandFilterGroup=function(a,c){"use strict";b("PagesInviteDispatcher").handleAction({type:b("PagesInviteConstants").Actions.EXPAND_GROUP,groupIndex:a,groupName:c})};a.prototype.collapseFilterGroup=function(a,c){"use strict";b("PagesInviteDispatcher").handleAction({type:b("PagesInviteConstants").Actions.COLLAPSE_GROUP,groupIndex:a,groupName:c})};a.prototype.setActiveFilter=function(a,c){"use strict";b("PagesInviteDispatcher").handleAction({type:b("PagesInviteConstants").Actions.SET_ACTIVE_FILTER,filter:a,groupName:c})};function a(){"use strict"}e.exports=new a()}),null);
__d("PagesInviteDialogStore",["AsyncRequest","EventEmitter","PagesInviteConstants","PagesInviteDispatcher","immutable"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(){"use strict";g.constructor.call(this),this.searchSource=null,this.selectedEntries=b("immutable").OrderedMap(),this.queryString="",this.entries=b("immutable").List(),this.filterGroups=[],this.dispatchToken=b("PagesInviteDispatcher").register(this.$PagesInviteDialogStore1.bind(this)),this.defaultSelectAll=!1,this.defaultSelectAll=null}a.prototype.$PagesInviteDialogStore2=function(a){"use strict";this.selectedEntries=b("immutable").OrderedMap(a.selectedEntries);this.queryString=a.queryString;this.filterGroups=a.filterGroups;var c;a.activeFilter===null&&this.filterGroups.size!==0?c=a.filterGroups[0].filters[0]:c=a.activeFilter;this.$PagesInviteDialogStore3(c);this.defaultSelectAll=a.defaultSelectAll;this.defaultActiveFilter=a.defaultActiveFilter};a.prototype.$PagesInviteDialogStore4=function(a){"use strict";this.entries=a,this.defaultActiveFilter?this.$PagesInviteDialogStore3(this.defaultActiveFilter,!0,this.defaultSelectAll):this.defaultSelectAll&&this.$PagesInviteDialogStore5()};a.prototype.$PagesInviteDialogStore6=function(a){"use strict";this.searchSource=a};a.prototype.$PagesInviteDialogStore7=function(a){"use strict";this.queryString=a};a.prototype.isSelected=function(a){"use strict";return this.selectedEntries.has(a.getUniqueID())};a.prototype.isLoading=function(){"use strict";return!this.$PagesInviteDialogStore8()||!this.$PagesInviteDialogStore8().ids};a.prototype.$PagesInviteDialogStore9=function(a){"use strict";return!!(a&&a.getAuxiliaryData().disabled)};a.prototype.$PagesInviteDialogStore10=function(a){"use strict";if(!this.isSelected(a)&&!this.$PagesInviteDialogStore9(a)){var b;this.selectedEntries=this.selectedEntries.merge((b={},b[a.getUniqueID()]=a,b))}};a.prototype.$PagesInviteDialogStore11=function(a){"use strict";this.isSelected(a)&&(this.selectedEntries=this.selectedEntries["delete"](a.getUniqueID()))};a.prototype.$PagesInviteDialogStore5=function(){"use strict";this.getActiveEntries(function(a){return a.map(function(a){return this.$PagesInviteDialogStore10(a)}.bind(this))}.bind(this))};a.prototype.$PagesInviteDialogStore12=function(){"use strict";this.getActiveEntries(function(a){return a.map(function(a){return this.$PagesInviteDialogStore11(a)}.bind(this))}.bind(this))};a.prototype.$PagesInviteDialogStore13=function(a){"use strict";this.filterGroups[a].open||(this.filterGroups[a].open=!0)};a.prototype.$PagesInviteDialogStore14=function(a){"use strict";this.filterGroups[a].open&&(this.filterGroups[a].open=!1)};a.prototype.$PagesInviteDialogStore15=function(a,c,d,e,f){e===void 0&&(e=!1),f===void 0&&(f=!1),a.sections[c].ids=d,e&&f&&this.$PagesInviteDialogStore5(),this.emit(b("PagesInviteConstants").Events.CHANGE)};a.prototype.$PagesInviteDialogStore3=function(a,c,d){c===void 0&&(c=!1),d===void 0&&(d=!1),this.activeFilter!==a&&(this.activeFilter=a),this.isLoading()&&new(b("AsyncRequest"))(this.$PagesInviteDialogStore8().uri).setMethod("GET").setReadOnly(!0).setHandler(function(a){return this.$PagesInviteDialogStore15(this.activeFilter,0,a.getPayload().ids,c,d)}.bind(this)).send(),this.emit(b("PagesInviteConstants").Events.RESET_FILTER)};a.prototype.$PagesInviteDialogStore8=function(){"use strict";return this.activeFilter.sections[0]};a.prototype.$PagesInviteDialogStore16=function(){"use strict";return this.$PagesInviteDialogStore8().ids||[]};a.prototype.$PagesInviteDialogStore17=function(){"use strict";var a=this.activeFilter,b="";a!==null&&this.filterGroups.forEach(function(c){c.filters.forEach(function(d){d===a&&(b=c.type)})});return b};a.prototype.$PagesInviteDialogStore1=function(a){"use strict";__p&&__p();a=a.action;switch(a.type){case b("PagesInviteConstants").Actions.INITIAL_LOAD:this.$PagesInviteDialogStore2(a);break;case b("PagesInviteConstants").Actions.BOOTSTRAP_ENTRIES:this.$PagesInviteDialogStore4(a.entries);break;case b("PagesInviteConstants").Actions.UPDATE_SEARCHSOURCE:this.$PagesInviteDialogStore6(a.searchSource);break;case b("PagesInviteConstants").Actions.UPDATE_QUERY:this.$PagesInviteDialogStore7(a.queryString);break;case b("PagesInviteConstants").Actions.SELECT_ENTRY:this.$PagesInviteDialogStore10(a.entry);break;case b("PagesInviteConstants").Actions.DESELECT_ENTRY:this.$PagesInviteDialogStore11(a.entry);break;case b("PagesInviteConstants").Actions.SELECT_ALL_ENTRIES:this.$PagesInviteDialogStore5(a.filter);break;case b("PagesInviteConstants").Actions.DESELECT_ALL_ENTRIES:this.$PagesInviteDialogStore12(a.filter);break;case b("PagesInviteConstants").Actions.EXPAND_GROUP:this.$PagesInviteDialogStore13(a.groupIndex);break;case b("PagesInviteConstants").Actions.COLLAPSE_GROUP:this.$PagesInviteDialogStore14(a.groupIndex);break;case b("PagesInviteConstants").Actions.SET_ACTIVE_FILTER:this.$PagesInviteDialogStore3(a.filter);break}this.emit(b("PagesInviteConstants").Events.CHANGE)};a.prototype.getActiveFilter=function(a){"use strict";a(this.activeFilter)};a.prototype.getActiveEntries=function(a){"use strict";var c=this.$PagesInviteDialogStore16().map(function(a){return this.entries[a]}.bind(this));c=c.filter(function(a){return a&&!this.$PagesInviteDialogStore9(a)}.bind(this)).concat(c.filter(function(a){return this.$PagesInviteDialogStore9(a)}.bind(this)));a(b("immutable").List(c))};a.prototype.getSearchSource=function(){"use strict";return this.searchSource};a.prototype.getSelectedEntries=function(a){"use strict";a(this.selectedEntries)};a.prototype.getQueryString=function(a){"use strict";a(this.queryString)};a.prototype.getFilterGroups=function(a){"use strict";a(this.filterGroups)};a.prototype.getIsLoading=function(a){"use strict";a(this.isLoading())};e.exports=new a()}),null);
__d("PagesInviteActiveEntries.react",["cx","fbt","CenteredContainer.react","InfiniteScrollArea.react","Layout.react","immutable","Link.react","List.react","PagesInviteActions","PagesInviteConstants","PagesInviteDialogStore","PageSettingsRef","React","ReactComponentWithPureRenderMixin","SearchableEntrySelector.react","ShimButton.react","SubscriptionsHandler","XPagesManagerSettingsController","XUISpinner.react","XUINotice.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=b("Layout.react").Column,j=b("Layout.react").FillColumn;a=b("React").PropTypes;c=b("React").createClass({displayName:"PagesInviteActiveEntries",mixins:[b("ReactComponentWithPureRenderMixin")],PropTypes:{defaultActiveFilter:a.object,defaultSelectAll:a.bool.isRequired,friendsRestriction:a.bool.isRequired,pageID:a.number.isRequired,scrollbarHeight:a.number.isRequired,showSelectAll:a.bool.isRequired},SIZE_CONSTANTS:{noticeHeight:80},getInitialState:function(){return{activeEntries:b("immutable").List(),limit:b("PagesInviteConstants").PageSize,loading:!0,selectedEntries:b("immutable").OrderedMap(),activeFilter:this.props.defaultActiveFilter,selectedAll:this.props.defaultSelectAll}},UNSAFE_componentWillMount:function(){this._subscriptions=new(b("SubscriptionsHandler"))(),this._subscriptions.addSubscriptions(b("PagesInviteDialogStore").addListener(b("PagesInviteConstants").Events.CHANGE,function(){b("PagesInviteDialogStore").getActiveEntries(function(a){return this.setState({activeEntries:a})}.bind(this)),b("PagesInviteDialogStore").getSelectedEntries(function(a){return this.setState({selectedEntries:a})}.bind(this)),b("PagesInviteDialogStore").getIsLoading(function(a){return this.setState({loading:a})}.bind(this)),b("PagesInviteDialogStore").getActiveFilter(function(a){return this.setState({activeFilter:a})}.bind(this))}.bind(this)),b("PagesInviteDialogStore").addListener(b("PagesInviteConstants").Events.RESET_FILTER,function(){return this.setState({limit:b("PagesInviteConstants").PageSize})}.bind(this)))},componentWillUnmount:function(){this._subscriptions.release()},_onEndReached:function(){this.state.limit<this.state.activeEntries.size&&this.setState({limit:this.state.limit+b("PagesInviteConstants").PageSize})},_renderSpinner:function(){return b("React").createElement(b("CenteredContainer.react"),{className:"_4ila",vertical:!0},b("React").createElement(b("XUISpinner.react"),{size:"large"}))},_onToggleEntry:function(a){this._isSelected(a)?b("PagesInviteActions").deselectEntry(a):b("PagesInviteActions").selectEntry(a,b("PagesInviteConstants").SelectSource.ACTIVE_FILTER)},_onSelectAll:function(){var a=this.state.activeEntries.toArray().map(function(a){return this._isSelected(a)||this._isDisabled(a)}.bind(this));a=a.reduce(function(a,b){return a&&b},!0);!a?b("PagesInviteActions").selectAllEntries():b("PagesInviteActions").deselectAllEntries();this.setState({selectedAll:!this.state.selectedAll})},_isSelected:function(a){return this.state.selectedEntries.has(a.getUniqueID())},_isDisabled:function(a){return!!a.getAuxiliaryData().disabled},_renderActiveEntries:function(){var a=[];this.state.activeEntries.slice(0,this.state.limit).forEach(function(c,d){if(!c)return;d=this._isDisabled(c);a.push(b("React").createElement("li",{key:c.getUniqueID()},b("React").createElement(b("SearchableEntrySelector.react"),{entry:c,isDisabled:d,isSelected:d||this._isSelected(c),onClick:function(){return this._onToggleEntry(c)}.bind(this)})))}.bind(this));return b("React").createElement(b("List.react"),{border:"none",spacing:"none"},a)},_renderHeader:function(){if(!this.props.showSelectAll||this.state.activeFilter.select_all===!1)return null;var a=this.state.selectedAll?h._("Deselect All"):h._("Select All");return b("React").createElement(b("Layout.react"),{className:"_-j"},b("React").createElement(j,{className:"_-k"},h._("Friends ({number_friends})",[h._param("number_friends",this.state.activeEntries.size)])),b("React").createElement(i,null,b("React").createElement(b("ShimButton.react"),{className:"_1oxu",form:"link",onClick:this._onSelectAll},a)))},render:function(){__p&&__p();if(this.state.loading)return this._renderSpinner();var a,c=this.props.scrollbarHeight;if(this.props.friendsRestriction){var d=b("XPagesManagerSettingsController").getURIBuilder().setString("page_token",this.props.pageID).setString("tab","settings").setString("ref",b("PageSettingsRef").FRIEND_INVITER).getURI();a=b("React").createElement(b("XUINotice.react"),{className:"_3-8t _3-8y",size:"small"},h._("You may not be able to convert all of your friends into people who like your Page because you've turned on country and\/or age restrictions in {page settings}. Turn off these restrictions if you want all friends to like your Page.",[h._param("page settings",b("React").createElement(b("Link.react"),{href:d},h._("Settings")))]));c-=this.SIZE_CONSTANTS.noticeHeight}return b("React").createElement("div",null,a,b("React").createElement(b("InfiniteScrollArea.react"),{className:"_4ilb",height:c,onEndReached:function(){return this._onEndReached()}.bind(this),shadow:!1},this._renderHeader(),this._renderActiveEntries()))}});e.exports=c}),null);
__d("PagesInviteFilterGroups.react",["cx","fbt","PagesInviteActions","PagesInviteConstants","PagesInviteDialogStore","React","SubscriptionsHandler"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={filterGroups:[],activeFilter:""},this.isFilterActive=function(a){return this.state.activeFilter.id===a.id}.bind(this),this.$2=function(a,c){b("PagesInviteActions").setActiveFilter(a,c)},this.$3=function(a){!this.state.filterGroups[a].open?b("PagesInviteActions").expandFilterGroup(a,this.state.filterGroups[a].type):b("PagesInviteActions").collapseFilterGroup(a,this.state.filterGroups[a].type)}.bind(this),this.$4=function(a){return!a.title?null:b("React").createElement("div",{className:"_1-ce"},a.title)},this.$5=function(a){var c=a.open?a.filters:a.filters.slice(0,5);return c.map(function(c){return b("React").createElement("li",{className:"_1-cf"+(this.isFilterActive(c)?" _1-cg":""),key:c.id},b("React").createElement("a",{className:"_1-ch",href:"#",onClick:function(){return this.$2(c,a.type)}.bind(this)},c.title))},this)}.bind(this),this.$6=function(a){var c=this.state.filterGroups[a],d=null;c.filters.length>5&&(d=b("React").createElement("li",null,b("React").createElement("a",{className:"_1-cf",href:"#",onClick:function(){return this.$3(a)}.bind(this)},c.open?h._("Less..."):h._("More..."))));return d}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){"use strict";this.$1=new(b("SubscriptionsHandler"))(),this.$1.addSubscriptions(b("PagesInviteDialogStore").addListener(b("PagesInviteConstants").Events.CHANGE,function(){return b("PagesInviteDialogStore").getActiveFilter(function(a){return this.setState({activeFilter:a})}.bind(this))}.bind(this)))};a.prototype.componentDidMount=function(){"use strict";b("PagesInviteDialogStore").getActiveFilter(function(a){return this.setState({activeFilter:a})}.bind(this)),b("PagesInviteDialogStore").getFilterGroups(function(a){return this.setState({filterGroups:a})}.bind(this))};a.prototype.componentWillUnmount=function(){"use strict";this.$1.release()};a.prototype.render=function(){"use strict";return b("React").createElement("div",{className:"_1-ci"},this.state.filterGroups.map(function(a,c){return b("React").createElement("div",{className:"_1-cj",key:a.title},this.$4(a),b("React").createElement("ul",null,this.$5(a),this.$6(c)))}.bind(this)))};e.exports=a}),null);
__d("PagesInviteSelectedEntries.react",["cx","fbt","Image.react","LeftRight.react","PagesInviteActions","PagesInviteConstants","PagesInviteDialogStore","React","ScrollableArea.react","SubscriptionsHandler","immutable"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={selectedEntries:b("immutable").OrderedMap()},this.$2=function(a){b("PagesInviteActions").deselectEntry(a)},c}a.prototype.UNSAFE_componentWillMount=function(){"use strict";this.$1=new(b("SubscriptionsHandler"))(),this.$1.addSubscriptions(b("PagesInviteDialogStore").addListener(b("PagesInviteConstants").Events.CHANGE,function(){return b("PagesInviteDialogStore").getSelectedEntries(function(a){return this.setState({selectedEntries:a})}.bind(this))}.bind(this)))};a.prototype.componentDidMount=function(){"use strict";b("PagesInviteDialogStore").getSelectedEntries(function(a){return this.setState({selectedEntries:a})}.bind(this))};a.prototype.componentWillUnmount=function(){"use strict";this.$1.release()};a.prototype.render=function(){"use strict";var a=this.state.selectedEntries.toArray().reverse().map(function(a){return b("React").createElement("li",{key:a.getUniqueID(),className:"clearfix _etw",onClick:function(){return this.$2(a)}.bind(this)},b("React").createElement("div",{className:"_etx"}),b("React").createElement(b("Image.react"),{className:"_ety",src:a.getPhoto()}),b("React").createElement("div",{className:"_et-"},a.getTitle()))}.bind(this));return b("React").createElement("div",{className:"_et_"},b("React").createElement(b("LeftRight.react"),{className:"_eu0"},h._("SELECTED"),b("React").createElement("span",{className:"_eu1"},this.state.selectedEntries.size)),b("React").createElement(b("ScrollableArea.react"),{height:this.props.scrollbarHeight,shadow:!1},b("React").createElement("ul",null,a)))};a.propTypes={scrollbarHeight:c.number.isRequired};e.exports=a}),null);
__d("PagesInviteDialog.react",["cx","fbt","invariant","EventsTypeaheadView.react","Layout.react","PagesInviteActions","PagesInviteActiveEntries.react","PagesInviteConstants","PagesInviteDialogStore","PagesInviteDispatcher","PagesInviteFilterGroups.react","PagesInviteSelectedEntries.react","React","ScrollableArea.react","SubscriptionsHandler","WebAsyncSearchSource","XUITypeahead.react","immutable"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();a=b("React").PropTypes;var j=b("Layout.react").Column,k=b("Layout.react").FillColumn;c=b("React").createClass({displayName:"PagesInviteDialog",propTypes:{defaultActiveFilter:a.object,defaultSelectAll:a.bool,filterGroups:a.arrayOf(a.object).isRequired,friendsRestriction:a.bool.isRequired,height:function(a,b,c){c=a[b];typeof c==="number"&&c>=100||i(0,undefined)},loggingData:a.object.isRequired,pageID:a.string.isRequired,parent:a.object.isRequired,searchBarPlaceholder:a.string,searchSource:a.instanceOf(b("WebAsyncSearchSource")).isRequired,selectedEntries:a.instanceOf(b("immutable").OrderedMap).isRequired,showSelectAll:a.bool.isRequired},SIZE_CONSTANTS:{bodyScrollbarDiff:61,filterScrollbarDiff:49,selectedScrollbarDiff:28},getDefaultProps:function(){return{activeFilter:null,queryString:"",selectedEntries:b("immutable").OrderedMap(),height:500}},getInitialState:function(){return{queryString:this.props.queryString,activeFilter:this.props.activeFilter,selectedEntries:this.props.selectedEntries}},UNSAFE_componentWillMount:function(){this._startTime=new Date(),this._subscriptions=new(b("SubscriptionsHandler"))(),this._subscriptions.addSubscriptions(b("PagesInviteDialogStore").addListener(b("PagesInviteConstants").Events.CHANGE,function(){b("PagesInviteDialogStore").getQueryString(function(a){return this.setState({queryString:a})}.bind(this)),b("PagesInviteDialogStore").getSelectedEntries(function(a){return this.setState({selectedEntries:a})}.bind(this)),b("PagesInviteDialogStore").getActiveFilter(function(a){return this.setState({activeFilter:a})}.bind(this))}.bind(this))),typeof this.props.parent.subscribe==="function"&&this._subscriptions.addSubscriptions(this.props.parent.subscribe(["cancel","confirm","hide"],function(a){b("PagesInviteDialogStore").log(a,{session_time:Math.floor((new Date()-this._startTime)/1e3),additional_data:JSON.stringify({invitee_ids:JSON.stringify(this._getSelectedArray())})})}.bind(this))),this.props.searchSource.getBootstrappedEntries(function(a){b("PagesInviteActions").bootstrapEntries(this.props.searchSource.getAllEntriesMap())}.bind(this)),b("PagesInviteDispatcher").handleAction(babelHelpers["extends"]({type:b("PagesInviteConstants").Actions.INITIAL_LOAD},this.props))},componentWillUnmount:function(){this._subscriptions.release()},_onChangeQuery:function(a){b("PagesInviteActions").updateQuery(a.target.value)},_onSearchSelect:function(a){b("PagesInviteActions").selectEntry(a,b("PagesInviteConstants").SelectSource.TYPEAHEAD),b("PagesInviteActions").updateQuery("")},_getSelectedArray:function(){var a=[];this.state.selectedEntries.forEach(function(b){return a.push(b.getUniqueID())});return a},render:function(){var a=this.props.searchBarPlaceholder?this.props.searchBarPlaceholder:h._("Search for people to invite");return b("React").createElement("div",null,b("React").createElement(b("Layout.react"),null,b("React").createElement(k,null,b("React").createElement("div",{className:"_43mo"},b("React").createElement(b("XUITypeahead.react"),{autoHightlight:!0,className:"_43mp",onChange:this._onChangeQuery,onSelectAttempt:this._onSearchSelect,placeholder:a,presenter:{ViewRenderer:b("EventsTypeaheadView.react"),useLayer:!0},queryString:this.state.queryString,searchSource:this.props.searchSource,tallInput:!0})),b("React").createElement(b("Layout.react"),null,b("React").createElement(j,{className:"_43mq"},b("React").createElement(b("ScrollableArea.react"),{height:this.props.height-this.SIZE_CONSTANTS.filterScrollbarDiff,shadow:!1},b("React").createElement(b("PagesInviteFilterGroups.react"),null))),b("React").createElement(k,null,b("React").createElement(b("PagesInviteActiveEntries.react"),{defaultActiveFilter:this.props.activeFilter,defaultSelectAll:this.props.defaultSelectAll,friendsRestriction:this.props.friendsRestriction,pageID:this.props.pageID,scrollbarHeight:this.props.height-this.SIZE_CONSTANTS.bodyScrollbarDiff,showSelectAll:this.props.showSelectAll})))),b("React").createElement(j,{className:"_43ms"},b("React").createElement(b("PagesInviteSelectedEntries.react"),{scrollbarHeight:this.props.height-this.SIZE_CONSTANTS.selectedScrollbarDiff}))),b("React").createElement("input",{type:"hidden",name:"invitee_ids",value:JSON.stringify(this._getSelectedArray())}))}});e.exports=c}),null);
__d("XPageCategoriesTypeaheadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/categories/typeahead/",{q:{type:"String"},max_num:{type:"Int",required:!0},bootstrap:{type:"Bool",defaultValue:!1},super_category:{type:"Int",required:!0},exclude_tag_matching:{type:"Bool",defaultValue:!1},include_all_descendent_categories:{type:"Bool",defaultValue:!1}})}),null);
__d("CategorySearchSource",["AbstractSearchSource","AsyncRequest","SearchableEntry","XPageCategoriesTypeaheadController"],(function(a,b,c,d,e,f){__p&&__p();var g,h=1e3,i=1386825038274345;g=babelHelpers.inherits(a,b("AbstractSearchSource"));g&&g.prototype;a.prototype.searchImpl=function(a,c,d){"use strict";__p&&__p();var e=[];d||({});if(a){d=b("XPageCategoriesTypeaheadController").getURIBuilder().setInt("max_num",h).setInt("super_category",i);d=new(b("AsyncRequest"))(d.getURI()).setData({q:a}).setMethod("POST").setHandler(function(d){d.payload.map(function(d){e.push(new(b("SearchableEntry"))({subtitle:d.cid.toString(),title:d.text,type:d.tid===null?"":d.tid.toString(),uniqueID:d.uid})),c(e,a)})});d.send()}};function a(){"use strict";g.apply(this,arguments)}e.exports=new a()}),null);
__d("ProfileToolsConstants",["keyMirror"],(function(a,b,c,d,e,f){a={AboutActions:b("keyMirror")({ADDRESSCHANGE:null,CATEGORYCHANGE:null,DESCRIPTIONCHANGE:null,NAMECHANGE:null,PHONECHANGE:null}),AlbumActions:b("keyMirror")({COPY:null,DISABLE_BUTTON:null,ENABLE_BUTTON:null,INITIALIZE:null,SELECT:null,SWITCH:null,UNSELECT_ALL:null}),SectionActions:b("keyMirror")({CHANGE_SECTION:null,INITIALIZE:null,NEXT_SECTION:null,PREVIOUS_SECTION:null,SET_SECTION:null})};e.exports=a}),null);
__d("ProfileToolsDispatcher",["ReactDispatcher_DEPRECATED"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("ReactDispatcher_DEPRECATED"));g&&g.prototype;a.prototype.handleAction=function(a){"use strict";this.dispatch({action:a})};function a(){"use strict";g.apply(this,arguments)}e.exports=new a()}),null);
__d("ProfileToolsSection",["invariant"],(function(a,b,c,d,e,f,g){var h={ABOUT:0,FRIENDS:1,ALBUMS:2,nextSection:function(a){switch(a){case h.ABOUT:return h.FRIENDS;case h.FRIENDS:return h.ALBUMS;default:g(0,undefined)}}};e.exports=h}),null);
__d("ProfileToolsStore",["EventEmitter","ProfileToolsConstants","ProfileToolsDispatcher","ProfileToolsSection"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(){"use strict";g.constructor.call(this),this.category=null,this.cityId=null,this.cityName=null,this.copiedAlbumIDs=new Set(),this.description=null,this.dispatchToken=b("ProfileToolsDispatcher").register(this.$ProfileToolsStore1.bind(this)),this.displayCategory=null,this.name=null,this.phone=null,this.section=b("ProfileToolsSection").ABOUT,this.selectedAlbumIDs=new Set(),this.streetAddress=null,this.tag=null,this.zip=null}a.prototype.getSelectedAlbumIDs=function(){"use strict";return this.selectedAlbumIDs};a.prototype.anyAlbumSelected=function(){"use strict";return this.selectedAlbumIDs.size!==0};a.prototype.getCopiedAlbumIDs=function(){"use strict";return this.copiedAlbumIDs};a.prototype.getSection=function(){"use strict";return this.section};a.prototype.getPageName=function(){"use strict";return this.name};a.prototype.getPagePhone=function(){"use strict";return this.phone};a.prototype.getPageDescription=function(){"use strict";return this.description};a.prototype.getPageCategory=function(){"use strict";return this.category};a.prototype.getPageTag=function(){"use strict";return this.tag};a.prototype.getPageDisplayCategory=function(){"use strict";return this.displayCategory};a.prototype.getPageStreetAddress=function(){"use strict";return this.streetAddress};a.prototype.getPageCityId=function(){"use strict";return this.cityId};a.prototype.getPageCityName=function(){"use strict";return this.cityName};a.prototype.getPageZip=function(){"use strict";return this.zip};a.prototype.$ProfileToolsStore1=function(a){"use strict";__p&&__p();a=a.action;switch(a.type){case b("ProfileToolsConstants").AboutActions.NAMECHANGE:this.$ProfileToolsStore2(a.name);break;case b("ProfileToolsConstants").AboutActions.PHONECHANGE:this.$ProfileToolsStore3(a.phone);break;case b("ProfileToolsConstants").AboutActions.DESCRIPTIONCHANGE:this.$ProfileToolsStore4(a.description);break;case b("ProfileToolsConstants").AboutActions.CATEGORYCHANGE:this.$ProfileToolsStore5(a.category,a.tag,a.displayCategory);break;case b("ProfileToolsConstants").AboutActions.ADDRESSCHANGE:this.$ProfileToolsStore6(a.streetAddress,a.cityId,a.cityName,a.zip);break;case b("ProfileToolsConstants").AlbumActions.COPY:this.$ProfileToolsStore7();break;case b("ProfileToolsConstants").AlbumActions.INITIALIZE:this.$ProfileToolsStore8();break;case b("ProfileToolsConstants").AlbumActions.SELECT:this.$ProfileToolsStore9(a.albumIDs);break;case b("ProfileToolsConstants").AlbumActions.SWITCH:this.$ProfileToolsStore10(a.albumID);break;case b("ProfileToolsConstants").AlbumActions.UNSELECT_ALL:this.$ProfileToolsStore11();break;case b("ProfileToolsConstants").SectionActions.INITIALIZE:this.$ProfileToolsStore12();break;case b("ProfileToolsConstants").SectionActions.PREVIOUS_SECTION:this.$ProfileToolsStore13();break;case b("ProfileToolsConstants").SectionActions.NEXT_SECTION:this.$ProfileToolsStore14();break;case b("ProfileToolsConstants").SectionActions.SET_SECTION:this.$ProfileToolsStore15(a.section);break}};a.prototype.$ProfileToolsStore8=function(){"use strict";this.selectedAlbumIDs.clear()};a.prototype.$ProfileToolsStore12=function(){"use strict";this.section=b("ProfileToolsSection").ABOUT};a.prototype.$ProfileToolsStore2=function(a){"use strict";this.name=a};a.prototype.$ProfileToolsStore3=function(a){"use strict";this.phone=a};a.prototype.$ProfileToolsStore4=function(a){"use strict";this.description=a};a.prototype.$ProfileToolsStore5=function(a,b,c){"use strict";this.category=a,this.tag=b,this.displayCategory=c};a.prototype.$ProfileToolsStore6=function(a,b,c,d){"use strict";this.streetAddress=a,this.cityId=b,this.cityName=c,this.zip=d};a.prototype.$ProfileToolsStore13=function(){"use strict";this.section=this.section-1,this.emit(b("ProfileToolsConstants").SectionActions.CHANGE_SECTION)};a.prototype.$ProfileToolsStore14=function(){"use strict";this.section=this.section+1,this.emit(b("ProfileToolsConstants").SectionActions.CHANGE_SECTION)};a.prototype.$ProfileToolsStore15=function(a){"use strict";this.section=a,this.emit(b("ProfileToolsConstants").SectionActions.CHANGE_SECTION)};a.prototype.$ProfileToolsStore7=function(){"use strict";this.selectedAlbumIDs.forEach(function(a){this.copiedAlbumIDs.add(a)}.bind(this)),this.selectedAlbumIDs.clear(),this.emit(b("ProfileToolsConstants").AlbumActions.COPY)};a.prototype.$ProfileToolsStore9=function(a){"use strict";this.selectedAlbumIDs=new Set(a)};a.prototype.$ProfileToolsStore10=function(a){"use strict";this.selectedAlbumIDs.has(a)?(this.selectedAlbumIDs["delete"](a),this.selectedAlbumIDs.size===0&&this.emit(b("ProfileToolsConstants").AlbumActions.DISABLE_BUTTON)):(this.selectedAlbumIDs.add(a),this.selectedAlbumIDs.size===1&&this.emit(b("ProfileToolsConstants").AlbumActions.ENABLE_BUTTON))};a.prototype.$ProfileToolsStore11=function(){"use strict";this.selectedAlbumIDs.clear()};e.exports=new a()}),null);
__d("XP2PFriendMigrationController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/p2p/migrate_friends/",{page_id:{type:"Int"}})}),null);
__d("XPagesP2PAboutAddressSaveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/profile_tools/address/",{})}),null);
__d("XPagesP2PAboutCategorySaveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/profile_tools/category/",{})}),null);
__d("XPagesP2PAboutDescriptionSaveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/profile_tools/description/",{})}),null);
__d("XPagesP2PAboutPhoneSaveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/profile_tools/phone/",{})}),null);
__d("XPagesP2PPhotoAlbumsMigrateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/migrate/albums/",{})}),null);
__d("ProfileToolsActions",["invariant","AsyncRequest","P2PConversionTypedLogger","PagesInviteActions","PagesInviteConstants","PagesInviteDispatcher","ProfileToolsConstants","ProfileToolsDispatcher","ProfileToolsStore","WebAsyncSearchSource","XP2PFriendMigrationController","XPagesP2PAboutAddressSaveController","XPagesP2PAboutCategorySaveController","XPagesP2PAboutDescriptionSaveController","XPagesP2PAboutPhoneSaveController","XPagesP2PPhotoAlbumsMigrateController"],(function(a,b,c,d,e,f,g){__p&&__p();a.prototype.$1=function(a,c,d,e,f){"use strict";__p&&__p();d=new(b("AsyncRequest"))(d.getURIBuilder().getURI()).setData(c).setMethod("POST").setHandler(function(d){__p&&__p();e(d,a);if(d.payload.error===null)switch(a){case"category":b("ProfileToolsDispatcher").handleAction({type:b("ProfileToolsConstants").AboutActions.CATEGORYCHANGE,category:c.page_category,tag:c.page_tag,displayCategory:f});break;case"address":b("ProfileToolsDispatcher").handleAction({type:b("ProfileToolsConstants").AboutActions.ADDRESSCHANGE,streetAddress:c.address,cityId:c.city_id,cityName:c.city_name,zip:c.zip});break;case"phone":b("ProfileToolsDispatcher").handleAction({type:b("ProfileToolsConstants").AboutActions.PHONECHANGE,phone:c.page_phone});break;case"description":b("ProfileToolsDispatcher").handleAction({type:b("ProfileToolsConstants").AboutActions.DESCRIPTIONCHANGE,description:c.page_description});break;default:g(0,undefined,a)}});d.send()};a.prototype.initializeProfileToolsTab=function(){"use strict";b("ProfileToolsDispatcher").handleAction({type:b("ProfileToolsConstants").SectionActions.INITIALIZE})};a.prototype.log=function(event,a){"use strict";var c={event:event,page_id:a};new(b("P2PConversionTypedLogger"))().setPageID(a).setEvent(event).updateData(c).log()};a.prototype.initializeAlbumsSection=function(){"use strict";b("ProfileToolsDispatcher").handleAction({type:b("ProfileToolsConstants").AlbumActions.INITIALIZE})};a.prototype.select=function(a){"use strict";b("ProfileToolsDispatcher").handleAction({type:b("ProfileToolsConstants").AlbumActions.SELECT,albumIDs:a})};a.prototype.selectPreviousSection=function(){"use strict";b("ProfileToolsDispatcher").handleAction({type:b("ProfileToolsConstants").SectionActions.PREVIOUS_SECTION})};a.prototype.selectNextSection=function(){"use strict";b("ProfileToolsDispatcher").handleAction({type:b("ProfileToolsConstants").SectionActions.NEXT_SECTION})};a.prototype.setSection=function(a){"use strict";b("ProfileToolsDispatcher").handleAction({type:b("ProfileToolsConstants").SectionActions.SET_SECTION,section:a})};a.prototype.switchSelection=function(a){"use strict";b("ProfileToolsDispatcher").handleAction({type:b("ProfileToolsConstants").AlbumActions.SWITCH,albumID:a})};a.prototype.unselectAll=function(){"use strict";b("ProfileToolsDispatcher").handleAction({type:b("ProfileToolsConstants").AlbumActions.UNSELECT_ALL})};a.prototype.copyAlbums=function(a){"use strict";var c=b("ProfileToolsStore").getSelectedAlbumIDs(),d=b("XPagesP2PPhotoAlbumsMigrateController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(d).setData({albums:Array.from(c),page_id:a}).setMethod("POST").send();b("ProfileToolsDispatcher").handleAction({type:b("ProfileToolsConstants").AlbumActions.COPY})};a.prototype.migrateFriends=function(a,c){"use strict";new(b("AsyncRequest"))().setURI(b("XP2PFriendMigrationController").getURIBuilder().getURI()).setData({page_id:a,friend_ids:c}).setMethod("POST").setHandler(function(a){var c=new(b("WebAsyncSearchSource"))(a.payload.searchSource.instance);c.getBootstrappedEntries(function(a){b("PagesInviteActions").bootstrapEntries(c.getAllEntriesMap()),b("PagesInviteDispatcher").handleAction({type:b("PagesInviteConstants").Actions.UPDATE_SEARCHSOURCE,searchSource:c})})}).send(),this.selectNextSection()};a.prototype.pageCategoryVerifyAndSave=function(a,c,d,e,f){"use strict";var g=b("XPagesP2PAboutCategorySaveController");a={page_id:a,page_category:c,page_tag:d};this.$1("category",a,g,f,e)};a.prototype.pageAddressVerifyAndSave=function(a,c,d,e,f,g){"use strict";var h=d===null?null:d.name;d=d===null?null:d.key;var i=b("XPagesP2PAboutAddressSaveController");c={address:c,city_name:h,city_id:d,zip:e,page_id:a,page_category:f};this.$1("address",c,i,g)};a.prototype.pageDescriptionVerifyAndSave=function(a,c,d){"use strict";var e=b("XPagesP2PAboutDescriptionSaveController");a={page_id:a,page_description:c};this.$1("description",a,e,d)};a.prototype.pagePhoneVerifyAndSave=function(a,c,d){"use strict";var e=b("XPagesP2PAboutPhoneSaveController");a={page_id:a,page_phone:c};this.$1("phone",a,e,d)};function a(){"use strict"}e.exports=new a()}),null);
__d("ProfileToolsSectionFooterMixin",["cx","fbt","ProfileToolsActions","React","XUIButton.react"],(function(a,b,c,d,e,f,g,h){a={_renderBackButton:function(){return this._hasBackButton()?b("React").createElement("div",{className:"_vfb"},b("React").createElement(b("XUIButton.react"),{label:h._("Back"),onClick:function(){b("ProfileToolsActions").selectPreviousSection()},size:"xlarge"})):null},_renderSkipButton:function(){return this._hasSkipButton()?b("React").createElement("div",{className:"_4rut"},b("React").createElement(b("XUIButton.react"),{label:h._("Skip"),onClick:function(){b("ProfileToolsActions").selectNextSection()},size:"xlarge"})):null},_renderActionButton:function(){return b("React").createElement("div",{className:"_vfc"},b("React").createElement(b("XUIButton.react"),{disabled:Boolean(this.state.buttonDisabled),label:this._getActionButtonLabel(),onClick:function(){return this._onClickAction()}.bind(this),size:"xlarge",use:"confirm"}))},_renderFooter:function(){return b("React").createElement("div",{className:"_4rur"},this._renderBackButton(),b("React").createElement("div",{className:"rfloat"},this._renderSkipButton(),this._renderActionButton()))}};e.exports=a}),null);
__d("XPageNameChangeEditController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/rename/",{page_id:{type:"Int",required:!0},previous_name:{type:"String"},entry:{type:"String"},__asyncDialog:{type:"Int"}})}),null);
__d("ProfileToolsConvertAboutSection.react",["cx","fbt","invariant","AsyncRequest","BUIForm.react","BUIFormTextInput.react","CategorySearchSource","City","FBCityTypeahead.react","Image.react","Layout.react","LoadingIndicator.react","P2PEvent","ProfileToolsActions","ProfileToolsSectionFooterMixin","ProfileToolsStore","React","ReactDOM","SimpleAddress","XPageNameChangeEditController","XUIAbstractGlyphButton.react","XUIButton.react","XUINotice.react","XUIText.react","XUITextInput.react","XUITypeahead.react"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=b("Layout.react").Column,k=b("Layout.react").FillColumn;a=b("React").PropTypes;var l=Object.freeze({CATEGORY:"Category",NAME:"Name",ADDRESS:"Address",PHONE_NUMBER:"Phone Number",DESCRIPTION:"Short Description"});c=b("React").createClass({displayName:"ProfileToolsConvertAboutSection",mixins:[b("ProfileToolsSectionFooterMixin")],propTypes:{pageCategoryId:a.string.isRequired,pageCityName:a.string.isRequired,pageCityId:a.string.isRequired,pageDisplayCategoryName:a.string.isRequired,pageId:a.string.isRequired,pageName:a.string.isRequired,pagePhone:a.string.isRequired,pageShortDescription:a.string.isRequired,pageStreetAddress:a.string.isRequired,pageTagId:a.string.isRequired,pageZip:a.string.isRequired},getInitialState:function(){return{address:this._getInitialAddress(),categoryId:this.props.pageCategoryId,displayAddress:this._getInitialAddress(),displayCategory:this.props.pageDisplayCategoryName,displayDescription:this.props.pageShortDescription,displayName:this.props.pageName,displayPhone:this.props.pagePhone,saveChangeError:"",showLoadingIndicator:!1,tagId:this.props.pageTagId,disableSaveButton:!0}},_getInitialAddress:function(){return new(b("SimpleAddress"))({street:this.props.pageStreetAddress,city:this.props.pageCityId==0||this.props.pageCityName==""?null:new(b("City"))(this.props.pageCityId,this.props.pageCityName),zip:this.props.pageZip})},UNSAFE_componentWillMount:function(){__p&&__p();b("ProfileToolsActions").log(b("P2PEvent").ABOUT_SECTION_VISIT,this.props.pageId);var a=b("ProfileToolsStore").getPageName();a!==null&&this.setState({displayName:a});a=b("ProfileToolsStore").getPageCategory();var c=b("ProfileToolsStore").getPageTag(),d=b("ProfileToolsStore").getPageDisplayCategory();d!==null&&this.setState({categoryId:a,displayCategory:d,tagId:c});a=this.state.displayAddress;d=b("ProfileToolsStore").getPageStreetAddress();d!==null&&(a=a.set("street",d));c=b("ProfileToolsStore").getPageCityId();d=b("ProfileToolsStore").getPageCityName();if(d!==null){c=new(b("City"))(c,d);a=a.set("city",c)}d=b("ProfileToolsStore").getPageZip();d!==null&&(a=a.set("zip",d));this.setState({displayAddress:a});c=b("ProfileToolsStore").getPagePhone();c!==null&&this.setState({displayPhone:c});d=b("ProfileToolsStore").getPageDescription();d!==null&&this.setState({displayDescription:d})},_renderRow:function(a){return this.state.activeField==a?this._renderEditableRowBody(a):this._renderNonEditableRowBody(a)},_renderRowName:function(a){__p&&__p();var b;switch(a){case l.CATEGORY:b=h._("Category");break;case l.NAME:b=h._("Name");break;case l.ADDRESS:b=h._("Address");break;case l.PHONE_NUMBER:b=h._("Phone Number");break;case l.DESCRIPTION:b=h._("Short Description");break;default:i(0,undefined)}return b},_renderEditableRowBody:function(a){__p&&__p();var c;switch(a){case l.CATEGORY:c=this._renderEditableCategoryRow;break;case l.NAME:c=this._renderEditableNameRow;return b("React").createElement("div",null,c(),this._renderNonEditableRowBody(a));case l.ADDRESS:c=this._renderEditableAddressRow;break;case l.PHONE_NUMBER:c=this._renderEditablePhoneNumberRow;break;case l.DESCRIPTION:c=this._renderEditableDescriptionRow;break;default:i(0,undefined)}var d=(this.state.showLoadingIndicator?"":"hidden_elem")+" mtm mlm";return b("React").createElement("div",{className:"_5s29"},b("React").createElement(b("Layout.react"),null,b("React").createElement(j,{className:"_3z5x"},b("React").createElement(b("XUIText.react"),{className:"_5s2i",size:"header4"},this._renderRowName(a))),b("React").createElement(k,null,c(),b("React").createElement("div",{className:"_3z5y"}),b("React").createElement(b("Layout.react"),null,b("React").createElement(j,null,b("React").createElement(b("XUIButton.react"),{className:"_jea",disabled:this.state.disableSaveButton,label:h._("Save Changes"),onClick:function(){return this._saveChanges(a)}.bind(this),use:"confirm"})),b("React").createElement(j,{className:d},b("React").createElement(b("LoadingIndicator.react"),{color:"white",size:"small"}))))))},_saveChanges:function(a){__p&&__p();this.setState({showLoadingIndicator:!0});switch(a){case l.CATEGORY:this._saveChangesCategoryProcessor();break;case l.NAME:this._saveChangesNameProcessor();break;case l.ADDRESS:this._saveChangesAddressProcessor();break;case l.PHONE_NUMBER:this._saveChangesPhoneNumberProcessor();break;case l.DESCRIPTION:this._saveChangesDescriptionProcessor();break;default:i(0,undefined)}},_renderNonEditableRowBody:function(a){__p&&__p();var c,d=b("React").createElement(b("Image.react"),{className:"_17z8",src:"/images/mobile/platform/dialog/oauth/blue_pencil.png"}),e="_5s2j";this.state.showLoadingIndicator&&(e="_5s2j _7k_");switch(a){case l.CATEGORY:c=this._renderNonEditableCategoryRow;break;case l.NAME:c=this._renderNonEditableNameRow;break;case l.ADDRESS:c=this._renderNonEditableAddressRow;break;case l.PHONE_NUMBER:c=this._renderNonEditablePhoneNumberRow;break;case l.DESCRIPTION:c=this._renderNonEditableDescriptionRow;break;default:i(0,undefined)}return b("React").createElement("div",{className:e},b("React").createElement(b("Layout.react"),{onClick:function(){return this._switchRow(a)}.bind(this)},b("React").createElement(j,{className:"_3z5z"},b("React").createElement(b("XUIText.react"),{className:"_5s2k",size:"header4"},this._renderRowName(a))),b("React").createElement(k,null,c()),b("React").createElement(j,null,b("React").createElement(b("XUIAbstractGlyphButton.react"),{image:d,label:"Edit",onClick:function(){return this._switchRow(a)}.bind(this),title:"Edit"}),b("React").createElement(b("XUIText.react"),{className:"_17z9",display:"inline",onClick:function(){return this._switchRow(a)}.bind(this),size:"meta1"},h._("Edit")))))},_switchRow:function(a){this.setState({activeField:a,address:this.state.displayAddress,categoryId:this.props.pageCategoryId,disableSaveButton:!0,queryCategory:this.state.displayCategory,saveChangeError:"",tagId:this.props.pageTagId})},_renderNonEditableCategoryRow:function(){return b("React").createElement("div",{className:"_1nvc"},this.state.displayCategory)},_renderNonEditableNameRow:function(){return b("React").createElement("div",{className:"_1nvc"},this.state.displayName)},_renderNonEditableAddressRow:function(){var a=this.state.displayAddress.street!=""&&this.state.displayAddress.city!=null?", ":null,c=this.state.displayAddress.city==null?"":this.state.displayAddress.city.name,d=this.state.displayAddress.city!=null&&this.state.displayAddress.zip!=""?", ":null,e=this.state.displayAddress.street!=""&&this.state.displayAddress.zip!=""&&this.state.displayAddress.city==null?", ":null;return b("React").createElement("div",{className:"_1nvc"},h._("{street}{comma_1}{city}{comma_2}{comma_3}{zip}",[h._param("street",this.state.displayAddress.street),h._param("comma_1",a),h._param("city",c),h._param("comma_2",d),h._param("comma_3",e),h._param("zip",this.state.displayAddress.zip)]))},_renderNonEditablePhoneNumberRow:function(){return b("React").createElement("div",{className:"_1nvc"},this.state.displayPhone)},_renderNonEditableDescriptionRow:function(){return b("React").createElement("div",{className:"_1nvc"},this.state.displayDescription)},_renderEditableCategoryRow:function(){return b("React").createElement("div",null,this.state.saveChangeError,b("React").createElement(b("XUITypeahead.react"),{className:"_3z5-",clearable:!0,onChange:this._onCategoryChange,onClear:this._onCategoryClear,onSelectAttempt:this._onCategorySelect,placeholder:"Search for categories",queryString:this.state.queryCategory,searchSource:b("CategorySearchSource"),viewStyle:"textonly"}))},_onCategorySelect:function(a){this.setState({queryCategory:a.getTitle(),categoryId:a.getSubtitle(),tagId:a.getType()})},_onCategoryChange:function(event){this.setState({queryCategory:event.target.value,disableSaveButton:!1})},_onCategoryClear:function(){this.setState({queryCategory:"",categoryId:"",tagId:""})},_renderEditableNameRow:function(){var a=b("XPageNameChangeEditController").getURIBuilder().setInt("page_id",this.props.pageId).getURI();new(b("AsyncRequest"))().setURI(a).send();return},_renderEditableAddressRow:function(){return b("React").createElement("div",null,this.state.saveChangeError,b("React").createElement(b("BUIForm.react"),{density:"taut",labelPosition:"left"},this._renderStreet(),this._renderCity(),this._renderZip()))},_renderStreet:function(){return b("React").createElement("div",{className:"_1nvd"},b("React").createElement(b("XUIText.react"),{className:"_1nve"},h._("Address")),b("React").createElement(b("BUIFormTextInput.react"),{className:"_17zb",onChange:this._onStreetChange,value:this.state.address.street||""}))},_renderCity:function(){return b("React").createElement("div",{className:"_1nvd"},b("React").createElement(b("XUIText.react"),{className:"_1nve"},h._("City\/Town")),b("React").createElement(b("FBCityTypeahead.react"),{className:"_1nvf",onChange:this._onCityChange,tallInput:!1,value:this.state.address.city}))},_renderZip:function(){return b("React").createElement("div",{className:"_1nvd"},b("React").createElement(b("XUIText.react"),{className:"_1nve"},h._("ZIP Code")),b("React").createElement(b("BUIFormTextInput.react"),{className:"_17zb",onChange:this._onZipChange,value:this.state.address.zip}))},_onStreetChange:function(event){var a=event.target.value;this.setState({address:this.state.address.set("street",a),disableSaveButton:!1})},_onCityChange:function(a){this.setState({address:this.state.address.set("city",a),disableSaveButton:!1})},_onZipChange:function(event){var a=event.target.value;this.setState({address:this.state.address.set("zip",a),disableSaveButton:!1})},_renderEditablePhoneNumberRow:function(){return b("React").createElement("div",null,this.state.saveChangeError,b("React").createElement(b("XUITextInput.react"),{className:"_17za",defaultValue:this.state.displayPhone,ref:"phoneInput",onChange:function(){return this.setState({disableSaveButton:!1})}.bind(this)}))},_renderEditableDescriptionRow:function(){return b("React").createElement("div",null,this.state.saveChangeError,b("React").createElement("textarea",{className:"_17zc",defaultValue:this.state.displayDescription,rows:"5",maxLength:"155",ref:"descriptionInput",onChange:function(){return this.setState({disableSaveButton:!1})}.bind(this)}))},_saveChangesCategoryProcessor:function(){b("ProfileToolsActions").pageCategoryVerifyAndSave(this.props.pageId,this.state.categoryId,this.state.tagId,this.state.queryCategory,this._setErrorMessage)},_saveChangesNameProcessor:function(){b("ProfileToolsActions").pageNameVerifyAndSave(this.props.pageId,this.refs.nameInput.refs.textInput.getValue(),this._setErrorMessage)},_saveChangesAddressProcessor:function(){b("ProfileToolsActions").pageAddressVerifyAndSave(this.props.pageId,this.state.address.street,this.state.address.city,this.state.address.zip,this.state.categoryId,this._setErrorMessage)},_saveChangesPhoneNumberProcessor:function(){b("ProfileToolsActions").pagePhoneVerifyAndSave(this.props.pageId,this.refs.phoneInput.refs.textInput.getValue(),this._setErrorMessage)},_saveChangesDescriptionProcessor:function(){b("ProfileToolsActions").pageDescriptionVerifyAndSave(this.props.pageId,b("ReactDOM").findDOMNode(this.refs.descriptionInput).value,this._setErrorMessage)},_setErrorMessage:function(a,c){__p&&__p();a=a.payload.error;var d=b("React").createElement("div",null);if(a!==null)(c==="name"||c==="category"||c==="description")&&(a=b("React").createElement("div",{dangerouslySetInnerHTML:a})),d=b("React").createElement(b("XUINotice.react"),{className:"_17zd",size:"small",use:"warn"},a);else switch(c){case"name":this.setState({displayName:this.refs.nameInput.refs.textInput.getValue(),activeField:""});break;case"category":this.setState({displayCategory:this.state.queryCategory,activeField:""});break;case"address":this.setState({displayAddress:this.state.address,activeField:""});break;case"phone":this.setState({displayPhone:this.refs.phoneInput.refs.textInput.getValue(),activeField:""});break;case"description":this.setState({displayDescription:b("ReactDOM").findDOMNode(this.refs.descriptionInput).value,activeField:""});break;default:i(0,undefined,c)}this.setState({showLoadingIndicator:!1,saveChangeError:d})},render:function(){return b("React").createElement("div",null,b("React").createElement("div",{className:"_14ko"},this._renderRow(l.CATEGORY),this._renderRow(l.NAME),this._renderRow(l.ADDRESS),this._renderRow(l.PHONE_NUMBER),this._renderRow(l.DESCRIPTION)),this._renderFooter())},_getActionButtonLabel:function(){return h._("Next")},_hasBackButton:function(){return!1},_hasSkipButton:function(){return!1},_onClickAction:function(){b("ProfileToolsActions").selectNextSection()}});e.exports=c}),null);
__d("ProfileToolsPhotoAlbumUnit.react",["ix","cx","fbt","xuiglyph","CroppedImage.react","Image.react","ProfileToolsActions","React"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k;c=b("React").PropTypes;var l={checkbox:"_2x4m",checkedBorder:"_2x4n",count:"_2x4o",input:"_2x4p",posRelative:"_2x4r",title:"_2x4s",unit:"_2x4t",unitBottom:"_2x4u"};d=babelHelpers.inherits(a,b("React").Component);k=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=k.constructor).call.apply(a,[this].concat(e)),this.state={selected:this.props.selected},this.$1=function(){this.setState({selected:!this.state.selected}),b("ProfileToolsActions").switchSelection(this.props.id)}.bind(this),c}a.prototype.render=function(){"use strict";var a=b("React").createElement(b("CroppedImage.react"),{crop:this.props.crop,size:this.props.size,src:this.props.src}),c=b("React").createElement("div",{className:l.unitBottom,style:{width:this.props.crop.width}},b("React").createElement("div",{className:l.title},this.props.name),b("React").createElement("div",{className:l.count},i._({"*":{"Photo":"{count} Photo","Photos":"{count} Photos"}},[i._param("count",this.props.count,[0]),i._enum(this.props.count===1?"Photo":"Photos",{Photo:"Photo",Photos:"Photos"})]))),d=g("88844");d=b("React").createElement("div",{className:l.checkedBorder},b("React").createElement("div",{className:l.checkbox},b("React").createElement(b("Image.react"),{src:d})));a=b("React").createElement("div",{className:l.unit},a,c,d);c="input".concat(this.props.id);return b("React").createElement("div",null,b("React").createElement("input",{className:l.input,checked:this.state.selected,name:c,type:"checkbox"}),b("React").createElement("label",{htmlFor:c,onClick:function(){return this.$1()}.bind(this)},a))};a.propTypes={count:c.number.isRequired,crop:c.shape({height:c.number.isRequired,width:c.number.isRequired}).isRequired,id:c.string.isRequired,name:c.string.isRequired,selected:c.bool.isRequired,size:c.shape({height:c.number.isRequired,width:c.number.isRequired}).isRequired,src:c.string.isRequired};e.exports=a}),null);
__d("ProfileToolsConvertAlbumsSection.react",["cx","fbt","BusinessURI.brands","Grid.react","Image.react","ImageBlock.react","P2PEvent","PageTransitions","ProfileToolsActions","ProfileToolsConstants","ProfileToolsPhotoAlbumUnit.react","ProfileToolsSectionFooterMixin","ProfileToolsStore","React","ScrollableArea.react","SubscriptionsHandler","XPagesProfileHomeController","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"ProfileToolsConvertAlbumsSection",mixins:[b("ProfileToolsSectionFooterMixin")],propTypes:{crop:a.object.isRequired,pageID:a.string.isRequired,photoAlbums:a.object.isRequired},getInitialState:function(){return{nonCopiedPhotoAlbums:this.props.photoAlbums,showConfirmationModal:!1,selected:!1}},UNSAFE_componentWillMount:function(){b("ProfileToolsActions").log(b("P2PEvent").ALBUMS_SECTION_VISIT,this.props.pageID),b("ProfileToolsActions").initializeAlbumsSection(),this._excludeCopiedAlbums(!1),this._subscriptions=new(b("SubscriptionsHandler"))(),this._subscriptions.addSubscriptions(b("ProfileToolsStore").addListener(b("ProfileToolsConstants").AlbumActions.COPY,function(){return this._excludeCopiedAlbums(!0)}.bind(this)))},componentWillUnmount:function(){this._subscriptions.release()},_excludeCopiedAlbums:function(a){var c=b("ProfileToolsStore").getCopiedAlbumIDs(),d={},e=!1;if(c.size>0)for(var f in this.state.nonCopiedPhotoAlbums)c.has(f)?e=!0:d[f]=this.state.nonCopiedPhotoAlbums[f];e&&this.setState({nonCopiedPhotoAlbums:d,showConfirmationModal:a})},render:function(){return b("React").createElement("div",null,b("React").createElement("div",{className:"_14ko"},b("React").createElement("div",{className:"_10em"},b("React").createElement("div",{className:"_2pig"},b("React").createElement("div",{className:"_14kq"},h._({"*":"Photo Albums ({count})"},[h._param("count",Object.keys(this.state.nonCopiedPhotoAlbums).length,[0])])),this._renderSectionBody()))),this._renderFooter(),this.renderLayers())},_getSectionHeader:function(a,c){return b("React").createElement(b("ImageBlock.react"),null,b("React").createElement(b("Image.react"),{src:"https://graph.facebook.com/4/picture"}),b("React").createElement("div",{className:"_2pis"},b("React").createElement("div",{className:"_14kr"},a),b("React").createElement("div",{className:"_14ks"},c)))},renderLayers:function(){return b("React").createElement(b("XUIDialog.react"),{shown:this.state.showConfirmationModal,width:300,key:"dialog"},b("React").createElement(b("XUIDialogBody.react"),null,h._("We're copying the info you selected to your Page. It may take a few minutes for photo albums to appear.")),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogOkayButton.react"),{action:"button",onClick:this._redirectToPageTimeline,use:"confirm"})))},_redirectToPageTimeline:function(){var a=b("XPagesProfileHomeController").getURIBuilder().setString("page_token",this.props.pageID).getURI();a=b("BusinessURI.brands")(a);b("PageTransitions").go(a,!0)},_renderSectionBody:function(){var a=Object.keys(this.state.nonCopiedPhotoAlbums).map(function(a){return b("React").createElement("div",{className:"_3-97",key:a},b("React").createElement(b("ProfileToolsPhotoAlbumUnit.react"),{count:this.state.nonCopiedPhotoAlbums[a].count,crop:this.props.crop,id:a,name:this.state.nonCopiedPhotoAlbums[a].name,selected:this.state.selected,size:this.state.nonCopiedPhotoAlbums[a].size,src:this.state.nonCopiedPhotoAlbums[a].src}))}.bind(this));return b("React").createElement(b("ScrollableArea.react"),{fade:!0,height:290},b("React").createElement(b("Grid.react"),{cols:6,spacing:"_2j3o"},a))},_getActionButtonLabel:function(){return h._("Finish")},_onClickAction:function(){b("ProfileToolsStore").anyAlbumSelected()?b("ProfileToolsActions").copyAlbums(this.props.pageID):this._redirectToPageTimeline()},_hasSkipButton:function(){return!1},_hasBackButton:function(){return!0},_onClickCancel:function(){b("ProfileToolsActions").unselectAll(),this.setState({showConfirmationModal:!1,selected:!1})},_onClickSelectAll:function(){b("ProfileToolsActions").select(Object.keys(this.state.nonCopiedPhotoAlbums)),this.setState({showConfirmationModal:!1,selected:!0})}});e.exports=c}),null);
__d("ProfileToolsConvertFriendsSection.react",["cx","fbt","AsyncRequest","Link.react","P2PEvent","PagesInviteConstants","PagesInviteDialog.react","PagesInviteDialogStore","ProfileToolsActions","ProfileToolsSectionFooterMixin","React","SubscriptionsHandler","WebAsyncSearchSource","XUINotice.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("React").PropTypes;c=b("React").createClass({displayName:"ProfileToolsConvertFriendsSection",mixins:[b("ProfileToolsSectionFooterMixin")],propTypes:{filterGroups:a.arrayOf(a.object).isRequired,friendsRestriction:a.bool.isRequired,isPublished:a.bool.isRequired,loggingData:a.object.isRequired,pageID:a.string.isRequired,searchSource:a.instanceOf(b("WebAsyncSearchSource")).isRequired,showSelectAll:a.bool.isRequired},getInitialState:function(){return{searchSource:this.props.searchSource,selectedEntries:[],buttonDisabled:!0,isPublished:this.props.isPublished}},UNSAFE_componentWillMount:function(){b("ProfileToolsActions").log(b("P2PEvent").FRIENDS_SECTION_VISIT,this.props.pageID);var a=b("PagesInviteDialogStore").getSearchSource();a!==null&&this.setState({searchSource:a});this._subscriptions=new(b("SubscriptionsHandler"))();this._subscriptions.addSubscriptions(b("PagesInviteDialogStore").addListener(b("PagesInviteConstants").Events.CHANGE,function(){return b("PagesInviteDialogStore").getSelectedEntries(function(a){this.isMounted()&&this.setState({selectedEntries:a,buttonDisabled:a.size===0})}.bind(this))}.bind(this)))},componentDidMount:function(){b("PagesInviteDialogStore").getSelectedEntries(function(a){return this.setState({selectedEntries:a,buttonDisabled:a.size===0})}.bind(this))},render:function(){var a=b("React").createElement("div",null),c=h._("Search for friends");a=b("React").createElement(b("PagesInviteDialog.react"),{filterGroups:this.props.filterGroups,friendsRestriction:this.props.friendsRestriction,height:335,loggingData:this.props.loggingData,pageID:this.props.pageID,parent:a,searchBarPlaceholder:c,searchSource:this.state.searchSource,showSelectAll:this.props.showSelectAll});var d;c="_14ko";this.state.isPublished||(d=b("React").createElement(b("XUINotice.react"),{className:"_3-8i",size:"small",use:"warn"},h._("You can't convert friends into people who like your Page because your Page is currently unpublished. {publish your Page}.",[h._param("publish your Page",b("React").createElement(b("Link.react"),{onClick:function(){return this._publishPage()}.bind(this)},h._("Publish your Page")))])),c="_14ko _50w9");return b("React").createElement("div",null,d,b("React").createElement("div",{className:c},b("React").createElement("div",null,a)),this._renderFooter())},_publishPage:function(){this.setState({isPublished:!0}),new(b("AsyncRequest"))().setURI("/ajax/pages/toggle_publish_mode.php").setData({page_id:this.props.pageID,mode:1}).send()},_hasSkipButton:function(){return!0},_hasBackButton:function(){return!0},_getActionButtonLabel:function(){return h._("Next")},_onClickAction:function(){var a=[];this.state.selectedEntries.map(function(b){a.push(b.getUniqueID())});b("ProfileToolsActions").migrateFriends(this.props.pageID,a)}});e.exports=c}),null);
__d("ProfileToolsTopNavigation.react",["cx","fbt","FBStepsProgressBar.react","ProfileToolsActions","React","XUICard.react","XUICardSection.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=b("React").PropTypes;var j=[h._("About"),h._("Friends"),h._("Photos")];i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){"use strict";return b("React").createElement(b("XUICard.react"),null,b("React").createElement(b("XUICardSection.react"),null,b("React").createElement("div",{className:"_2pi6"},b("React").createElement(b("FBStepsProgressBar.react"),{onStepSelect:function(a){b("ProfileToolsActions").setSection(a)},steps:j,selectedIndex:this.props.section}))))};function a(){"use strict";i.apply(this,arguments)}a.propTypes={section:c.number.isRequired};e.exports=a}),null);
__d("ProfileToolsTab.react",["cx","fbt","invariant","DOMScroll","Layout.react","ProfileToolsActions","ProfileToolsConstants","ProfileToolsConvertAboutSection.react","ProfileToolsConvertAlbumsSection.react","ProfileToolsConvertFriendsSection.react","ProfileToolsSection","ProfileToolsStore","ProfileToolsTopNavigation.react","React","StickyArea.react","SubscriptionsHandler","XUICard.react"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();b("Layout.react").Column;a=b("React").PropTypes;c=b("React").createClass({displayName:"ProfileToolsTab",propTypes:{aboutConfig:a.object.isRequired,albumsConfig:a.object.isRequired,friendsConfig:a.object.isRequired,pageID:a.string.isRequired,section:a.number.isRequired},sectionContent:[{description:h._("Add details to help people find this Page when they search."),title:h._("About Your Page")},{description:h._("The friends you choose from your profile will automatically like your new Page."),title:h._("Choose Friends to Like Your Page")},{actionButtonLabel:h._("Copy"),description:h._("Choose which photo albums you'd like to copy from your profile to your Page."),title:h._("Add Photo Albums to Your Page")}],UNSAFE_componentWillMount:function(){b("ProfileToolsActions").initializeProfileToolsTab(),this._subscriptions=new(b("SubscriptionsHandler"))(),this._subscriptions.addSubscriptions(b("ProfileToolsStore").addListener(b("ProfileToolsConstants").SectionActions.CHANGE_SECTION,function(){b("DOMScroll").scrollToTop(!0);var a=b("ProfileToolsStore").getSection();this.setState({activeSection:a})}.bind(this)))},componentWillUnmount:function(){this._subscriptions.release()},getInitialState:function(){return{activeSection:this.props.section}},render:function(){return b("React").createElement("div",null,b("React").createElement(b("StickyArea.react"),null,b("React").createElement("div",null,b("React").createElement("div",{className:"_5w2o"}),b("React").createElement(b("ProfileToolsTopNavigation.react"),{section:this.state.activeSection}))),b("React").createElement(b("XUICard.react"),{className:"_3-8y"},this._renderSectionHeader(),this._renderSectionBody()))},_renderSectionHeader:function(){return b("React").createElement("div",{className:"_14kp"},b("React").createElement("div",{className:"_14kr"},this.sectionContent[this.state.activeSection].title),b("React").createElement("div",{className:"_14ks"},this.sectionContent[this.state.activeSection].description))},_renderSectionBody:function(){switch(this.state.activeSection){case b("ProfileToolsSection").ABOUT:return b("React").createElement(b("ProfileToolsConvertAboutSection.react"),{pageCategoryId:this.props.aboutConfig.pageCategoryId,pageCityName:this.props.aboutConfig.pageCityName,pageCityId:this.props.aboutConfig.pageCityId,pageDisplayCategoryName:this.props.aboutConfig.pageDisplayCategoryName,pageId:this.props.pageID,pageName:this.props.aboutConfig.pageName,pagePhone:this.props.aboutConfig.pagePhone,pageShortDescription:this.props.aboutConfig.pageShortDescription,pageStreetAddress:this.props.aboutConfig.pageStreetAddress,pageTagId:this.props.aboutConfig.pageTagId,pageZip:this.props.aboutConfig.pageZip});case b("ProfileToolsSection").FRIENDS:return b("React").createElement(b("ProfileToolsConvertFriendsSection.react"),{filterGroups:this.props.friendsConfig.filterGroups,friendsRestriction:this.props.friendsConfig.friendsRestriction,isPublished:this.props.friendsConfig.isPublished,loggingData:this.props.friendsConfig.loggingData,pageID:this.props.pageID,searchSource:this.props.friendsConfig.searchSource,showSelectAll:this.props.friendsConfig.showSelectAll});case b("ProfileToolsSection").ALBUMS:return b("React").createElement(b("ProfileToolsConvertAlbumsSection.react"),{crop:this.props.albumsConfig.crop||{},pageID:this.props.pageID,photoAlbums:this.props.albumsConfig.photoAlbums||{}});default:i(0,undefined)}}});e.exports=c}),null);