if (self.CavalryLogger) { CavalryLogger.start_js(["VT6WX"]); }

__d("LiveVideoBroadcastAPIRHCContainer.react",["cx","fbt","ComposerEntryPointRef","FluxContainer","LiveVideoBroadcastActions","LiveVideoBroadcastAPIBroadcastStore","LiveVideoBroadcastAPIGoLiveButtonContainer.react","LiveVideoBroadcastBroadcastStore","LiveVideoBroadcastComposerRHC.react","LiveVideoBroadcastCrosspostStore","LiveVideoBroadcastIDStore","LiveVideoBroadcastMetadataInputStore","LiveVideoBroadcastUIStore","React","VideoCopyrightRuleTemplateBlankSelectDialog","XUIButton.react","gkx","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$3=function(){this.state.targetID&&b("VideoCopyrightRuleTemplateBlankSelectDialog").show(this.state.targetID,this.state.accessToken,null)}.bind(this),c}a.getStores=function(){return[b("LiveVideoBroadcastBroadcastStore"),b("LiveVideoBroadcastUIStore"),b("LiveVideoBroadcastAPIBroadcastStore"),b("LiveVideoBroadcastIDStore"),b("LiveVideoBroadcastCrosspostStore"),b("LiveVideoBroadcastMetadataInputStore")]};a.calculateState=function(){__p&&__p();var a=b("LiveVideoBroadcastUIStore").getState().toObject(),c=a.accessToken,d=a.areCountriesIncluded,e=a.broadcastState,f=a.canEnableLiveCoverVideo,g=a.canEnableRewind,h=a.canSeeDisturbingOptions,i=a.commentModes,j=a.composerConfig,k=a.countdownTime,l=a.encoders,m=a.fundraiserEnabled,n=a.inputSource,o=a.isLiveCoverVideoEnabled,p=a.isRewindEnabled,q=a.gks,r=a.isShowPage,s=a.ownershipCountries,t=a.peopleTaggerSource,u=a.profilePicUri,v=a.selectedEncoderName,w=a.selectedEncoderType,x=a.selectedRHCTab,y=a.shareMode,z=a.sponsorConfig,A=a.sponsorEnabled,B=a.targetSelectorProps,C=a.targetingEnabled;a=a.pageLiveCoverVideoData;var D=b("LiveVideoBroadcastUIStore").getState().toObject();D=D.canSeeCopyrightOption;var E=b("LiveVideoBroadcastMetadataInputStore").getState().toObject(),F=q&&q.enable_attach_game_from_pubx,G=q&&q.show_breaking_news,H=q&&q.can_see_crossposting_option,I=q&&q.can_see_ig_matches,J=q&&q.can_see_moderation_options,K=q&&q.use_composer_v2,L=q&&q.enable_content_protection;q=q&&q.show_tools_tab;var M=b("LiveVideoBroadcastAPIBroadcastStore").getState().toObject(),N=M.apiBroadcastID,O=M.apiEmbedHTML,P=M.apiComposerPrivacySelector,Q=M.copyrightMonitoringType,R=M.copyrightRuleID,S=M.copyrightWhitelistedFBUsers,T=M.copyrightWhitelistedIGUserNames,U=M.errorCount,V=M.is360Audio,W=M.is360Video,X=M.isContentProtectionEnabled,Y=M.isContinuous,aa=M.isCopyrighted,ba=M.isEmbeddable,ca=M.isSingleFisheye,da=M.selectedCategory,ea=M.shouldExpireAfterGoLive,fa=M.shouldShowGraphicContentWarning,ga=M.singleFisheyeFOV;M=M.sphericalConfigSelectorValue;var Z=b("LiveVideoBroadcastBroadcastStore").getState().toObject(),ha=Z.accountID,ia=Z.actorID,ja=Z.targetID;Z=Z.isCrosspost;var ka=b("LiveVideoBroadcastIDStore").get("videoID"),$=b("LiveVideoBroadcastCrosspostStore").getState().toObject(),la=$.crosspostingConfig;$=$.shouldShowCrosspostingNux;var ma=b("LiveVideoBroadcastCrosspostStore").hasRemovedCrosspostPages();return{accessToken:c,accountID:ha,actorID:ia,apiComposerPrivacySelector:P,apiEmbedHTML:O,areCountriesIncluded:d,areModerationOptionsShown:J,broadcastState:e,canEnableLiveCoverVideo:f,canEnableRewind:g,canSeeCopyrightOption:D,canSeeCrosspostingOption:H,canSeeDisturbingOptions:h,canSeeIGMatches:I,commentModes:i,composerConfig:j,copyrightMonitoringType:Q,copyrightRuleID:R,copyrightWhitelistedFBUsers:S,copyrightWhitelistedIGUserNames:T,crosspostingConfig:la,fundraiserEnabled:m,peopleTaggerSource:t,apiBroadcastID:N,countdownTime:k,enableAttachGameDropdown:F,encoders:l,hasRemovedCrosspostPages:ma,inputSource:n,is360Audio:V,is360Video:W,isContinuous:Y,isCopyrighted:aa,isEmbeddable:ba,isLiveCoverVideoEnabled:!!o,isRewindEnabled:p,isShowPage:r,isSingleFisheye:ca,metadataConfig:E,ownershipCountries:s,pageLiveCoverVideoData:a,profilePicUri:u,targetSelectorProps:B,selectedCategory:da,selectedEncoderName:v,selectedEncoderType:w,selectedRHCTab:x,shareMode:y,shouldExpireAfterGoLive:ea,shouldShowCrosspostingNux:$,shouldShowGraphicContentWarning:fa,showBreakingNews:G,showToolsTab:q,singleFisheyeFOV:ga,sphericalConfigSelectorValue:M,sponsorConfig:z,sponsorEnabled:A,targetID:ja,targetingEnabled:C,errorCount:U,videoID:ka,isCrosspost:!!Z,useComposerV2:K,isContentProtectionEnabled:X,canEnableContentProtection:L}};a.prototype.$1=function(){b("LiveVideoBroadcastActions").setShowSaveChangesDialog(!0)};a.prototype.$2=function(){b("LiveVideoBroadcastActions").cleanup()};a.prototype.render=function(){if(!this.state.composerConfig)return null;var a=this.state.inputSource==="EDIT_SCHEDULE"&&this.state.isCrosspost,c=this.state.inputSource==="EDIT_SCHEDULE"&&!a?b("React").createElement(b("LiveVideoBroadcastAPIGoLiveButtonContainer.react"),{showGoLiveButton:!1,showScheduleButton:!0,useComposerV2:this.state.useComposerV2}):null,d=a?b("React").createElement("div",{className:"_eg3"},b("React").createElement(b("XUIButton.react"),{className:"_227w _273n _3-9a",label:h._("Close"),use:"default",onClick:this.$2}),b("React").createElement(b("XUIButton.react"),{className:"_227w _273n _3-9a",label:h._("Save"),use:"confirm",onClick:this.$1})):b("React").createElement(b("LiveVideoBroadcastAPIGoLiveButtonContainer.react"),{additionalButtons:this.state.inputSource==="EDIT_SCHEDULE"?[b("React").createElement(b("XUIButton.react"),{className:"_227w _273n _3-9a",label:h._("Save"),use:"confirm",onClick:this.$1})]:undefined,showGoLiveButton:!0,showScheduleButton:this.state.inputSource!=="EDIT_SCHEDULE",useComposerV2:this.state.useComposerV2}),e=this.state.composerConfig.contextConfig.composerType===b("ComposerEntryPointRef").SOCIAL_PLUGIN;return b("React").createElement(b("LiveVideoBroadcastComposerRHC.react"),{accessToken:this.state.accessToken,accountID:this.state.accountID,actionButton:d,actorID:this.state.actorID,areCountriesIncluded:this.state.areCountriesIncluded,areModerationOptionsShown:this.state.areModerationOptionsShown,broadcastID:this.state.apiBroadcastID,broadcastState:this.state.broadcastState,broadcasterName:null,canEnableContentProtection:this.state.canEnableContentProtection,canEnableLiveCoverVideo:this.state.canEnableLiveCoverVideo,canEnableRewind:this.state.canEnableRewind,canSeeCopyrightOption:this.state.canSeeCopyrightOption,canSeeCrosspostingOption:this.state.canSeeCrosspostingOption,canSeeDisturbingOptions:this.state.canSeeDisturbingOptions,canSeeIGMatches:this.state.canSeeIGMatches,commentModes:this.state.commentModes,composerPrivacySelector:this.state.apiComposerPrivacySelector,config:this.state.composerConfig.config,contextConfig:this.state.composerConfig.contextConfig,copyrightMonitoringType:this.state.copyrightMonitoringType,copyrightRuleID:this.state.copyrightRuleID,copyrightWhitelistedFBUsers:this.state.copyrightWhitelistedFBUsers,copyrightWhitelistedIGUserNames:this.state.copyrightWhitelistedIGUserNames,countdownTime:this.state.countdownTime,crosspostingConfig:b("LiveVideoBroadcastCrosspostStore").convertCrosspostingConfig(this.state.crosspostingConfig),embedHTML:this.state.apiEmbedHTML,enableTaggers:!0,encoders:this.state.encoders,errorCount:this.state.errorCount||undefined,fundraiserEnabled:this.state.fundraiserEnabled,hasGamingContext:this.props.hasGamingContext,hasRemovedCrosspostPages:this.state.hasRemovedCrosspostPages,inputSource:this.state.inputSource,is360Audio:this.state.is360Audio,is360Video:this.state.is360Video,isBroadcastStarting:!!this.state.countdownTime,isContentProtectionEnabled:this.state.isContentProtectionEnabled,isContinuous:this.state.isContinuous,isCopyrighted:this.state.isCopyrighted,isEmbeddable:this.state.isEmbeddable&&!a,isLiveCoverVideoEnabled:this.state.isLiveCoverVideoEnabled,isRewindEnabled:this.state.isRewindEnabled,isShowPage:this.state.isShowPage,isSingleFisheye:this.state.isSingleFisheye,isTitleRequired:b("gkx")("AT5e547RuodJr5vSbkSq6zltMqS3wKEBjggYTKNE6hWWVfeRPS8qsei0HYpmnI6EXdqcdaBCTc19jRd85wCRCYNl"),metadataConfig:this.state.metadataConfig,ownershipCountries:this.state.ownershipCountries,pageLiveCoverVideoData:this.state.pageLiveCoverVideoData,peopleTaggerSource:this.state.peopleTaggerSource,profilePicUri:this.state.profilePicUri,selectedCategory:this.state.selectedCategory,selectedEncoderName:this.state.selectedEncoderName,selectedEncoderType:this.state.selectedEncoderType,selectedRHCTab:this.state.selectedRHCTab,shareMode:this.state.shareMode,shouldExpireAfterGoLive:this.state.shouldExpireAfterGoLive,shouldShowCrosspostingNux:this.state.shouldShowCrosspostingNux,shouldShowGraphicContentWarning:this.state.shouldShowGraphicContentWarning,showAttachToTriviaGame:this.state.enableAttachGameDropdown,showBreakingNews:this.state.showBreakingNews,showEncoderSelector:!0,showLiveSettings:!e&&!a,showMetadataInput:!0,showStreamLink:!1,showToolsTab:this.state.showToolsTab,showVideoSettings:!1,singleFisheyeFOV:this.state.singleFisheyeFOV,sphericalConfigSelectorValue:this.state.sphericalConfigSelectorValue,sponsorConfig:this.state.sponsorConfig,sponsorEnabled:this.state.sponsorEnabled,targetID:this.state.targetID,targetSelectorProps:this.state.targetSelectorProps,targetingEnabled:this.state.targetingEnabled,topButton:c,videoID:this.state.videoID,onCreateNewCopyrightRule:this.$3})};e.exports=b("FluxContainer").create(a)}),null);