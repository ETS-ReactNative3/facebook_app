if (self.CavalryLogger) { CavalryLogger.start_js(["Bpwqo"]); }

__d("MontageCardVideo.react",["cx","React","RelayCompat","Video.react","cancelAnimationFrame","requestAnimationFrame","MontageCardVideo_videoAttachment.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("RelayCompat").createFragmentContainer;b("RelayCompat").graphql;d=b("React").PropTypes;f=babelHelpers.inherits(a,b("React").Component);h=f&&f.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=null,this.$5=function(){if(this.$2&&this.$2.readyState>0){var a=this.$2.currentTime/this.$2.duration*100;this.props.onProgress(a);if(a>=100){this.props.onEnded();return}}this.$1=b("requestAnimationFrame")(this.$5)}.bind(this),c}a.prototype.componentDidMount=function(){this.$3()};a.prototype.componentDidUpdate=function(){this.$3()};a.prototype.componentWillUnmount=function(){this.$4()};a.prototype.$3=function(){if(!this.$2)return;!this.props.paused&&this.$2.paused?(this.$2.play(),this.$1=b("requestAnimationFrame")(this.$5)):(this.$4(),!this.props.active&&this.$2&&(this.$2.currentTime=0))};a.prototype.$4=function(){b("cancelAnimationFrame")(this.$1),this.$1=null,this.$2&&this.$2.pause()};a.prototype.render=function(){return b("React").createElement(b("Video.react"),{autoPlay:!1,className:"_5uag",onEnded:this.props.onEnded,onError:this.props.onEnded,src:this.props.videoAttachment.playable_url,ref:function(a){return this.$2=a&&a.refs.video}.bind(this)})};a.propTypes={paused:d.bool.isRequired,onEnded:d.func.isRequired,onProgress:d.func.isRequired,videoAttachment:d.shape({playable_url:d.string.isRequired}).isRequired};e.exports=c(a,{videoAttachment:{modern:function(){return b("MontageCardVideo_videoAttachment.graphql")},classic:function(a){return{kind:"FragmentDefinition",argumentDefinitions:[],node:function(){return{children:[{fieldName:"playable_url",kind:"Field",metadata:{},type:"Url"},{fieldName:"id",kind:"Field",metadata:{isGenerated:!0,isRequisite:!0},type:"ID"}],id:a.__id(),kind:"Fragment",metadata:{},name:"MontageCardVideo_videoAttachment",type:"MessageVideo"}}()}}}})}),null);