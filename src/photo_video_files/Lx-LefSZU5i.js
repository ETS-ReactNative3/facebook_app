if (self.CavalryLogger) { CavalryLogger.start_js(["keVk8"]); }

__d("GroupsSpamSniperDialog.react",["cx","fbt","FDSCheckboxInput.react","React","RelayFBEnvironment","RelayModern","Tooltip.react","XUIText.react","joinClasses","GroupsSpamSniperDialogLinkedGroupsDataQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var k=function(){return b("GroupsSpamSniperDialogLinkedGroupsDataQuery.graphql")},l=20;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={isApplyToOtherGroupsSelected:!1,isBlockMemberSelected:!1,isDeclinePendingInviteSelected:!1,isDeleteCommentSelected:!1,isDeletePollSelected:!1,isDeletePostSelected:!1,isDeleteStorySelected:!1},this.updateApplyToOtherGroupsStatus=function(){this.props.updateApplyToOtherGroupsStatus(),this.setState(function(a){return{isApplyToOtherGroupsSelected:!a.isApplyToOtherGroupsSelected}})}.bind(this),this.updateBlockMemberStatus=function(){this.props.updateBlockMemberStatus(),this.setState(function(a){return{isBlockMemberSelected:!a.isBlockMemberSelected}})}.bind(this),this.updateDeclinePendingInviteStatus=function(){this.props.updateDeclinePendingInviteStatus(),this.setState(function(a){return{isDeclinePendingInviteSelected:!a.isDeclinePendingInviteSelected}})}.bind(this),this.updateDeleteCommentStatus=function(){this.props.updateDeleteCommentStatus(),this.setState(function(a){return{isDeleteCommentSelected:!a.isDeleteCommentSelected}})}.bind(this),this.updateDeletePollStatus=function(){this.props.updateDeletePollStatus(),this.setState(function(a){return{isDeletePollSelected:!a.isDeletePollSelected}})}.bind(this),this.updateDeletePostStatus=function(){this.props.updateDeletePostStatus(),this.setState(function(a){return{isDeletePostSelected:!a.isDeletePostSelected}})}.bind(this),this.updateDeleteStoryStatus=function(){this.props.updateDeleteStoryStatus(),this.setState(function(a){return{isDeleteStorySelected:!a.isDeleteStorySelected}})}.bind(this),b}a.prototype.getDeletePostContext=function(){return b("React").createElement(b("XUIText.react"),{size:"header4",className:"_6tdh"},h._("Delete all of {Story thread owner name}'s posts from the last 7 days",[h._param("Story thread owner name",this.props.contentOwnerName)]))};a.prototype.getDeleteCommentContext=function(){return b("React").createElement(b("XUIText.react"),{size:"header4",className:"_6tdh"},h._("Delete {Story thread owner name}'s comments from the last 7 days",[h._param("Story thread owner name",this.props.contentOwnerName)]))};a.prototype.getDeleteStoryContext=function(){return b("React").createElement(b("XUIText.react"),{size:"header4",className:"_6tdh"},h._("Delete {Story thread owner name}'s stories from the last 24 hours",[h._param("Story thread owner name",this.props.contentOwnerName)]))};a.prototype.getDeletePollContext=function(){return b("React").createElement(b("XUIText.react"),{size:"header4",className:"_6tdh"},h._("Delete {Story thread owner name}'s poll options from the last 7 days",[h._param("Story thread owner name",this.props.contentOwnerName)]))};a.prototype.getDeclinePendingInviteContext=function(){return b("React").createElement(b("XUIText.react"),{size:"header4",className:"_6tdh"},h._("Decline any pending members invited by {Story thread owner name} from the last 7 days",[h._param("Story thread owner name",this.props.contentOwnerName)]))};a.prototype.getBlockMemberContext=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("XUIText.react"),{size:"header4",display:"block",headingLevel:3,weight:"normal",className:"_6tdh"},h._("Block Member")),b("React").createElement(b("XUIText.react"),{className:"_6tdi _6tdh",size:"meta1",display:"block",weight:"normal",headingLevel:3},h._("{comment author name} won't be able to find, see or join this group.",[h._param("comment author name",this.props.contentOwnerName)])))};a.prototype.getApplyToOtherGroupsContext=function(a){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("XUIText.react"),{size:"header4",display:"block",headingLevel:3,weight:"normal",className:"_6tdh"},h._("Apply these changes to other groups you manage or moderate.")),b("React").createElement(b("XUIText.react"),{className:"_6tdi _6tdh",size:"meta1",display:"block",weight:"normal",headingLevel:3},h._("{comment author name} will be removed from {group names}.",[h._param("comment author name",this.props.contentOwnerName),h._param("group names",a)])))};a.prototype.getLinkedGroupsData=function(a){__p&&__p();a=((a=a)!=null?(a=a.groups)!=null?a.edges:a:a)||[];a=a.filter(function(a){return a.node.id!==this.props.groupID}.bind(this));var b=a.length,c="";a=a.filter(function(a){return a.node.id!==this.props.groupID}.bind(this)).map(function(a){return a.node.name});if(b){if(b>l){var d=b-l;a=a.slice(0,l);a.push(h._({"*":"and {truncated group names number} more..."},[h._param("truncated group names number",d,[0])]))}c=a.join("\n")}return{otherGroupsCount:b,otherGroupsText:c}};a.prototype.renderApplyToOtherGroupsElement=function(a){a=this.getLinkedGroupsData(a);var c=a.otherGroupsCount;a=a.otherGroupsText;if(!c)return null;c>1?c=b("React").createElement("span",{className:"_6tdj"},b("React").createElement(b("Tooltip.react"),{tooltip:a},c," other groups")):c=b("React").createElement(b("XUIText.react"),{weight:"bold"},a);return b("React").createElement("div",{className:"_6tdk"},b("React").createElement(b("FDSCheckboxInput.react"),{label:this.getApplyToOtherGroupsContext(c),onChange:this.updateApplyToOtherGroupsStatus,value:this.state.isApplyToOtherGroupsSelected}))};a.prototype.getApplyToOtherGroupsElement=function(){return!this.props.shouldShowApplyToOtherGroups?null:b("React").createElement(j,{environment:b("RelayFBEnvironment"),query:k,variables:{userID:this.props.contentOwnerID,canViewerModerate:!0},render:function(a){var b=a.error;a=a.props;return b||!a?null:this.renderApplyToOtherGroupsElement(a.user)}.bind(this)})};a.prototype.render=function(){var a=this.props.shouldShowDeletePost?b("React").createElement("div",{className:"_6tdl"},b("React").createElement(b("FDSCheckboxInput.react"),{label:this.getDeletePostContext(),onChange:this.updateDeletePostStatus,value:this.state.isDeletePostSelected})):null,c=this.props.shouldShowDeleteComment?b("React").createElement("div",{className:"_6tdl"},b("React").createElement(b("FDSCheckboxInput.react"),{label:this.getDeleteCommentContext(),onChange:this.updateDeleteCommentStatus,value:this.state.isDeleteCommentSelected})):null,d=this.props.shouldShowDeleteStory?b("React").createElement("div",{className:"_6tdl"},b("React").createElement(b("FDSCheckboxInput.react"),{label:this.getDeleteStoryContext(),onChange:this.updateDeleteStoryStatus,value:this.state.isDeleteStorySelected})):null,e=this.props.shouldShowDeletePoll?b("React").createElement("div",{className:"_6tdl"},b("React").createElement(b("FDSCheckboxInput.react"),{label:this.getDeletePollContext(),onChange:this.updateDeletePollStatus,value:this.state.isDeletePollSelected})):null,f=this.props.shouldShowDeclinePendingInvite?b("React").createElement("div",{className:"_6tdl"},b("React").createElement(b("FDSCheckboxInput.react"),{label:this.getDeclinePendingInviteContext(),onChange:this.updateDeclinePendingInviteStatus,value:this.state.isDeclinePendingInviteSelected})):null,g=this.props.shouldShowBlockMember?b("React").createElement("div",{className:"_6tdl"},b("React").createElement(b("FDSCheckboxInput.react"),{label:this.getBlockMemberContext(),onChange:this.updateBlockMemberStatus,value:this.state.isBlockMemberSelected})):null,h=this.getApplyToOtherGroupsElement();return b("React").createElement("div",{className:b("joinClasses")(this.props.className)},a,c,d,e,f,g,h)};e.exports=a}),null);