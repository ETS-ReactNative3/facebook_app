if (self.CavalryLogger) { CavalryLogger.start_js(["xP9on"]); }

__d("FBStoriesViewer",["DOM","FBStoriesProductionActions","FBStoriesTheaterContainer.react","React","ReactDOM","Run"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="fb_stories_theater";h.getInstance=function(){this.$3||(h.$3=new h());return h.$3};function h(){this.close=function(){if(this.$1===!1)return;this.$1=!1;b("ReactDOM").unmountComponentAtNode(this.$2)}.bind(this),this.$1=!1,this.$2=b("DOM").create("div",{id:g}),document.body&&document.body.appendChild(this.$2),b("Run").onLeave(this.close)}h.prototype.toggle=function(a){a?this.open():this.close()};h.prototype.open=function(){if(this.$1)return;this.$1=!0;b("ReactDOM").render(b("React").createElement(b("FBStoriesTheaterContainer.react"),{openComposerForProduction:this.openComposerForProduction,onClose:this.close}),this.$2)};h.prototype.openComposerForProduction=function(){b("FBStoriesProductionActions").openProductionDialog()};e.exports=h}),null);