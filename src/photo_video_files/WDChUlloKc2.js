if (self.CavalryLogger) { CavalryLogger.start_js(["5oxhq"]); }

__d("DialogHorizontalTab.react",["cx","Link.react","React"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){"use strict";this.props.className;return b("React").createElement("span",{className:"className _1y48"+(this.props.isActive?" _1i81":"")},b("React").createElement(b("Link.react"),{onClick:this.props.onTabSelect,className:"_1y4a","aria-selected":this.props.isActive,role:"tab"},this.props.children))};function a(){"use strict";h.apply(this,arguments)}a.propTypes={isActive:c.bool.isRequired,onTabSelect:c.func.isRequired,className:c.string};e.exports=a}),null);
__d("EventGuestListState",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DECLINED:"declined",GOING:"going",INVITED:"invited",MAYBE:"maybe",WATCHED:"watched"})}),null);
__d("EventGuestListStateExtra",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({REGISTERED:"registered",DIALOG:"registration_in_guestlist_dialog",REGISTERED_CARD:"registration_management_link_in_card",PARENT_EVENT:"parent_event"})}),null);
__d("EventSections",["fbt","EventGuestListState","EventGuestListStateExtra"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a,c){if(c===b("EventGuestListState").GOING)return a?g._("WENT"):g._("GOING");else if(c===b("EventGuestListState").MAYBE)return g._("MAYBE");else if(c===b("EventGuestListState").DECLINED)return g._("CAN'T GO");else if(c===b("EventGuestListStateExtra").REGISTERED)return g._("SIGN UPS");else return g._("INVITED")}a=function(a,c,d){__p&&__p();if(c===b("EventGuestListState").GOING)return a?g._("WENT ({number})",[g._param("number",d)]):g._("GOING ({number})",[g._param("number",d)]);else if(c===b("EventGuestListState").MAYBE)return g._("MAYBE ({number})",[g._param("number",d)]);else if(c===b("EventGuestListState").DECLINED)return g._("CAN'T GO ({number})",[g._param("number",d)]);else if(c===b("EventGuestListState").WATCHED)return g._("INTERESTED ({number})",[g._param("number",d)]);else if(c===b("EventGuestListStateExtra").REGISTERED)return g._("SIGN UPS ({number})",[g._param("number",d)]);else return g._("INVITED ({number})",[g._param("number",d)])};c=function(a,b){return b.map(function(b){var c=h(a,b);return{id:b,title:c}})};d=function(a,b){return b.map(function(b,c){return c>=a.length?b:function(){var d=a[c].entries.concat(b.entries);return{title:b.title,entries:d}}()})};f={mergeSections:d,getInitialTabStructure:c,getTabTitleString:h,getTabTitleStringWithCounts:a};e.exports=f}),null);
__d("EventGuestDialogBaseStore",["invariant","AsyncRequest","EventGuestListState","EventSections","SearchableEntry","URI","XEventsUserSettingsUpdateController","forEachObject","mixInEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=50;a=[];c={_data:{activeTab:b("EventGuestListState").GOING,tabs:{},entryToSectionMap:{},isLoading:!0,isPastEvent:!1,tabConfig:a,counts:{},seenStateEnabled:!1,seenStateNuxClosed:!1,seenStateNuxViews:0},addListener:undefined,removeAllListeners:undefined,emit:undefined,init:function(a){this._data.tabConfig=a.tabConfig,this._data.counts=a.counts,this._data.activeTab=a.initialTab||this._data.activeTab,this._data.seenStateNuxClosed=!1,this._data.seenStateEnabled=!!a.seenStateEnabled,this._data.seenStateNuxViews=a.seenStateNuxViews,a.isPastEvent===!0&&(this._data.isPastEvent=a.isPastEvent),Object.prototype.hasOwnProperty.call(this,"initChild")||g(0,undefined),this.initChild(a),this._initTabs(),this.removeAllListeners()},getTabs:function(){return this._getTabIDs().map(function(a){return this._data.tabs[a]}.bind(this))},_getTabIDs:function(){return this._data.tabConfig.map(function(a){return a.id})},_initTabs:function(){b("EventSections").getInitialTabStructure(this._data.isPastEvent,this._getTabIDs()).forEach(function(a){this._data.tabs[a.id]={title:a.title,sections:[],loaded:!1,id:a.id,cursor:null,emailCursor:null,isLoading:!1,renderedEntryCount:h}}.bind(this))},getTabTitleStringWithCounts:function(a){return b("EventSections").getTabTitleStringWithCounts(this._data.isPastEvent,a,this._data.counts[a])},getTabTitleString:function(a){return b("EventSections").getTabTitleString(this._data.isPastEvent,a)},_getSections:function(a){return this._data.tabs[a].sections},_setSections:function(a,b){this._data.tabs[a].sections=b},_getCursor:function(a){return this._data.tabs[a].cursor},_setCursor:function(a,b){this._data.tabs[a].cursor=b},_setEmailCursor:function(a,b){this._data.tabs[a].emailCursor=b},_getEmailCursor:function(a){return this._data.tabs[a].emailCursor},_addEntries:function(a,c){this._setSections(a,b("EventSections").mergeSections(this._getSections(a),c)),c.forEach(function(a){a.entries.forEach(function(b,c){return this._data.entryToSectionMap[b.getUniqueID()]=a.entries}.bind(this))}.bind(this)),this._data.tabs[a].loaded=!0,this._data.tabs[a].isLoading=!1,this.getActiveTab()===a&&this.emitChange()},shouldAddEntryToStore:function(a){return!0},getActiveEntries:function(){return this.getEntriesForTab(this.getActiveTab())},getEntriesForTab:function(a){var b=this._data.tabs[a].renderedEntryCount,c=[];this._getSections(a).forEach(function(a,d){if(b<=0)return;d=a.entries.slice(0,b);c.push({title:a.title,entries:d});b-=d.length});return c.filter(function(a){return a.entries.length>0})},_getDataSource:function(a){return new(b("URI"))(this._data.tabConfig.find(function(b){return b.id===a}).dataSource)},setTab:function(a){this._data.activeTab=a,!this._data.tabs[a].loaded&&!this._data.tabs[a].isLoading&&this.requestEntries(a),this.emitChange()},getActiveTab:function(){return this._data.activeTab},isLoading:function(a){return this._data.tabs[a].isLoading},_fetchURI:function(a){__p&&__p();new(b("AsyncRequest"))(a).setMethod("GET").setReadOnly(!0).setHandler(function(a){__p&&__p();b("forEachObject")(a.getPayload(),function(a,c){this._setCursor(c,a.cursor);this._setEmailCursor(c,a.emailCursor);a=a.sections.map(function(a){var c=a[0];a=a[1].map(function(a){return new(b("SearchableEntry"))(a)}).filter(function(a){return this.shouldAddEntryToStore(a)}.bind(this));return{title:c,entries:a}}.bind(this));this._addEntries(c,a)}.bind(this))}.bind(this)).send()},requestEntries:function(a,b,c){__p&&__p();this._data.tabs[a].isLoading=!0;this.emitChange();var d={};d[a]=b;b=this._getDataSource(a).addQueryData({cursor:d});if(c){d={};d[a]=c;b=b.addQueryData({email_invite_cursor:d})}this._fetchURI(b)},prefetchEntries:function(a){this._getTabIDs().forEach(function(a){return this._data.tabs[a].isLoading=!0}.bind(this)),this.emitChange(),this._fetchURI(new(b("URI"))(a))},_getLocalCacheLength:function(a){return this._getSections(a).reduce(function(a,b){return b.entries.length+a},0)},showMoreEntries:function(){var a=this.getActiveTab(),b=this._data.tabs[a].renderedEntryCount,c=Math.min(b+h,this._getLocalCacheLength(a));c===this._getLocalCacheLength(a)&&(this._getCursor(a)||this._getEmailCursor(a))&&!this.isLoading(a)?this.requestEntries(a,this._getCursor(a),this._getEmailCursor(a)):c>b&&(this._data.tabs[a].renderedEntryCount=c,this.emitChange())},CHANGE_EVENT:"change",emitChange:function(){this.emit(this.CHANGE_EVENT)},getEntryToSectionMap:function(){return this._data.entryToSectionMap},unsetEntryToSectionMap:function(a){delete this._data.entryToSectionMap[a.getUniqueID()]},incrementCount:function(a){this._data.counts[a]+=1},decrementCount:function(a){this._data.counts[a]-=1},pushEntryToTab:function(a,b){this._data.tabs[a].sections[0].entries.unshift(b),this._data.entryToSectionMap[b.getUniqueID()]=this._data.tabs[a].sections[0].entries},showSeenStateNux:function(){return this.getActiveTab()===b("EventGuestListState").INVITED&&this._data.seenStateEnabled&&!this._data.seenStateNuxClosed&&this._data.seenStateNuxViews<2},onCloseSeenStateNux:function(){this._data.seenStateNuxClosed=!0;this.emitChange();var a=b("XEventsUserSettingsUpdateController").getURIBuilder().setStringToStringMap("attributes",{seen_state_nux_views:this._data.seenStateNuxViews+100}).getURI();new(b("AsyncRequest"))(a).setMethod("POST").send()},onShowSeenStateNux:function(){var a=b("XEventsUserSettingsUpdateController").getURIBuilder().setStringToStringMap("attributes",{seen_state_nux_views:this._data.seenStateNuxViews+1}).getURI();new(b("AsyncRequest"))(a).setMethod("POST").send()}};d={};d[c.CHANGE_EVENT]=!0;b("mixInEventEmitter")(c,d);e.exports=c}),null);
__d("EventBadgeConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GOING:"/images/events/badge-going-web.png",MAYBE:"/images/events/badge-maybe-web.png"})}),null);
__d("XEventGuestListInviteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/events/guest_list/invite/",{acontext:{type:"StringToStringMap",required:!0},event_id:{type:"Int",required:!0},user_id:{type:"Int",required:!0}})}),null);
__d("XEventInviteOffFBAdminRSVPController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/events/invite_off_fb/admin_rsvp/",{acontext:{type:"StringToStringMap",required:!0},invitee_id:{type:"Int",required:!0},state:{type:"Enum",enumType:1}})}),null);
__d("XEventRSVPSelectorController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/events/dialog/admin_rsvp/",{acontext:{type:"StringToStringMap",required:!0},user_id:{type:"Int",required:!0},event_id:{type:"Int",required:!0},state:{type:"Enum",enumType:1},pagelets_to_update:{type:"StringSet"}})}),null);
__d("EventGuestListDialogStore",["AsyncRequest","EventGuestDialogBaseStore","EventGuestListState","EventPageletController","SearchableEntry","XEventGuestListInviteController","XEventInviteOffFBAdminRSVPController","XEventRSVPSelectorController","XEventsUserSettingsUpdateController","flattenArray"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=Object.assign({},b("EventGuestDialogBaseStore"),{initChild:function(a){this._childData={actionContext:a.actionContext,eventID:a.eventID,rsvpConfig:a.rsvpConfig,queryString:"",typeaheadEntries:[],invitableEntries:[],removingGuest:null,activeAdminRSVPNux:null,seenAdminRSVPNux:!1}},isTypeaheadActive:function(){return this._childData.queryString.trim().length>0},getTypeaheadEntries:function(){return this._childData.typeaheadEntries},setTypeaheadEntries:function(a){this._childData.typeaheadEntries=a,this.emitChange()},setInvitableEntries:function(a){a=a.filter(function(a){return!a.getAuxiliaryData()||!a.getAuxiliaryData().disabled}),this._childData.invitableEntries=a.map(function(a){var c=a.getUniqueID(),d=a.getTitle(),e=a.getSubtitle();a=a.getPhoto();var f={hidden:!1};return new(b("SearchableEntry"))({uniqueID:c,title:d,subtitle:e,photo:a,auxiliaryData:f})})},setQuery:function(a){this._childData.queryString=a,this.emitChange()},getQuery:function(){return this._childData.queryString},getRSVPConfig:function(a){if(!this._childData.rsvpConfig)return null;var b=this._childData.rsvpConfig.find(function(b){return b.id===a});return b?b.conf:null},searchEntries:function(a){a=a.toLowerCase().trim();return b("flattenArray")(this.getTabs().map(function(c){return b("flattenArray")(c.sections.map(function(b){return b.entries.filter(function(b){return b.getTitle().toLowerCase().indexOf(a)!==-1})}))})).concat(this._childData.invitableEntries.filter(function(b){return b.getTitle().toLowerCase().indexOf(a)!==-1&&!this.getEntryToSectionMap()[b.getUniqueID()]}.bind(this)))},inviteGuest:function(a){var c=a.getAuxiliaryData();a=b("XEventGuestListInviteController").getURIBuilder().setStringToStringMap("acontext",this._childData.actionContext).setInt("event_id",this._childData.eventID).setInt("user_id",a.getUniqueID()).getURI();c.invited=!0;new(b("AsyncRequest"))(a).setMethod("POST").send();this.emitChange()},removeGuest:function(a){this.setRemovingGuest(null),this.moveEntry(a,a.getAuxiliaryData().tab,null)},setRemovingGuest:function(a){this._childData.removingGuest=a,a&&this.emitChange()},getRemovingGuest:function(){return this._childData.removingGuest},moveEntry:function(a,c,d){__p&&__p();if(c===d)return;var e=this.getEntryToSectionMap()[a.getUniqueID()],f=e.findIndex(function(b){return b.getUniqueID()===a.getUniqueID()});e.splice(f,1);this.unsetEntryToSectionMap(a);this.decrementCount(c);e=a.getAuxiliaryData();d?(this.pushEntryToTab(d,a),e.tab=d,this.incrementCount(d)):e.hidden=!0;f=a.getAuxiliaryData().inviteOffFB?b("XEventInviteOffFBAdminRSVPController").getURIBuilder().setStringToStringMap("acontext",this._childData.actionContext).setInt("invitee_id",a.getUniqueID()).setEnum("state",d).getURI():b("XEventRSVPSelectorController").getURIBuilder().setStringToStringMap("acontext",this._childData.actionContext).setInt("user_id",a.getUniqueID()).setInt("event_id",this._childData.eventID).setEnum("state",d).setStringSet("pagelets_to_update",b("EventPageletController").getPageletNames()).getURI();new(b("AsyncRequest"))(f).setMethod("POST").send();this.emitChange()},makeAdminRSVPNuxActive:function(a,c){if(this._childData.seenAdminRSVPNux)return;c++;this._childData.activeAdminRSVPNux=a;a=b("XEventsUserSettingsUpdateController").getURIBuilder().setStringToStringMap("attributes",{admin_rsvp_nux_views:c}).getURI();new(b("AsyncRequest"))(a).setMethod("POST").send();this.emitChange()},closeAdminRSVPNux:function(){this.emitChange()},getActiveAdminRSVPNux:function(){if(this._childData.seenAdminRSVPNux||this.getActiveTab()===b("EventGuestListState").DECLINED)return null;else this._childData.activeAdminRSVPNux!==null&&(this._childData.seenAdminRSVPNux=!0);return this._childData.activeAdminRSVPNux},sendFriendRequest:function(a){a=a.getAuxiliaryData();new(b("AsyncRequest"))(a.addFriendURI).setMethod("POST").send();a.friendRequestSent=!0;this.emitChange()}});e.exports=a}),null);
__d("EventGuestListScrollArea.react",["cx","CenteredContainer.react","InfiniteScrollArea.react","React","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.$1=function(){return b("React").createElement("div",{className:"_ino"},b("React").createElement(b("XUISpinner.react"),{size:"large"}))};a.prototype.render=function(){return!this.props.children&&!this.props.isLoading?b("React").createElement(b("CenteredContainer.react"),{vertical:!0,horizontal:!0,className:"_inp"},b("React").createElement("div",{className:"_inq"},this.props.nullStateString)):b("React").createElement(b("InfiniteScrollArea.react"),{ref:this.props.scrollAreaRef,height:400,onEndReached:this.props.onEndReached,shadow:!1},this.props.children,this.props.isLoading?this.$1():null)};function a(){h.apply(this,arguments)}a.propTypes={isLoading:c.bool.isRequired,onEndReached:c.func.isRequired,nullStateString:c.string.isRequired,disabledInviteButton:c.bool,inviteAction:c.func,scrollAreaRef:c.func};e.exports=a}),null);
__d("XEventManagerToolController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/{event_id}/manager/tools/",{event_id:{type:"String",required:!0},key:{type:"String"},acontext:{type:"String"},ref:{type:"String"}})}),null);
__d("EventGuestListDialog.react",["ix","cx","fbt","xuiglyph","AbstractSearchSource","AsyncRequest","ContextualLayerUpdateOnScroll","CurrentUser","DialogHorizontalTab.react","EventBadgeConstants","EventGuestListDialogStore","EventGuestListScrollArea.react","EventGuestListState","EventGuestListStateExtra","Grid.react","Image.react","Link.react","MegaphoneCard.react","ProfileImageBlockEntry.react","React","ReactFragment","SearchableTextInput.react","SingleSelectorAlignOnScroll","SingleSelectorHideOnScrollOut","Tooltip","URI","XEventInviteDialogController","XEventManagerToolController","XUIAmbientNUX.react","XUIButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogConfirmButton.react","XUIDialogFooter.react","XUIDialogTitle.react","XUISingleSelector.react","fbglyph","goURI"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l;d=b("React").PropTypes;var m=b("Grid.react").GridItem,n=b("XUISingleSelector.react").Option;k=babelHelpers.inherits(a,b("AbstractSearchSource"));k&&k.prototype;a.prototype.searchImpl=function(a,c){var d=b("EventGuestListDialogStore").searchEntries(a);c(d,a)};function a(){k.apply(this,arguments)}var o=new a();f=babelHelpers.inherits(c,b("React").Component);l=f&&f.prototype;function c(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=l.constructor).call.apply(a,[this].concat(e)),this.state={disabledInviteButton:!1},this.$1=null,this.$2=function(){var a=b("XEventInviteDialogController").getURIBuilder().setInt("plan_id",this.props.eventID).getURI();this.setState({disabledInviteButton:!0});new(b("AsyncRequest"))(a).setHandler(function(){this.setState({disabledInviteButton:!1}),this.props.dialog.hide()}.bind(this)).send()}.bind(this),c}c.prototype.UNSAFE_componentWillMount=function(){b("EventGuestListDialogStore").init({actionContext:this.props.actionContext,tabConfig:this.props.tabConfig,counts:this.props.counts,rsvpConfig:this.props.rsvpConfig,eventID:this.props.eventID,initialTab:this.props.initialTab,seenStateEnabled:this.props.canSeeSeenState,seenStateNuxViews:this.props.seenStateNuxViews,isPastEvent:this.props.isPastEvent})};c.prototype.componentDidMount=function(){b("EventGuestListDialogStore").addListener(b("EventGuestListDialogStore").CHANGE_EVENT,this.forceUpdate.bind(this)),b("EventGuestListDialogStore").prefetchEntries(this.props.prefetchURI),this.props.searchSource&&this.props.searchSource.getBootstrappedEntries(function(a){return b("EventGuestListDialogStore").setInvitableEntries(a)})};c.prototype.$3=function(a){return b("CurrentUser").getID()===a.getUniqueID()?null:this.$4(a)||this.$5(a)||this.$6(a)||this.$7(a)||this.$8(a)};c.prototype.$7=function(a){if(!a.getAuxiliaryData().canMessage||!a.getAuxiliaryData().isFriend)return null;var c=function(){var c=new(b("URI"))("/ajax/messaging/composer.php").addQueryData("ids",[a.getUniqueID()]);new(b("AsyncRequest"))(c).send()};return b("React").createElement(b("XUIButton.react"),{onClick:c,image:b("React").createElement(b("Image.react"),{src:g("89498")}),label:this.props.stringMap.messageText})};c.prototype.$8=function(a){var c=a.getAuxiliaryData();if(!c.addFriendURI&&!c.friendRequestSent)return null;return c.friendRequestSent?b("React").createElement(b("XUIButton.react"),{disabled:!0,label:this.props.stringMap.friendRequestSentLabel,image:b("React").createElement(b("Image.react"),{src:g("88658")})}):b("React").createElement(b("XUIButton.react"),{label:this.props.stringMap.addFriendLabel,image:b("React").createElement(b("Image.react"),{src:g("88658")}),onClick:function(){return b("EventGuestListDialogStore").sendFriendRequest(a)}})};c.prototype.$5=function(a){if(a.getAuxiliaryData().tab)return null;else if(a.getAuxiliaryData().invited)return b("React").createElement(b("XUIButton.react"),{disabled:!0,label:this.props.stringMap.invitedText});else return b("React").createElement(b("XUIButton.react"),{onClick:function(){return b("EventGuestListDialogStore").inviteGuest(a)},label:this.props.stringMap.inviteText})};c.prototype.$4=function(a){__p&&__p();var c=a.getAuxiliaryData().tab;if(!c||!a.getAuxiliaryData().canRSVP&&!a.getAuxiliaryData().declinedTooltip||a.getUniqueID()===this.props.authorID)return null;var d=b("EventGuestListDialogStore").getRSVPConfig(c);if(!d)return null;d=d.map(function(a,c){return b("React").createElement(n,{value:a.id,key:c},a.title)});var e="rsvp"+a.getUniqueID(),f=this.props.adminRSVPNuxCount<2?function(){return b("EventGuestListDialogStore").makeAdminRSVPNuxActive(e,this.props.adminRSVPNuxCount)}.bind(this):null,h=function(d){d.value===null?b("EventGuestListDialogStore").setRemovingGuest(a):b("EventGuestListDialogStore").moveEntry(a,c,d.value)},j=function(){b("EventGuestListDialogStore").closeAdminRSVPNux()},k=!a.getAuxiliaryData().canRSVP;return b("React").createElement(b("Grid.react"),{cols:2},b("React").createElement(m,{key:"selector"},b("React").createElement(b("XUISingleSelector.react"),babelHelpers["extends"]({behaviors:[b("SingleSelectorAlignOnScroll"),b("SingleSelectorHideOnScrollOut")],disabled:k,value:c,ref:e,onClick:f,onChange:h,onHide:j},b("Tooltip").propsFor(a.getAuxiliaryData().declinedTooltip)),d)),b("React").createElement(m,{key:"remove-glyph"},b("React").createElement(b("Link.react"),babelHelpers["extends"]({className:"_3-9a",onClick:function(){return b("EventGuestListDialogStore").setRemovingGuest(a)}},b("Tooltip").propsFor(this.props.stringMap.removeText)),b("React").createElement(b("Image.react"),{src:g("88985"),className:"_2a96","aria-label":i._("Remove")}))))};c.prototype.$6=function(a){var c=a.getAuxiliaryData().tab;if(!this.props.isAdmin||!c||a.getUniqueID()===this.props.authorID||this.props.userAdmins.includes(a.getUniqueID()))return null;c=function(){return b("EventGuestListDialogStore").setRemovingGuest(a)};return b("React").createElement(b("XUIButton.react"),{label:this.props.stringMap.removeText,onClick:c})};c.prototype.$9=function(a){if(a.getAuxiliaryData().hidden)return null;var c=a.getAuxiliaryData().tab,d=null;c===b("EventGuestListState").GOING?d=b("EventBadgeConstants").GOING:c===b("EventGuestListState").MAYBE&&(d=b("EventBadgeConstants").MAYBE);var e=b("EventGuestListDialogStore").isTypeaheadActive()&&c?this.props.stringMap.typeaheadSubtitles[c]:a.getSubtitle(),f=null;a.getAuxiliaryData().inviteOffFB||(f=a.getURI()||new(b("URI"))("/profile.php").setQueryData({id:a.getUniqueID()}).toString());return b("React").createElement("div",{key:a.getUniqueID(),className:"_3ji8"},b("React").createElement(b("ProfileImageBlockEntry.react"),{imgSrc:a.getPhoto(),title:a.getTitle(),subtitle:e,auxiliarySubtitle:c===b("EventGuestListState").INVITED?a.getAuxiliaryData().seenInviteSubtitle:null,auxSubtitleImage:g("88841"),profileURI:f,profileIcon:d,hovercardID:a.getUniqueID()},this.$3(a)))};c.prototype.$10=function(){var a=b("EventGuestListDialogStore").getActiveEntries().map(function(a,b){return[this.$11(a.title,"bucket_"+b),a.entries.map(function(a){return this.$9(a)}.bind(this))]}.bind(this)),c=this.$12();c&&a.unshift(c);return a.length===0?null:a};c.prototype.$12=function(){if(this.props.isAdmin||!this.props.emailCounts||!this.props.emailInviteSilhouette)return null;var a=this.props.emailCounts[b("EventGuestListDialogStore").getActiveTab()];if(a===0||a===undefined||a===null)return null;a=i._({"*":{"Guest":"{number} Guest","Guests":"{number} Guests"}},[i._param("number",a,[0]),i._enum(a===1?"Guest":"Guests",{Guest:"Guest",Guests:"Guests"})]);var c=i._("Invited by email or text"),d=this.$11(null,"email_invitees");a=b("React").createElement(b("ProfileImageBlockEntry.react"),{imgSrc:this.props.emailInviteSilhouette||"",title:a,subtitle:c});return[d,a]};c.prototype.$11=function(a,c){if(!a){c||(c="");return b("React").createElement("div",{key:"margin-top"+c,className:"_3ji9"})}return b("React").createElement("div",{className:"_564p",key:c},a)};c.prototype.$13=function(){var a=b("EventGuestListDialogStore").getTypeaheadEntries(),c=a.filter(function(a){return!a.getAuxiliaryData().tab}).map(function(a){return this.$9(a)}.bind(this));a=a.filter(function(a){return a.getAuxiliaryData().tab}).map(function(a){return this.$9(a)}.bind(this));var d=b("CurrentUser").isWorkUser()?this.props.stringMap.otherCoworkers:this.props.stringMap.otherFriends;return b("React").createElement("div",{className:"_57m3"},a,c.length>0?this.$11(d,null):null,c)};c.prototype.$14=function(a){b("EventGuestListDialogStore").setTab(a),this.$1!==null&&this.$1.scrollToTop(!1)};c.prototype.$15=function(){return b("EventGuestListDialogStore").getTabs().map(function(a){return b("React").createElement(b("DialogHorizontalTab.react"),{key:a.id,onTabSelect:this.$14.bind(this,a.id),isActive:a.id===b("EventGuestListDialogStore").getActiveTab()},b("EventGuestListDialogStore").getTabTitleStringWithCounts(a.id))}.bind(this))};c.prototype.$16=function(a){b("EventGuestListDialogStore").setQuery(a.target.value)};c.prototype.$17=function(a){b("EventGuestListDialogStore").setTypeaheadEntries(a)};c.prototype.$18=function(){b("EventGuestListDialogStore").isTypeaheadActive()||b("EventGuestListDialogStore").showMoreEntries()};c.prototype.$19=function(){if(!b("EventGuestListDialogStore").showSeenStateNux())return null;var a=b("CurrentUser").isWorkUser()?"/help/work/163942794156592":"/help/317897961560790";return b("React").createElement("div",{className:"_33-1"},b("React").createElement(b("MegaphoneCard.react"),{title:this.props.stringMap.seenStateTitle,onClose:function(){return b("EventGuestListDialogStore").onCloseSeenStateNux()},onShow:function(){return b("EventGuestListDialogStore").onShowSeenStateNux()},shown:!0},this.props.isAdmin?this.props.stringMap.seenStateHostNux:this.props.stringMap.seenStateGuestNux," ",b("React").createElement("a",{href:a,target:"_blank"},this.props.stringMap.learnMore)))};c.prototype.$20=function(){var a=b("XEventManagerToolController").getURIBuilder().setString("event_id",this.props.eventID).setString("key","orders").setString("ref",b("EventGuestListStateExtra").DIALOG).getURI();b("goURI")(a)};c.prototype.render=function(){var a=b("EventGuestListDialogStore").getActiveTab(),c=b("EventGuestListDialogStore").isLoading(a),d=b("EventGuestListDialogStore").isTypeaheadActive(),e=d?this.$13():this.$10(),f=this.props.isAdmin&&this.props.showRegisteredGuestsButton_gk&&this.props.isSelfRegistration?b("React").createElement("div",{className:"_10ew"},b("React").createElement(b("XUIButton.react"),{use:"special",image:b("React").createElement(b("Image.react"),{src:g("115213")}),label:b("EventGuestListDialogStore").getTabTitleStringWithCounts(b("EventGuestListStateExtra").REGISTERED),onClick:function(){return this.$20()}.bind(this)})):null;return b("React").createElement("div",null,this.props.tracingLink?b("React").createElement("div",{className:"_6ib6"},b("React").createElement("link",{href:this.props.tracingLink})):null,b("React").createElement("div",{className:"_55nm"},this.props.showTypeahead?b("React").createElement("div",{className:"_57m4"},b("React").createElement(b("SearchableTextInput.react"),{searchSource:o,onChange:this.$16,onEntriesFound:this.$17,queryString:b("EventGuestListDialogStore").getQuery(),placeholder:i._("Search guests")})):null,d?null:b("React").createElement("div",{className:"_3e7x"},this.$15()),this.$19(),b("React").createElement(b("EventGuestListScrollArea.react"),{scrollAreaRef:function(a){return this.$1=a}.bind(this),isLoading:c&&!d,onEndReached:this.$18,nullStateString:this.props.stringMap.nullState[a],disabledInviteButton:this.state.disabledInviteButton,inviteAction:this.$2},e),f),this.renderLayers())};c.prototype.$21=function(a){a||b("EventGuestListDialogStore").setRemovingGuest(null)};c.prototype.renderLayers=function(){var a=null,c=b("EventGuestListDialogStore").getRemovingGuest();c&&(a=b("React").createElement(b("XUIDialog.react"),{shown:!0,onToggle:this.$21,width:445},b("React").createElement(b("XUIDialogTitle.react"),null,this.props.stringMap.removeText),b("React").createElement(b("XUIDialogBody.react"),null,i._("Are you sure you want to remove {Guest name} from this event?",[i._param("Guest name",b("React").createElement("strong",null,c.getTitle()))])),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogCancelButton.react"),null),b("React").createElement(b("XUIDialogConfirmButton.react"),{use:"confirm",onClick:b("EventGuestListDialogStore").removeGuest.bind(b("EventGuestListDialogStore"),c)}))));c=null;var d=b("EventGuestListDialogStore").getActiveAdminRSVPNux();d&&(c=b("React").createElement(b("XUIAmbientNUX.react"),{behaviors:{ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll")},contextRef:function(){return this.refs[d]}.bind(this),shown:!0,position:"right",width:"auto",onCloseButtonClick:function(){return b("EventGuestListDialogStore").closeAdminRSVPNux()}},this.props.stringMap.adminRSVPNuxText));return b("ReactFragment").create({dialog:a,nux:c})};c.propTypes={actionContext:d.object.isRequired,adminRSVPNuxCount:d.number.isRequired,authorID:d.string.isRequired,canSeeSeenState:d.bool,counts:d.object.isRequired,dialog:d.object.isRequired,emailCounts:d.object,emailInviteSilhouette:d.string,eventID:d.string.isRequired,initialTab:d.string,isAdmin:d.bool,userAdmins:d.arrayOf(d.string),isPastEvent:d.bool,prefetchURI:d.string.isRequired,tracingLink:d.string,rsvpConfig:d.arrayOf(d.object),searchSource:d.object,seenStateNuxViews:d.number.isRequired,showTypehead:d.bool,stringMap:d.object.isRequired,tabConfig:d.arrayOf(d.object).isRequired,isPrivate:d.bool.isRequired,showRegisteredGuestsButton_gk:d.bool,isSelfRegistration:d.bool};e.exports=c}),null);