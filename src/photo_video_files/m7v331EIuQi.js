if (self.CavalryLogger) { CavalryLogger.start_js(["BYzeg"]); }

__d("XStickyGuardrailLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/privacy/sticky_guard/log/",{client_time:{type:"Int",required:!0},event:{type:"Enum",required:!0,enumType:1},from_privacy:{type:"String"},product:{type:"Enum",required:!0,enumType:1},suggestion:{type:"String",required:!0},suggestion_id:{type:"Int",required:!0},is_only_me_guardrail:{type:"Bool",defaultValue:!1},num_times_seen:{type:"Int"},source:{type:"Enum",enumType:1},local_hour_time:{type:"Int"},features:{type:"String"},is_from_react:{type:"Int"},run_mode:{type:"Enum",enumType:0}})}),null);
__d("ReactComposerStickyGuardrail",["csx","Arbiter","AsyncRequest","AudienceSelector","DOM","Event","Focus","ReactComposerAudienceStore","ReactComposerEvents","XStickyGuardrailLoggingController","ge","tidyEvent"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i,j=!1,k="client_seen",l="no_audience_error",m="no_cancel_error",n="no_change_error",o="no_textarea_error",p="declined",q="dismissed",r="converted",s="www_composer",t=200;function u(a,c,d,e,f,g,h,i){a=b("XStickyGuardrailLoggingController").getURIBuilder().setEnum("event",a).setInt("client_time",Date.now()).setEnum("product",s).setString("from_privacy",c).setString("suggestion",d).setInt("suggestion_id",e).setBool("is_only_me_guardrail",f).setInt("num_times_seen",g).setInt("local_hour_time",new Date().getHours()).setString("features",h).setInt("is_from_react",1).setEnum("run_mode",i).getURI();c=new(b("AsyncRequest"))().setURI(a);c.send()}function v(a,c,d,e){e?e.selectOption(c):b("AudienceSelector").setAudience(d,a)}function w(a,c){a.unsubscribe(h),b("Arbiter").unsubscribe(i),a.hide(),b("Focus").set(c)}function x(a){return a?a.getSelectedPostParam():null}function y(a,c,d,e,f,g,s,z,A){__p&&__p();var B=b("ReactComposerAudienceStore").getAudienceElement(c)!==null;if(!B){setTimeout(function(){return y(a,c,d,e,f,g,s,z,A)},t);return}if(j)return;var C=b("ReactComposerAudienceStore").getAudienceInstance(c),D=b("ReactComposerAudienceStore").getAudienceElement(c);if(!D){u(l,x(C),e,f,g,s);return}if(C&&C.getPopover().isShown())return;var E=b("DOM").scry(b("ge")(c),"._5yk2").pop();B=b("ge")("guardrail_cancel",a.getContentRoot());var F=b("ge")("guardrail_change",a.getContentRoot());if(!B){u(m,x(C),e,f,g);return}if(!F){u(n,x(C),e,f,g,s);return}if(!E){u(o,x(C),e,f,g,s);return}b("tidyEvent")(b("Event").listen(F,"click",function(b){w(a,E),u(r,x(C),e,f,g,s,z,A),v(d,e,D,C)}));b("tidyEvent")(b("Event").listen(B,"click",function(b){w(a,E),u(p,x(C),e,f,g,s,z,A)}));h=a.subscribe("hide",function(){w(a,E),u(q,x(C),e,f,g,s,z,A)});a.setContext(D);a.show();u(k,x(C),e,f,g,s,z,A);i=b("Arbiter").subscribeOnce("composerprivacy/aborteducation",function(){w(a,E),u(q,x(C),e,f,g,s,z,A)})}a={abort:function(){j=!0},initComposerFlyout:function(a,c,d,e,f,g,h,i,j){b("Arbiter").subscribeOnce("composerprivacy/aborteducation",this.abort.bind(this)),b("Arbiter").subscribeOnce(b("ReactComposerEvents").MENTION_INPUT_FOCUS+c,function(){y(a,c,d,e,f,g,h,i,j)})}};e.exports=a}),null);
__d("ReactComposerSproutsPostToGroupsSelector.react",["ix","cx","fbt","React","ReactComposerGroupSelectorTabContainerGatedModule","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("ReactComposerGroupSelectorTabContainerGatedModule").module;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.render=function(){if(k){var a=i._("Post to Group"),c=g("123072");return b("React").createElement("span",{key:"group_selector",className:"_sg1"},b("React").createElement(k,{label:a,icon:c}))}return null};function a(){j.apply(this,arguments)}e.exports=a}),null);
__d("ReactFeedSproutsComposerX.react",["cx","Arbiter","BootloadedComponent.react","Bootloader","JSResource","LitestandComposer","React","ReactComposerAttachmentActions","ReactComposerAttachmentType","ReactComposerAudienceSelectorLazyAttachmentGatedModule","ReactComposerAudienceSelectorNextButtonContainerGatedModule","ReactComposerBodyContainer.react","ReactComposerContextProviderMixin","ReactComposerEvents","ReactComposerFeedMediaPostButtonContainer.react","ReactComposerFeedPostButtonContainer.react","ReactComposerGroupSearchTypeaheadContainerGatedModule","ReactComposerGroupSelectorTabContainerGatedModule","ReactComposerHeaderContainer.react","ReactComposerInit","ReactComposerListLazyAttachment.react","ReactComposerLiveVideoLazyAttachment.react","ReactComposerLiveVideoPreviewButton.react","ReactComposerLivingRoomLazyAttachment.react","ReactComposerLoggingName","ReactComposerMediaEagerAttachment.react","ReactComposerPlaceListLazyAttachment.react","ReactComposerPrefillUtils","ReactComposerQAndALazyAttachment.react","ReactComposerSharingSpacesSelectorAttachmentGatedModule","ReactComposerSproutsAlbumSelector.react","ReactComposerSproutsLiveVideoDialogSelector.react","ReactComposerSproutsMediaSelector.react","ReactComposerSproutsPostToGroupsSelector.react","ReactComposerSproutsQAndASelector.react","ReactComposerSproutsStatusAndMediaSelector.react","ReactComposerStatusEagerAttachment.react","ReactComposerTaggerActions","ReactComposerTaggerType","ReactComposerVisualPollLazyAttachment.react","ReactComposerWithSprouts.react","ReactDOM","ifRequired"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("ReactComposerAudienceSelectorLazyAttachmentGatedModule").shouldShowSharesheetNux,j=b("ReactComposerAudienceSelectorLazyAttachmentGatedModule").module,k=b("ReactComposerAudienceSelectorNextButtonContainerGatedModule").module,l=b("ReactComposerGroupSearchTypeaheadContainerGatedModule").module,m=b("ReactComposerGroupSelectorTabContainerGatedModule").module,n=b("ReactComposerSharingSpacesSelectorAttachmentGatedModule").module;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.getChildContext=function(){"use strict";return b("ReactComposerContextProviderMixin").staticGetChildContext(this.props)};a.prototype.componentDidMount=function(){"use strict";__p&&__p();var a=b("ReactDOM").findDOMNode(this);if(this.props.wasStubbed&&a!==null&&a instanceof HTMLElement&&a.nodeType===Node.ELEMENT_NODE){var c=babelHelpers["extends"]({},this.props,{wasStubbed:!1});b("ReactComposerInit").initWithoutRendering(this.constructor,c,a);b("Arbiter").inform("ReactFeedComposerXBootloader/selectcomposer/"+this.props.contextConfig.composerID)}b("LitestandComposer").initComposer(this.props.contextConfig.composerID);c=this.props.prefillConfig;c&&c.selectedAttachment&&(b("ReactComposerAttachmentActions").selectAttachment(this.props.contextConfig.composerID,c.selectedAttachment,c.shouldActivateSelectedAttachment,c.loggingName,null,c.proxiedAttachmentID),c.shouldActivateSelectedAttachment&&b("Arbiter").inform(b("ReactComposerEvents").ACTIVATE_ATTACHMENT+this.props.contextConfig.composerID));c&&c.selectedTagger&&b("ReactComposerTaggerActions").selectTagger(this.props.contextConfig.composerID,b("ReactComposerLoggingName").OTHERS,c.selectedTagger);this.$1();c&&b("ReactComposerPrefillUtils").prefill(this.props.contextConfig.composerID,c,this.props.contextConfig.gks)};a.prototype.render=function(){"use strict";var a=this.props.prefillConfig,c=this.$2(),d=c[0];c=c[1];return b("React").createElement(b("ReactComposerWithSprouts.react"),{defaultAttachmentOnExpand:b("ReactComposerAttachmentType").STATUS,innerProps:{activateOnInit:this.props.wasStubbed,className:"_5n2b",loggingConfig:this.props.config.loggingConfig,sproutsConfig:this.props.config.sproutsConfig,promotedSprout:this.props.config.sproutsPromotionConfig?this.props.config.sproutsPromotionConfig.sprout:null},expandOnInit:a&&a.expandSproutsOnInit},b("React").createElement(b("ReactComposerHeaderContainer.react"),this.props,d),this.$3(),this.$4(),this.$5(),b("React").createElement(b("ReactComposerBodyContainer.react"),{expanded:this.props.config.showExpandedComposer},c))};a.prototype.$6=function(){"use strict";__p&&__p();var a=this.props.config.attachmentsConfig,c=[];if(a[b("ReactComposerAttachmentType").STATUS].enabled){var d=[];a[b("ReactComposerAttachmentType").LIVE_VIDEO].enabled||d.push(b("ReactComposerAttachmentType").LIVE_VIDEO);c.push(b("React").createElement(b("ReactComposerSproutsStatusAndMediaSelector.react"),{key:b("ReactComposerLoggingName").STATUS_TAB_SELECTOR,alternativeAttachmentIDs:d,label:a[b("ReactComposerAttachmentType").STATUS].defaultTabTitle,statusOnly:this.props.contextConfig.gks&&this.props.contextConfig.gks.photoTab}));m&&c.push(b("React").createElement(b("ReactComposerSproutsPostToGroupsSelector.react"),{key:b("ReactComposerLoggingName").GROUP_SELECTOR}))}this.props.contextConfig.gks&&this.props.contextConfig.gks.photoTab&&c.push(b("React").createElement(b("ReactComposerSproutsMediaSelector.react"),{key:b("ReactComposerLoggingName").MEDIA_TAB_SELECTOR,config:this.props.config}));d=this.props.contextConfig.gks&&this.props.contextConfig.gks.hideAlbumTab;if(a[b("ReactComposerAttachmentType").ALBUM].enabled&&!d){d=this.props.contextConfig.gks&&this.props.contextConfig.gks.albumTabUsesSelector;c.push(b("React").createElement(b("ReactComposerSproutsAlbumSelector.react"),{key:b("ReactComposerLoggingName").ALBUM,config:this.props.config,useCollectionSelector:d}))}a[b("ReactComposerAttachmentType").LIVE_VIDEO].enabled&&c.push(b("React").createElement(b("ReactComposerSproutsLiveVideoDialogSelector.react"),{key:b("ReactComposerLoggingName").LIVE_VIDEO_TAB_SELECTOR,contextConfig:this.props.contextConfig,config:this.props.config}));a[b("ReactComposerAttachmentType").QANDA].enabled&&c.push(b("React").createElement(b("ReactComposerSproutsQAndASelector.react"),{key:b("ReactComposerLoggingName").QANDA_TAB_SELECTOR}));return c};a.prototype.$2=function(){"use strict";__p&&__p();var a=this.$6(),b=[];b.push(this.$7());b.push(this.$8());b.push(this.$9());var c=this.$10();c&&b.push(c);c=this.$11();c&&b.push(c);c=this.$12();c&&b.push(c);c=this.$13();c&&b.push(c);c=this.$14();c&&b.push(c);c=this.$15();c&&b.push(c);c=this.$16();c&&b.push(c);b.push();return[a,b]};a.prototype.$7=function(){"use strict";var a=this.$17()===b("ReactComposerAttachmentType").STATUS,c=this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").STATUS].placeholderText;return b("React").createElement(b("ReactComposerStatusEagerAttachment.react"),{key:"status",config:this.props.config,prefillConfig:this.props.prefillConfig,selected:a,postButtonModule:k?k:b("ReactComposerFeedPostButtonContainer.react"),placeholder:c})};a.prototype.$8=function(){"use strict";var a=this.$17()===b("ReactComposerAttachmentType").MEDIA;return b("React").createElement(b("ReactComposerMediaEagerAttachment.react"),{key:"media",config:this.props.config,postButtonModule:k?k:b("ReactComposerFeedMediaPostButtonContainer.react"),selected:a})};a.prototype.$13=function(){"use strict";var a=this.$17()===b("ReactComposerAttachmentType").LIST;return b("ReactComposerListLazyAttachment.react")?b("React").createElement(b("ReactComposerListLazyAttachment.react"),{key:b("ReactComposerAttachmentType").LIST,config:this.props.config,selected:a}):null};a.prototype.$12=function(){"use strict";var a=this.$17()===b("ReactComposerAttachmentType").VISUAL_POLL;return b("ReactComposerVisualPollLazyAttachment.react")?b("React").createElement(b("ReactComposerVisualPollLazyAttachment.react"),{key:b("ReactComposerAttachmentType").VISUAL_POLL,config:this.props.config,selected:a}):null};a.prototype.$9=function(){"use strict";var a=this.$17()===b("ReactComposerAttachmentType").LIVE_VIDEO;return b("React").createElement(b("ReactComposerLiveVideoLazyAttachment.react"),{key:"live_video",config:this.props.config,postButtonModule:b("ReactComposerLiveVideoPreviewButton.react"),selected:a})};a.prototype.$11=function(){"use strict";return!this.props.config.attachmentsConfig[b("ReactComposerAttachmentType").QANDA].enabled?null:b("React").createElement(b("ReactComposerQAndALazyAttachment.react"),{key:"qanda",config:this.props.config})};a.prototype.$14=function(){"use strict";var a=this.$17()===b("ReactComposerAttachmentType").AUDIENCE_SELECTOR;return j?b("React").createElement(j,{key:"audience_selector",config:this.props.config,selected:a,shouldShowSharesheetNux:i}):null};a.prototype.$15=function(){"use strict";var a=this.$17()===b("ReactComposerAttachmentType").SHARING_SPACES_SELECTOR;a&&b("ifRequired")("ReactComposerCollectionsStore",function(a){a.loadCollections(this.props.contextConfig.composerID)}.bind(this));return n?b("React").createElement(n,{config:this.props.config,key:"sharingSpacesSelectorAttachment",selected:a}):null};a.prototype.$10=function(){"use strict";var a=this.$17()===b("ReactComposerAttachmentType").PLACE_LIST;return b("ReactComposerPlaceListLazyAttachment.react")?b("React").createElement(b("ReactComposerPlaceListLazyAttachment.react"),{key:b("ReactComposerAttachmentType").PLACE_LIST,config:this.props.config,bootload:function(a){return b("Bootloader").loadModules(["ReactFeedComposerPlaceListAttachmentContainer.react","ReactComposerPlaceListPostButtonContainer.react"],a,"ReactFeedSproutsComposerX.react")},selected:a}):null};a.prototype.$16=function(){"use strict";var a=this.$17()===b("ReactComposerAttachmentType").LIVING_ROOM;return b("ReactComposerLivingRoomLazyAttachment.react")?b("React").createElement(b("ReactComposerLivingRoomLazyAttachment.react"),{key:b("ReactComposerAttachmentType").LIVING_ROOM,config:this.props.config,selected:a}):null};a.prototype.$3=function(){"use strict";return l?b("React").createElement(l,null):null};a.prototype.$4=function(){"use strict";var a=this.props.config.taggersConfig;if(a&&a[b("ReactComposerTaggerType").FUN_FACT]&&a[b("ReactComposerTaggerType").FUN_FACT].enabled){a=this.props.contextConfig.extraConfig;return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ReactComposerFunFactSinglePromptTaggerContainer.react").__setRef("ReactFeedSproutsComposerX.react"),bootloadPlaceholder:b("React").createElement("div",null),entryPoint:a&&a.entryPoint,pinnedPromptID:a&&a.funFactPromptID})}return null};a.prototype.$5=function(){"use strict";var a=this.props.config.taggersConfig;if(a&&a[b("ReactComposerTaggerType").FUN_FACT]&&a[b("ReactComposerTaggerType").FUN_FACT].enabled){a=this.props.contextConfig.extraConfig;a&&a.funFactShowAskTagger&&b("ReactComposerTaggerActions").setTaggerData(this.props.contextConfig.composerID,b("ReactComposerLoggingName").FUN_FACT,b("ReactComposerTaggerType").FUN_FACT,{isAskPost:!0});return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ReactComposerFunFactAskPromptTaggerContainer.react").__setRef("ReactFeedSproutsComposerX.react"),bootloadPlaceholder:b("React").createElement("div",null),entryPoint:a&&a.entryPoint})}return null};a.prototype.$1=function(){"use strict";__p&&__p();var a=this.props.config.taggersConfig;if(a&&a[b("ReactComposerTaggerType").FUNDRAISER]&&a[b("ReactComposerTaggerType").FUNDRAISER].enabled){var c=this.props.contextConfig.extraConfig&&this.props.contextConfig.extraConfig.charityID;if(c){b("ReactComposerTaggerActions").setTaggerData(this.props.contextConfig.composerID,b("ReactComposerLoggingName").FUNDRAISER_SPROUT,b("ReactComposerTaggerType").FUNDRAISER,{charityID:c});var d=this.props.contextConfig.extraConfig&&this.props.contextConfig.extraConfig.promotionalSource;b("Bootloader").loadModules(["ReactComposerFundraiserAttachmentActions"],function(a){a.prefillFundraiserAttachment(this.props.contextConfig.composerID,c,this.props.contextConfig.actorID,d)}.bind(this),"ReactFeedSproutsComposerX.react")}}};a.prototype.$17=function(){"use strict";var a=this.props.prefillConfig;return a&&a.selectedAttachment?a.selectedAttachment:b("ReactComposerAttachmentType").STATUS};function a(){"use strict";h.apply(this,arguments)}a.childContextTypes=b("ReactComposerContextProviderMixin").childContextTypes;e.exports=a}),null);
__d("ReactFeedSproutsComposerXBootloader",["csx","Arbiter","AsyncRequest","Bootloader","CSS","DOM","Event","PUWMethods","ReactComposerAttachmentActions","ReactComposerAttachmentType","ReactComposerInit","ReactComposerLoggingName","ReactComposerPromptsStore","ReactComposerTaggerActions","ReactComposerTaggerType","ReactFeedSproutsComposerX.react","ReactInputSelection","Run","SharesheetDestination","SubscriptionsHandler","XReactComposerLoggingODSController","$","ge","getActiveElement","ifRequired"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;a={_inputDOMs:[],_fileInputSubscriptions:b("SubscriptionsHandler"),_prefillSubscription:null,bootload:function(a,c){var d=b("$")("feedx_sprouts_container"),e=b("DOM").find(d,"._559p"),f=b("CSS").hasClass(e,"async_saving");f?(h=new(b("SubscriptionsHandler"))(),h.addSubscriptions(b("Event").listen(e,"success",function(){this._bootloadImpl(a,d,c)}.bind(this)),b("Event").listen(e,"error",function(){this._bootloadImpl(a,d,c)}.bind(this)))):this._bootloadImpl(a,d,c);b("Run").onLeave(this._cleanup.bind(this))},_bootloadImpl:function(a,c,d){__p&&__p();d.config.audienceXHP=this._getXHPToReactNode(c,"._ej0");var e=b("DOM").scry(c,"._16ve")[0],f=this._handlePendingMediaUploads(a,c,d,e);f=this._determineActiveAttachment(c,f);var g=!1;b("ifRequired")("ReactFeedSproutsComposerXBody",function(c){var e=c.getDroppedFiles();if(e.length>0){g=!0;var h=c.getDroppedAsset3DFile();h?(f=b("ReactComposerAttachmentType").STATUS,b("ReactComposerTaggerActions").setTaggerData(a,b("ReactComposerLoggingName").ASSET_3D,b("ReactComposerTaggerType").ASSET_3D,{file:h})):(f=b("ReactComposerAttachmentType").MEDIA,this._uploadExistingFiles(e,a,d));c.clearDroppedFiles()}c.setOnFilesDropCallback(function(){b("ReactComposerAttachmentActions").selectAttachment(a,b("ReactComposerAttachmentType").MEDIA,!0,b("ReactComposerLoggingName").MEDIA_SPROUT),this._uploadExistingFiles(c.getDroppedFiles(),a,d),c.clearDroppedFiles()}.bind(this))}.bind(this));e=e.getAttribute("data-selected-sprout-id");d.prefillConfig=Object.assign(d.prefillConfig,this._appendPrefillConfig(c,a,f,f==b("ReactComposerAttachmentType").SHARING_SPACES_SELECTOR?b("ReactComposerAttachmentType").STATUS:null,e,g));e=b("DOM").scry(c,"._1qf9");d.prefillConfig.messengerSectionVisible=e.length>0;e=b("DOM").scry(c,"._66-n");e.forEach(function(a){a.dataset.destination==b("SharesheetDestination").STORIES?(d.prefillConfig.storiesSelected=b("CSS").matchesSelector(a,"._1sfg"),d.prefillConfig.storiesFirstNuxInheritedFromXHP=b("CSS").matchesSelector(a,"._6hqu")):a.dataset.destination==b("SharesheetDestination").TIMELINE&&(d.prefillConfig.timelineSelected=b("CSS").matchesSelector(a,"._1sfg"))});this._initComposer(d,c,a)},_handlePendingMediaUploads:function(a,c,d,e){var f=!1;c=d.contextConfig.gks.photoTab?b("DOM").scry(c,'input[name="composer_photo[]"]'):b("DOM").scry(e,'input[name="composer_photo[]"]');this._subscriptions=new(b("SubscriptionsHandler"))();c.forEach(function(c){c&&(this._inputDOMs.push(c),this._subscriptions.addSubscriptions(b("Event").listen(c,"change",function(c){c=c.target;c.files&&c.files.length>0&&(this._uploadExistingFiles(c.files,a,d),b("ReactComposerAttachmentActions").selectAttachment(a,b("ReactComposerAttachmentType").MEDIA,!0,b("ReactComposerLoggingName").MEDIA_SPROUT))}.bind(this))),c.files&&c.files.length>0&&(f=!0,this._uploadExistingFiles(c.files,a,d)))}.bind(this));return f},_determineActiveAttachment:function(a,c){if(b("CSS").matchesSelector(b("DOM").find(a,"._1cx1"),"._2-q9"))return b("ReactComposerAttachmentType").SHARING_SPACES_SELECTOR;if(c)return b("ReactComposerAttachmentType").MEDIA;c=b("DOM").scry(a,"._5qtn")[0];return c&&c.getAttribute("data-attachment-type")===b("ReactComposerAttachmentType").LIVE_VIDEO?b("ReactComposerAttachmentType").LIVE_VIDEO:b("ReactComposerAttachmentType").STATUS},_initComposer:function(a,c,d){b("ReactComposerInit").init(b("ReactFeedSproutsComposerX.react"),a,c);c=b("XReactComposerLoggingODSController").getURIBuilder().setString("event","bootload_done").setEnum("composer_type",a.contextConfig.composerType).getURI();new(b("AsyncRequest"))(c).send();h&&h.release();b("Arbiter").inform("ReactFeedComposerXBootloader/bootload/"+d,a)},_appendPrefillConfig:function(a,c,d,e,f,g){__p&&__p();d===void 0&&(d=b("ReactComposerAttachmentType").STATUS);e===void 0&&(e=null);f===void 0&&(f=null);g===void 0&&(g=!1);var h=b("DOM").find(a,"._3en1"),i=b("getActiveElement")()==h||b("CSS").hasClass(b("DOM").find(a,".focus_target"),"child_was_focused"),j=b("ge")("pagelet_composer")||b("ge")("content")||document;j=b("DOM").scry(j,"._1b3n").length!=0;a=b("CSS").matchesSelector(b("DOM").find(a,"._1cx1"),"._4qr4");var k={text:h.value};c=b("ReactComposerPromptsStore").getMinutiaeData(c);f=f;return{mentionsInput:{textWithEntities:k,selection:b("ReactInputSelection").getSelection(h)},selectedAttachment:g||j?d:undefined,shouldActivateSelectedAttachment:g||(i||!!c)&&!f,proxiedAttachmentID:e,taggersData:c,selectedTagger:f,expandSproutsOnInit:a}},_getXHPToReactNode:function(a,c){a=b("DOM").scry(a,c);if(a.length===0)return null;c=a[0];a=c.cloneNode(!0);c.parentNode.replaceChild(a,c);return c},_uploadExistingFiles:function(a,c,d){var e=d.config.attachmentsConfig[b("ReactComposerAttachmentType").MEDIA];b("Bootloader").loadModules(["ReactComposerMediaUtils","ReactComposerPhotoUploader"],function(f,g){f.uploadPhotosOrVideo(c,Array.prototype.slice.call(a),new g(d.contextConfig,e.photoLimit,{disableFaceRecognition:e.disableFaceboxTagger}),d.config.targetData.targetSupportsMultiplePhotos,b("PUWMethods").FILE_SELECTOR,d.config.targetData.targetSupportsMultiMedia,e)},"ReactFeedSproutsComposerXBootloader")},_cleanup:function(){this._subscriptions.release();for(var a=0;a<this._inputDOMs.length;a++)delete this._inputDOMs[a];delete this._inputDOMs;this._inputDOMs=[];this._prefillSubscription&&this._prefillSubscription.unsubscribe();this._prefillSubscription=null;b("ifRequired")("ReactFeedSproutsComposerXBody",function(a){a.cleanup()})}};e.exports=a}),null);