if (self.CavalryLogger) { CavalryLogger.start_js(["3pCtA"]); }

__d("AudienceManagerEngagementVideoSelectionError.react",["cx","ix","CenteredContainer.react","Image.react","Link.react","React","SUIBusinessTheme","SUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.$1=function(){return this.props.subtitleLabel==null||this.props.subtitleLabel===""?null:b("React").createElement(b("SUIText.react"),{display:"block",shade:"light",size:"meta1",theme:b("SUIBusinessTheme")},this.props.subtitleLabel)};a.prototype.$2=function(){if(this.props.actionLabel==null||this.props.actionLabel==="")return null;return!this.props.onActionClick?b("React").createElement(b("SUIText.react"),{display:"block",shade:"light",size:"meta1",theme:b("SUIBusinessTheme")},this.props.actionLabel):b("React").createElement(b("Link.react"),{onClick:this.props.onActionClick},b("React").createElement("div",{display:"block"},this.props.actionLabel))};a.prototype.render=function(){return b("React").createElement(b("CenteredContainer.react"),{horizontal:!0,vertical:!0},b("React").createElement(b("Image.react"),{src:h("76143")}),b("React").createElement(b("SUIText.react"),{className:"_3-8x",display:"block",shade:"light",size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},this.props.mainLabel),this.$1(),this.$2())};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("TextInputFilter.brands",["AdsGenericFilter","AdsGenericFilterOperator","Keys","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=200;d=babelHelpers.inherits(a,b("React").Component);g=d&&d.prototype;function a(a){__p&&__p();g.constructor.call(this,a),this.$3=null,this.$1=function(a){a=a.target.value;this.setState({value:a});if(!a)this.setState({filter:null},this.$4);else{a=new(b("AdsGenericFilter"))(this.props.filterField,b("AdsGenericFilterOperator").CONTAIN,a.trim());this.setState({filter:a},this.$4)}}.bind(this),this.$2=function(a){a.charCode===b("Keys").RETURN&&this.$5()}.bind(this),this.$5=function(){clearTimeout(this.$3),this.props.onChange(this.state.filter)}.bind(this),this.$4=function(){this.$3&&clearTimeout(this.$3),this.$3=setTimeout(this.$5,this.props.changeDebounceMS)}.bind(this),this.state={filter:null,value:a.value||""}}a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.props.hasCustomValue&&a.value!==this.state.value&&this.setState({value:a.value})};a.prototype.render=function(){return b("React").createElement("input",{className:this.props.className,value:this.state.value,onChange:this.$1,onKeyPress:this.$2,placeholder:this.props.placeholder,onKeyDown:this.props.onKeyDown})};a.defaultProps={hasCustomValue:!1,changeDebounceMS:c};e.exports=a}),null);
__d("AdsFilterWidgets.react",["cx","fbt","AdsGenericFilter","AdsGenericFilterField","AdsGenericFilterOperator","AdsGenericFilterSet","AdsGenericFilterSetUtil","Layout.react","React","SUIBusinessTheme","SUIText.react","TextInputFilter.brands","XUISelector.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("Layout.react").Column,k=b("Layout.react").FillColumn;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={filterText:this.props.value,selectorValue:this.props.initialSelectorValue,filterSet:null},this.$2=function(event){var a=event.target.value;this.setState({filterText:a});this.props.onTextChange(a)}.bind(this),this.$3=function(a){if(!this.props.onFilterSetChange)this.setState({selectorValue:a.value}),this.props.onSelectorChange(a.value);else{a=new(b("AdsGenericFilter"))(this.props.selectorFilterField,b("AdsGenericFilterOperator").EQUAL,a.value);a?this.$4(a):this.$5(this.props.selectorFilterField)}}.bind(this),this.$1=function(a){a?this.$4(a):this.$5(this.props.textFilterField)}.bind(this),this.$4=function(a){var c;this.state.filterSet?c=b("AdsGenericFilterSetUtil").mergeByField(this.state.filterSet,new(b("AdsGenericFilterSet"))([a])):c=new(b("AdsGenericFilterSet"))([a]);this.setState({filterSet:c},this.$6)}.bind(this),this.$5=function(a){a=b("AdsGenericFilterSetUtil").excludeFiltersByField(this.state.filterSet,a);this.setState({filterSet:a},this.$6)}.bind(this),this.$6=function(){this.props.onFilterSetChange(this.state.filterSet)}.bind(this),c}a.prototype.UNSAFE_componentWillReceiveProps=function(a){a.value!==undefined&&a.value!==this.state.filterText&&this.setState({filterText:a.value})};a.prototype.render=function(){var a=this.props.onFilterSetChange?b("React").createElement(b("TextInputFilter.brands"),{className:"_5r_g _1f9c",placeholder:this.props.placeholder,filterField:this.props.textFilterField,onChange:this.$1,onKeyDown:this.props.onKeyDown}):b("React").createElement("input",{className:"_5r_g _1f9c autofocus",placeholder:this.props.placeholder,value:this.state.filterText,onChange:this.$2,onKeyDown:this.props.onKeyDown});if(this.props.hasSelector)return b("React").createElement(b("Layout.react"),this.props,b("React").createElement(k,null,a),b("React").createElement(j,{className:"_3-9a"},b("React").createElement(b("SUIText.react"),{className:"_3-90",size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},h._("Filter By:")),b("React").createElement(b("XUISelector.react"),{className:"_5r_h",initialValue:this.props.initialSelectorValue,maxheight:300,size:"large",onChange:this.$3},this.props.selectorOptions)));else return b("React").createElement("div",{className:this.props.className},a)};a.propTypes={selectorOptions:c.array,initialSelectorValue:c.string,onSelectorChange:c.func,hasSelector:c.bool.isRequired,onTextChange:c.func,placeholder:c.string,value:c.string,onFilterSetChange:c.func,textFilterField:c.instanceOf(b("AdsGenericFilterField")),selectorFilterField:c.instanceOf(b("AdsGenericFilterField")),showMagnifyingGlass:c.bool,onKeyDown:c.func};a.defaultProps={placeholder:h._("Search"),showMagnifyingGlass:!0};e.exports=a}),null);
__d("SEBottomButton.react",["FDSButton.react","FDSText.react","React","suiMargin"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){var a=this.props.superText?b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-99 _3-8-",size:"body3"},this.props.superText):null,c=this.props.superDisclaimerText?b("React").createElement(b("FDSText.react"),{color:"placeholder",display:"block",margin:"_3-99 _3-8-",size:"body3"},this.props.superDisclaimerText):null,d=this.props.subDisclaimerText?b("React").createElement(b("FDSText.react"),{color:"placeholder",display:"block",margin:"_3-8y",size:"body3"},this.props.subDisclaimerText):null,e=this.props.subText?b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-8y",size:"body3",textAlign:"center"},this.props.subText):null;return b("React").createElement(b("React").Fragment,null,a,c,b("React").createElement(b("FDSButton.react"),{isDisabled:this.props.isDisabled,label:this.props.label,margin:"_3-8y",size:"large",use:this.props.use,width:"100%",onClick:this.props.onClick}),d,e)};function a(){g.apply(this,arguments)}a.defaultProps={use:"primary"};e.exports=a}),null);
__d("SEModalContent.react",["cx","FDSText.react","Image.react","React","SEBottomButton.react","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.renderImage=function(){return this.props.imageSrc?b("React").createElement(b("Image.react"),{className:"_3-98",src:this.props.imageSrc}):null};a.prototype.renderPrimaryButton=function(){return this.props.primaryButton?b("React").createElement(b("SEBottomButton.react"),{label:this.props.primaryButton.label,onClick:this.props.primaryButton.onClick}):null};a.prototype.renderSecondaryButton=function(){return this.props.secondaryButton?b("React").createElement(b("SEBottomButton.react"),{label:this.props.secondaryButton.label,use:"default",onClick:this.props.secondaryButton.onClick}):null};a.prototype.renderSubtitle=function(){return this.props.subtitle!==null?b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-96",size:"body3",textAlign:"center"},this.props.subtitle):null};a.prototype.renderTitle=function(){return b("React").createElement(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-94",size:"header1",textAlign:"center",weight:"bold"},this.props.title)};a.prototype.render=function(){return b("React").createElement("div",{className:this.props.className},this.renderImage(),this.renderTitle(),this.renderSubtitle(),this.renderPrimaryButton(),this.renderSecondaryButton())};function a(){h.apply(this,arguments)}a.defaultProps={className:"_3d5h"};e.exports=a}),null);
__d("ShopSettingsAddButton.react",["ix","cx","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("Image.react"),{className:"_3-8_",src:g("550827")}),this.props.label)};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("ShopSettingsAddShippingProfileCreateShippingProfileMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"FixedShippingProfileCreateData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"fixed_shipping_profile_create",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"FixedShippingProfileCreateData!"}],concreteType:"FixedShippingProfileCreateResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"fixed_cost_shipping_profile",storageKey:null,args:null,concreteType:"FixedCostShippingProfile",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}];return{kind:"Request",operationKind:"mutation",name:"ShopSettingsAddShippingProfileCreateShippingProfileMutation",id:"2005279382835539",text:null,metadata:{},fragment:{kind:"Fragment",name:"ShopSettingsAddShippingProfileCreateShippingProfileMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"ShopSettingsAddShippingProfileCreateShippingProfileMutation",argumentDefinitions:a,selections:b}}}();e.exports=a}),null);
__d("ShopSettingsAddShippingProfileRefetchQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"pageID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"pageID",type:"ID!"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",operationKind:"query",name:"ShopSettingsAddShippingProfileRefetchQuery",id:"1712325772213065",text:null,metadata:{},fragment:{kind:"Fragment",name:"ShopSettingsAddShippingProfileRefetchQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"LinkedField",alias:"settings",name:"preferred_merchant_settings",storageKey:null,args:null,concreteType:"CommerceMerchantSettings",plural:!1,selections:[{kind:"FragmentSpread",name:"ShopSettingsAddShippingProfile_settings",args:null}]}]}]},operation:{kind:"Operation",name:"ShopSettingsAddShippingProfileRefetchQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"LinkedField",alias:"settings",name:"preferred_merchant_settings",storageKey:null,args:null,concreteType:"CommerceMerchantSettings",plural:!1,selections:[{kind:"ScalarField",alias:"currency",name:"default_currency",args:null,storageKey:null},{kind:"LinkedField",alias:"shippingProfile",name:"universal_shipping_profile",storageKey:null,args:null,concreteType:"FixedCostShippingProfile",plural:!1,selections:[c]},{kind:"ScalarField",alias:"canVisitorSeeShopTab",name:"can_visitor_see_shop_tab",args:null,storageKey:null},c]},c]}]}}}();e.exports=a}),null);
__d("ShopSettingsAddShippingProfile_settings.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"ShopSettingsAddShippingProfile_settings",type:"CommerceMerchantSettings",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:"currency",name:"default_currency",args:null,storageKey:null},{kind:"LinkedField",alias:"shippingProfile",name:"universal_shipping_profile",storageKey:null,args:null,concreteType:"FixedCostShippingProfile",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]},{kind:"FragmentSpread",name:"ShopSettingsConfirmShopVisibility_settings",args:null}]};e.exports=a}),null);
__d("ShopSettingsConfirmShopVisibility_settings.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"ShopSettingsConfirmShopVisibility_settings",type:"CommerceMerchantSettings",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:"canVisitorSeeShopTab",name:"can_visitor_see_shop_tab",args:null,storageKey:null}]};e.exports=a}),null);
__d("XPagesProfileShopController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/{page_token}/shop/",{page_token:{type:"String",required:!0},business_id:{type:"Int"},rid:{type:"Int"},rt:{type:"Enum",enumType:0},location:{type:"Enum",enumType:1},share_id:{type:"Int"},marketplace_initial_tracking:{type:"String"},marketplace_referral_story_type:{type:"Enum",enumType:1},marketplace_tracking:{type:"String"},ref:{type:"String"},referral_story_type:{type:"Enum",enumType:1},cid:{type:"Int"},obs:{type:"String"},hsi:{type:"Int"},offer_id:{type:"Int"},updated_cids:{type:"IntVector"},new_pids_count:{type:"IntVector"},new_pids:{type:"IntVector"},search_text:{type:"String"},__nodl:{type:"Exists",defaultValue:!1},qr:{type:"String"},qr_code_id:{type:"FBID"},scan_session_id:{type:"String"},mt_nav:{type:"Bool",defaultValue:!1},referrer:{type:"String"},msite_tab_async:{type:"Bool",defaultValue:!1},_sref_:{type:"Int"},_vref_:{type:"Int"}})}),null);
__d("ShopSettingsConfirmShopVisibility.react",["cx","fbt","ix","CommerceRefType","React","RelayModern","SEModalContent.react","SUIModal.react","XCommerceProductsParam","XPagesProfileShopController","goURI","ShopSettingsConfirmShopVisibility_settings.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;d=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var k=550;f=babelHelpers.inherits(a,b("React").Component);j=f&&f.prototype;function a(){var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return d=(a=j.constructor).call.apply(a,[this].concat(f)),this.state={isShopVisibleToVisitorsPreviously:(c=this.props)!=null?(c=c.settings)!=null?c.canVisitorSeeShopTab:c:c},this.onShopLinkClick=function(){var a=b("XPagesProfileShopController").getURIBuilder().setEnum(b("XCommerceProductsParam").REF_TYPE,b("CommerceRefType").PUBLISHING_TOOLS).setString("page_token",this.props.pageID).getURI();b("goURI")(a)}.bind(this),d}a.prototype.render=function(){var a;a=this.props.isShown&&((a=this.props)!=null?(a=a.settings)!=null?a.canVisitorSeeShopTab:a:a)&&!this.state.isShopVisibleToVisitorsPreviously;return!a?null:b("React").createElement(b("SUIModal.react"),{footer:null,isShown:this.props.isShown,label:"Confirm shop is now visible to visitors",width:k,onHide:this.props.onHide},b("React").createElement(b("SEModalContent.react"),{className:"_6sya",imageSrc:i("94361"),primaryButton:{label:h._("Done"),onClick:this.props.onHide},secondaryButton:{label:h._("See My Shop"),onClick:this.onShopLinkClick},subtitle:h._("You've updated your shipping options and your shop is now visible to customers."),title:h._("Your shipping options are set!")}))};e.exports=d(a,{settings:function(){return b("ShopSettingsConfirmShopVisibility_settings.graphql")}})}),null);
__d("CommerceStringUtils",[],(function(a,b,c,d,e,f){"use strict";var g=/^-?\d+$/;a={isEmpty:function(a){return a==null||a.trim()===""},isInteger:function(a){return a!=null&&g.test(a)}};e.exports=a}),null);
__d("ShopSettingsShippingOptionInput.react",["cx","fbt","AdsCurrencyInput.react","CommerceStringUtils","FlexLayout.react","React","SUIText.react","SUITextInput.react","XUICardSection.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=babelHelpers.inherits(j,b("React").PureComponent);i=a&&a.prototype;function j(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={additionalItemCostError:null,arrivalMinError:null,arrivalMaxError:null,baseCostError:null,nameError:null},b}j.validate=function(a){__p&&__p();var c=a.additionalItemCost,d=a.arrivalMin,e=a.arrivalMax,f=a.baseCost;a=a.name;var g={additionalItemCostError:null,arrivalMinError:null,arrivalMaxError:null,baseCostError:null,nameError:null},i=Number(e||0),j=Number(d||0),k=h._("This field is required"),l=h._("Please input a number");c||(g.additionalItemCostError=k);f||(g.baseCostError=k);a||(g.nameError=k);!d?g.arrivalMinError=k:b("CommerceStringUtils").isInteger(d)||(g.arrivalMinError=l);!e?g.arrivalMaxError=k:b("CommerceStringUtils").isInteger(e)||(g.arrivalMaxError=l);i<0&&(g.arrivalMaxError=h._("The maximum estimated delivery time must be greater than zero"));j<0&&(g.arrivalMinError=h._("The minimum estimated delivery time must be greater than zero"));j>i&&(g.arrivalMinError=h._("The minimum estimated delivery time must be less than the maximum"));i>7&&(g.arrivalMaxError=h._("The maximum estimated delivery time must be less than 7 days"));return g};j.getDerivedStateFromProps=function(a,b){return a.showErrors?j.validate(a):{additionalItemCostError:null,arrivalMinError:null,arrivalMaxError:null,baseCostError:null,nameError:null}};j.prototype.render=function(){return b("React").createElement("div",{className:"_11gz"},b("React").createElement(b("XUICardSection.react"),{className:"_11g_"},b("React").createElement(b("FlexLayout.react"),{align:"center",justify:"all"},b("React").createElement(b("SUIText.react"),{display:"block",weight:"bold"},h._("Shipping Type")),b("React").createElement(b("SUITextInput.react"),{display:"inline",errorMessage:this.state.nameError,name:"name",placeholder:h._("For example, Standard Shipping"),value:this.props.name,width:300,onChange:function(a){return this.props.onChange("name",a)}.bind(this)}))),b("React").createElement(b("XUICardSection.react"),{className:"_11g_"},b("React").createElement(b("FlexLayout.react"),{align:"center",justify:"all"},b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{display:"block",weight:"bold"},h._("Estimated Days to Delivery")),b("React").createElement(b("SUIText.react"),{color:"secondary",display:"block",style:{marginRight:"8px"}},h._("You're responsible for shipping items within 3 days from when an order is placed. Items must be delivered within 7 days from shipment."))),b("React").createElement(b("SUITextInput.react"),{display:"inline",errorMessage:this.state.arrivalMinError,name:"arrivalMin",placeholder:h._("Min"),style:{marginRight:"8px"},value:this.props.arrivalMin,width:60,onChange:function(a){return this.props.onChange("arrivalMin",a)}.bind(this)}),b("React").createElement(b("SUITextInput.react"),{display:"inline",errorMessage:this.state.arrivalMaxError,name:"arrivalMax",placeholder:h._("Max"),value:this.props.arrivalMax,width:60,onChange:function(a){return this.props.onChange("arrivalMax",a)}.bind(this)}))),b("React").createElement(b("XUICardSection.react"),{className:"_11g_"},b("React").createElement(b("FlexLayout.react"),{align:"center",justify:"all"},b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{display:"block",weight:"bold"},h._("Price")),b("React").createElement(b("SUIText.react"),{color:"secondary",display:"block",style:{marginRight:"8px"}},h._("The base price of this shipping option"))),b("React").createElement(b("AdsCurrencyInput.react"),{currency:this.props.currency,errorMessage:this.state.baseCostError,value:Number(this.props.baseCost),width:128,onDataUpdate:function(a){this.props.onChange("baseCost",String(a))}.bind(this)}))),b("React").createElement(b("XUICardSection.react"),{className:"_11g_"},b("React").createElement(b("FlexLayout.react"),{align:"center",justify:"all"},b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{display:"block",weight:"bold"},h._("Price per Additional Item")),b("React").createElement(b("SUIText.react"),{color:"secondary",display:"block",style:{marginRight:"8px"}},h._("This is the amount added for every additional item in the order when this shipping option is selected."))),b("React").createElement(b("AdsCurrencyInput.react"),{currency:this.props.currency,errorMessage:this.state.additionalItemCostError,value:Number(this.props.additionalItemCost),width:128,onDataUpdate:function(a){this.props.onChange("additionalItemCost",String(a))}.bind(this)}))))};e.exports=j}),null);
__d("ShopSettingsTableFooter.react",["FDSDivider.react","React","suiMargin"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSDivider.react"),{margin:"_3-97"}),this.props.children)};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("ShopSettingsTableFooterLink.react",["React","SUILink.react","SUIText.react","suiMargin"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("SUILink.react"),{display:"block",margin:"_3-97",showUnderline:"never",onClick:this.props.onClick},b("React").createElement(b("SUIText.react"),{color:"interactive",size:"body3",weight:"bold"},this.props.children))};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("ShopSettingsAddShippingProfile.react",["cx","fbt","FDSButton.react","FDSCancelButton.react","FDSModalFooter.react","FDSModalHeader.react","LeftRight.react","React","RelayFBEnvironment","RelayModern","ShopSettingsAddButton.react","ShopSettingsConfirmShopVisibility.react","ShopSettingsShippingOptionInput.react","ShopSettingsTableFooter.react","ShopSettingsTableFooterLink.react","SUIModal.react","SUINotice.react","SUIText.react","SUITextInput.react","XUICardSection.react","nullthrows","suiMargin","ShopSettingsAddShippingProfileCreateShippingProfileMutation.graphql","ShopSettingsAddShippingProfile_settings.graphql","ShopSettingsAddShippingProfileRefetchQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("RelayModern").commitMutation;a=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;var k=function(){return b("ShopSettingsAddShippingProfileCreateShippingProfileMutation.graphql")};c=babelHelpers.inherits(l,b("React").Component);i=c&&c.prototype;function l(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={errorMessage:null,isSaving:!1,shippingProfileName:h._("Default Shipping Profile"),shippingProfileNameError:null,shippingOptions:[l.emptyShippingOption()],showErrors:!1,showShopVisibilityConfirmationModal:!1},this.onAddShippingOption=function(){this.setState(function(a){return{shippingOptions:[].concat(a.shippingOptions,[l.emptyShippingOption()])}})}.bind(this),this.onShopVisibilityConfirmationModalHide=function(){this.setState({showShopVisibilityConfirmationModal:!1})}.bind(this),this.onSave=function(){__p&&__p();if(this.state.isSaving||!this.validate())return;this.setState({isSaving:!0});var a=b("nullthrows")(this.props.settings.currency),c={name:this.state.shippingProfileName,page_id:this.props.pageID,shipping_options:this.state.shippingOptions.map(function(b){return{name:b.name,cost:{amount_in_hundredths:Number(b.baseCost),currency:a},cost_per_additional_item:{amount_in_hundredths:Number(b.additionalItemCost),currency:a},estimated_days_until_arrival:{max_days_to_arrival:b.arrivalMax,min_days_to_arrival:b.arrivalMin}}})};j(b("RelayFBEnvironment"),{mutation:k,onCompleted:function(){this.setState({isSaving:!1}),this.refetchShopVisibility()}.bind(this),onError:function(a){var b=null;switch(a.name){case"NetworkTransportError":b=h._("Couldn't connect to the server. Please try again later.");break;default:b=h._("An unexpected error occurred. Please try again later.")}this.setState({errorMessage:b,isSaving:!1})}.bind(this),variables:{input:c}})}.bind(this),c}l.emptyShippingOption=function(){return{additionalItemCost:"0",arrivalMin:null,arrivalMax:null,baseCost:"0",name:""}};l.prototype.validate=function(){__p&&__p();var a={errorMessage:null,shippingProfileNameError:null,showErrors:!0},c=!0;this.state.shippingProfileName||(c=!1,a.shippingProfileNameError=h._("This field is required"));var d=this.state.shippingOptions.map(function(a){a=b("ShopSettingsShippingOptionInput.react").validate(a);return!Object.values(a).reduce(function(a,b){return a||b!==null},!1)}).reduce(function(a,b){return a&&b},!0);c=c&&d;c||(a.errorMessage=h._("There are errors in this form, please correct them."));this.setState(a);return c};l.prototype.refetchShopVisibility=function(){var a;((a=this.props.settings)!=null?(a=a.shippingProfile)!=null?a.id:a:a)==null?this.props.relay.refetch({pageID:this.props.pageID},null,function(){this.setState({showShopVisibilityConfirmationModal:!0}),this.props.onHide()}.bind(this)):this.props.onHide()};l.prototype.renderInputFields=function(){var a=this.props.isProfileEnabled?b("React").createElement(b("ShopSettingsAddButton.react"),{label:h._("Add Shipping Option")}):b("React").createElement(b("ShopSettingsAddButton.react"),{label:h._("Add Another")});return b("React").createElement(b("React").Fragment,null,this.renderShippingProfileInputField(),this.renderShippingOptions(),b("React").createElement(b("XUICardSection.react"),{className:"_2m6g"},b("React").createElement(b("ShopSettingsTableFooter.react"),null,b("React").createElement(b("ShopSettingsTableFooterLink.react"),{onClick:this.onAddShippingOption},a))))};l.prototype.renderShippingOptions=function(){var a,c=((a=this.props)!=null?(a=a.settings)!=null?a.currency:a:a)||"USD";a=this.state.shippingOptions.map(function(a,d){return b("React").createElement("div",{className:(this.props.isProfileEnabled?"":"_68il")+(this.props.isProfileEnabled?" _1ci1":""),key:d},b("React").createElement(b("ShopSettingsShippingOptionInput.react"),babelHelpers["extends"]({},a,{currency:c,showErrors:this.state.showErrors,onChange:function(a,b){var c=this.state.shippingOptions;c[d][a]=b;this.setState({shippingOptions:c})}.bind(this)})))}.bind(this));return b("React").createElement(b("XUICardSection.react"),{className:"_2m6g"},a)};l.prototype.renderShippingProfileInputField=function(){return!this.props.isProfileEnabled?null:b("React").createElement(b("XUICardSection.react"),{className:"_2m6h"},this.state.errorMessage?b("React").createElement(b("SUINotice.react"),{margin:"_3-96",type:"error"},this.state.errorMessage):null,b("React").createElement(b("LeftRight.react"),null,b("React").createElement(b("SUIText.react"),{display:"block",weight:"bold"},h._("Shipping Profile Name")),b("React").createElement(b("SUITextInput.react"),{disabled:!0,display:"inline",errorMessage:this.state.shippingProfileNameError,name:"shippingProfileName",value:this.state.shippingProfileName.toString(),width:300,onChange:function(a){return this.setState({shippingProfileName:a,shippingProfileNameError:a===null||a.length===0?h._("This field is required"):null})}.bind(this)})))};l.prototype.render=function(){var a=this.props.isProfileEnabled?h._("Add Shipping Profile"):h._("Add Shipping Options");return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("SUIModal.react"),{footer:b("React").createElement(b("FDSModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{label:h._("Save"),use:"primary",onClick:this.onSave}),secondaryButton:b("React").createElement(b("FDSCancelButton.react"),null)}),header:b("React").createElement(b("FDSModalHeader.react"),{title:a}),isShown:this.props.isShown,label:a,width:600,onHide:this.props.onHide},this.renderInputFields()),b("React").createElement(b("ShopSettingsConfirmShopVisibility.react"),{isShown:this.state.showShopVisibilityConfirmationModal,pageID:this.props.pageID,settings:this.props.settings,onHide:this.onShopVisibilityConfirmationModalHide}))};e.exports=a(l,{settings:function(){return b("ShopSettingsAddShippingProfile_settings.graphql")}},function(){return b("ShopSettingsAddShippingProfileRefetchQuery.graphql")})}),null);
__d("OnsiteCommerceMerchantFixedShippingOptionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({STANDARD:"STANDARD",RUSH:"RUSH",EXPEDITED:"EXPEDITED"})}),null);
__d("ShopCreateTieredShippingOptionMutationCreateOptionMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"FixedCostShippingOptionCreateData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"fixed_cost_shipping_option_create",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"FixedCostShippingOptionCreateData!"}],concreteType:"FixedCostShippingOptionCreateResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"fixed_cost_shipping_option",storageKey:null,args:null,concreteType:"FixedCostShippingOption",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}];return{kind:"Request",operationKind:"mutation",name:"ShopCreateTieredShippingOptionMutationCreateOptionMutation",id:"1726666037381461",text:null,metadata:{},fragment:{kind:"Fragment",name:"ShopCreateTieredShippingOptionMutationCreateOptionMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"ShopCreateTieredShippingOptionMutationCreateOptionMutation",argumentDefinitions:a,selections:b}}}();e.exports=a}),null);
__d("ShopCreateTieredShippingOptionMutationCreateProfileMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"FixedShippingProfileCreateData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"fixed_shipping_profile_create",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"FixedShippingProfileCreateData!"}],concreteType:"FixedShippingProfileCreateResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"fixed_cost_shipping_profile",storageKey:null,args:null,concreteType:"FixedCostShippingProfile",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}];return{kind:"Request",operationKind:"mutation",name:"ShopCreateTieredShippingOptionMutationCreateProfileMutation",id:"2273534789339989",text:null,metadata:{},fragment:{kind:"Fragment",name:"ShopCreateTieredShippingOptionMutationCreateProfileMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"ShopCreateTieredShippingOptionMutationCreateProfileMutation",argumentDefinitions:a,selections:b}}}();e.exports=a}),null);
__d("ShopCreateTieredShippingOptionMutationEditOptionMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"FixedCostShippingOptionUpdateData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"fixed_cost_shipping_option_update",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"FixedCostShippingOptionUpdateData!"}],concreteType:"FixedCostShippingOptionUpdateResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"fixed_cost_shipping_option",storageKey:null,args:null,concreteType:"FixedCostShippingOption",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}];return{kind:"Request",operationKind:"mutation",name:"ShopCreateTieredShippingOptionMutationEditOptionMutation",id:"1624117297705899",text:null,metadata:{},fragment:{kind:"Fragment",name:"ShopCreateTieredShippingOptionMutationEditOptionMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"ShopCreateTieredShippingOptionMutationEditOptionMutation",argumentDefinitions:a,selections:b}}}();e.exports=a}),null);
__d("ShopCreateTieredShippingOptionMutation",["fbt","RelayModern","ShopCreateTieredShippingOptionMutationCreateOptionMutation.graphql","ShopCreateTieredShippingOptionMutationEditOptionMutation.graphql","ShopCreateTieredShippingOptionMutationCreateProfileMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=function(){return b("ShopCreateTieredShippingOptionMutationCreateOptionMutation.graphql")},j=function(){return b("ShopCreateTieredShippingOptionMutationEditOptionMutation.graphql")},k=function(){return b("ShopCreateTieredShippingOptionMutationCreateProfileMutation.graphql")};function a(a,b){__p&&__p();var c=b.variables;b=babelHelpers.objectWithoutProperties(b,["variables"]);if(c.fixed_cost_shipping_option_id!==null){var d=j;return h(a,babelHelpers["extends"]({mutation:d},b,{variables:{input:babelHelpers["extends"]({fixed_cost_shipping_option_id:c.fixed_cost_shipping_option_id},c.shipping_option)}}))}else if(c.fixed_cost_shipping_profile_id!==null){d=i;return h(a,babelHelpers["extends"]({mutation:d},b,{variables:{input:babelHelpers["extends"]({fixed_cost_shipping_profile_id:c.fixed_cost_shipping_profile_id},c.shipping_option)}}))}else{d=k;return h(a,babelHelpers["extends"]({mutation:d},b,{variables:{input:{name:g._("Default Shipping Profile"),page_id:c.page_id,shipping_options:[c.shipping_option]}}}))}}e.exports={commit:a}}),null);
__d("ShopSettingsAddTieredShippingOptionRefetchQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"pageID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"pageID",type:"ID!"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",operationKind:"query",name:"ShopSettingsAddTieredShippingOptionRefetchQuery",id:"1879139458867365",text:null,metadata:{},fragment:{kind:"Fragment",name:"ShopSettingsAddTieredShippingOptionRefetchQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"LinkedField",alias:"settings",name:"preferred_merchant_settings",storageKey:null,args:null,concreteType:"CommerceMerchantSettings",plural:!1,selections:[{kind:"FragmentSpread",name:"ShopSettingsAddTieredShippingOption_settings",args:null}]}]}]},operation:{kind:"Operation",name:"ShopSettingsAddTieredShippingOptionRefetchQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"LinkedField",alias:"settings",name:"preferred_merchant_settings",storageKey:null,args:null,concreteType:"CommerceMerchantSettings",plural:!1,selections:[{kind:"ScalarField",alias:"canVisitorSeeShopTab",name:"can_visitor_see_shop_tab",args:null,storageKey:null},c]},c]}]}}}();e.exports=a}),null);
__d("ShopSettingsAddTieredShippingOption_settings.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"ShopSettingsAddTieredShippingOption_settings",type:"CommerceMerchantSettings",metadata:null,argumentDefinitions:[],selections:[{kind:"FragmentSpread",name:"ShopSettingsConfirmShopVisibility_settings",args:null}]};e.exports=a}),null);
__d("ShopSettingsTieredShippingOptionInput.react",["cx","fbt","AdsCurrencyInput.react","CommerceStringUtils","FlexLayout.react","React","SUIText.react","SUITextInput.react","XUICardSection.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=babelHelpers.inherits(j,b("React").PureComponent);i=a&&a.prototype;function j(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={additionalItemCostError:null,arrivalMinError:null,arrivalMaxError:null,baseCostError:null},b}j.validate=function(a){__p&&__p();var c=a.additionalItemCost,d=a.arrivalMin,e=a.arrivalMax;a=a.baseCost;var f={additionalItemCostError:null,arrivalMinError:null,arrivalMaxError:null,baseCostError:null},g=Number(e||0),i=Number(d||0),j=h._("This field is required"),k=h._("Please input a number");c||(f.additionalItemCostError=j);a||(f.baseCostError=j);!d?f.arrivalMinError=j:b("CommerceStringUtils").isInteger(d)||(f.arrivalMinError=k);!e?f.arrivalMaxError=j:b("CommerceStringUtils").isInteger(e)||(f.arrivalMaxError=k);g<=0&&(f.arrivalMaxError=h._("The maximum estimated delivery time must be greater than zero"));i<0&&(f.arrivalMinError=h._("The minimum estimated delivery time must be greater than or equal to zero"));i>=g&&(f.arrivalMinError=h._("The minimum estimated delivery time must be less than the maximum"));g>7&&(f.arrivalMaxError=h._("The maximum estimated delivery time must be less than 7 days"));return f};j.getDerivedStateFromProps=function(a,b){return a.showErrors?j.validate(a):{additionalItemCostError:null,arrivalMinError:null,arrivalMaxError:null,baseCostError:null}};j.prototype.render=function(){return b("React").createElement("div",{className:"_11gz"},b("React").createElement(b("XUICardSection.react"),{className:"_11g_"},b("React").createElement(b("FlexLayout.react"),{align:"center",justify:"all"},b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{display:"block",weight:"bold"},h._("Estimated Days to Delivery")),b("React").createElement(b("SUIText.react"),{color:"secondary",display:"block",style:{marginRight:"8px"}},h._("You're responsible for shipping items within 3 days from when an order is placed. Items must be delivered within 7 days from shipment."))),b("React").createElement(b("SUITextInput.react"),{display:"inline",errorMessage:this.state.arrivalMinError,name:"arrivalMin",placeholder:h._("Min"),style:{marginRight:"8px"},value:this.props.arrivalMin,width:60,onChange:function(a){return this.props.onChange("arrivalMin",a)}.bind(this)}),b("React").createElement(b("SUITextInput.react"),{display:"inline",errorMessage:this.state.arrivalMaxError,name:"arrivalMax",placeholder:h._("Max"),value:this.props.arrivalMax,width:60,onChange:function(a){return this.props.onChange("arrivalMax",a)}.bind(this)}))),b("React").createElement(b("XUICardSection.react"),{className:"_11g_"},b("React").createElement(b("FlexLayout.react"),{align:"center",justify:"all"},b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{display:"block",weight:"bold"},h._("Price")),b("React").createElement(b("SUIText.react"),{color:"secondary",display:"block",style:{marginRight:"8px"}},h._("The base price of this shipping option"))),b("React").createElement(b("AdsCurrencyInput.react"),{currency:this.props.currency,errorMessage:this.state.baseCostError,value:Number(this.props.baseCost),width:128,onDataUpdate:function(a){this.props.onChange("baseCost",String(a))}.bind(this)}))),b("React").createElement(b("XUICardSection.react"),{className:"_11g_"},b("React").createElement(b("FlexLayout.react"),{align:"center",justify:"all"},b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{display:"block",weight:"bold"},h._("Price per Additional Item")),b("React").createElement(b("SUIText.react"),{color:"secondary",display:"block",style:{marginRight:"8px"}},h._("This is the amount added for every additional item in the order when this shipping option is selected."))),b("React").createElement(b("AdsCurrencyInput.react"),{currency:this.props.currency,errorMessage:this.state.additionalItemCostError,value:Number(this.props.additionalItemCost),width:128,onDataUpdate:function(a){this.props.onChange("additionalItemCost",String(a))}.bind(this)}))))};e.exports=j}),null);
__d("ShopsOnboardingLoadingOverlay",["cx","CenteredContainer.react","React","SUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return!this.props.isLoading?null:b("React").createElement(b("CenteredContainer.react"),{className:"_3hja",fullHeight:!0,horizontal:!0,vertical:!0},b("React").createElement(b("SUISpinner.react"),{background:"light",size:"large"}))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("ShopSettingsAddTieredShippingOption.react",["cx","fbt","AdsCurrencyFormatter","CurrencyConstants","FDSButton.react","FDSCancelButton.react","FDSModalFooter.react","FDSModalHeader.react","OnsiteCommerceMerchantFixedShippingOptionType","React","RelayFBEnvironment","RelayModern","ShopCreateTieredShippingOptionMutation","ShopSettingsConfirmShopVisibility.react","ShopSettingsTieredShippingOptionInput.react","ShopsOnboardingLoadingOverlay","SUIModal.react","SUINotice.react","nullthrows","suiMargin","ShopSettingsAddTieredShippingOption_settings.graphql","ShopSettingsAddTieredShippingOptionRefetchQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;var j={additionalItemCost:"0",arrivalMax:"",arrivalMin:"",baseCost:"0"};d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={errorMessage:null,isEditMode:!1,isSaving:!1,shippingOption:babelHelpers["extends"]({},j),shippingTier:null,showErrors:!1,showShopVisibilityConfirmationModal:!1},this.onSave=function(){__p&&__p();var a;if(this.state.isSaving)return;if(!this.validate()){this.setState({errorMessage:h._("There are errors in this form, please correct them."),showErrors:!0});return}var c=this.state.shippingOption.baseCost,d=Number(this.state.shippingOption.additionalItemCost),e=Number(this.state.shippingOption.arrivalMax),f=Number(this.state.shippingOption.arrivalMin),g=this.getCurrency();a=(a=this.props)!=null?(a=a.option)!=null?a.id:a:a;var i=this.state.isEditMode?null:b("nullthrows")(this.state.shippingTier);this.setState({errorMessage:null});var j=this.props.onSave;if(j){j({cost:{amount:c,amountInHundredths:Number(c),formatted:b("AdsCurrencyFormatter").formatCurrency(g,Number(c))},costPerAdditionalItem:{amountInHundredths:d},estimatedDaysToArrival:{max:e,min:f},id:this.state.isEditMode?b("nullthrows")(a):i,shippingTier:i});this.refetchShopVisibility();return}j=this.props.shippingProfileID;c={cost:{amount_in_hundredths:Number(c),currency:g},cost_per_additional_item:{amount_in_hundredths:d,currency:g},estimated_days_until_arrival:{max_days_to_arrival:e,min_days_to_arrival:f},shipping_tier:i};this.setState({isSaving:!0});b("ShopCreateTieredShippingOptionMutation").commit(b("RelayFBEnvironment"),{onCompleted:function(){this.refetchShopVisibility()}.bind(this),onError:function(a){a=h._("An unexpected error occurred. Please try again later.");this.setState({errorMessage:a,isSaving:!1})}.bind(this),variables:{fixed_cost_shipping_option_id:a,fixed_cost_shipping_profile_id:j,shipping_option:c,page_id:this.props.pageID}})}.bind(this),this.onShopVisibilityConfirmationModalHide=function(){this.setState({showShopVisibilityConfirmationModal:!1})}.bind(this),c}a.getDerivedStateFromProps=function(a,b){__p&&__p();var c,d,e,f,g;if(!a.shippingOptionTier&&!a.option)return babelHelpers["extends"]({},b,{shippingTier:null});g=((g=a)!=null?(g=g.option)!=null?g.shippingTier:g:g)||a.shippingOptionTier;if(g===b.shippingTier)return b;f=(((f=a)!=null?(f=f.option)!=null?(f=f.costPerAdditionalItem)!=null?f.amountInHundredths:f:f:f)||j.additionalItemCost).toString();e=(((e=a)!=null?(e=e.option)!=null?(e=e.estimatedDaysToArrival)!=null?e.max:e:e:e)||j.arrivalMax).toString();d=(((d=a)!=null?(d=d.option)!=null?(d=d.estimatedDaysToArrival)!=null?d.min:d:d:d)||j.arrivalMin).toString();c=(((c=a)!=null?(c=c.option)!=null?(c=c.cost)!=null?c.amountInHundredths:c:c:c)||j.baseCost).toString();return babelHelpers["extends"]({},b,{errorMessage:null,isEditMode:a.shippingOptionTier===null,shippingOption:{additionalItemCost:f,arrivalMax:e,arrivalMin:d,baseCost:c},shippingTier:g,showErrors:!1})};a.prototype.getCurrency=function(){return this.props.currency||b("CurrencyConstants").ISO_CURRENCY_UNITED_STATES_DOLLAR};a.prototype.getShippingTier=function(){};a.prototype.getTitle=function(){return this.state.isEditMode?this.getEditTitle():this.getAddTitle()};a.prototype.getAddTitle=function(){switch(this.state.shippingTier){case b("OnsiteCommerceMerchantFixedShippingOptionType").STANDARD:return h._("Add Standard Shipping");case b("OnsiteCommerceMerchantFixedShippingOptionType").EXPEDITED:return h._("Add Expedited Shipping");case b("OnsiteCommerceMerchantFixedShippingOptionType").RUSH:return h._("Add Rush Shipping");default:return h._("Add Shipping Option")}};a.prototype.getEditTitle=function(){switch(this.state.shippingTier){case b("OnsiteCommerceMerchantFixedShippingOptionType").STANDARD:return h._("Edit Standard Shipping");case b("OnsiteCommerceMerchantFixedShippingOptionType").EXPEDITED:return h._("Edit Expedited Shipping");case b("OnsiteCommerceMerchantFixedShippingOptionType").RUSH:return h._("Edit Rush Shipping");default:return h._("Edit Shipping Option")}};a.prototype.refetchShopVisibility=function(){this.props.shippingProfileID==null?this.props.relay.refetch({pageID:this.props.pageID},null,function(){this.setState({isSaving:!1,showShopVisibilityConfirmationModal:!0}),this.props.onHide()}.bind(this)):this.props.onHide()};a.prototype.validate=function(){var a=b("ShopSettingsTieredShippingOptionInput.react").validate(this.state.shippingOption);return!Object.values(a).some(Boolean)};a.prototype.renderInputFields=function(){return b("React").createElement("div",{className:"_1hes"},this.state.errorMessage?b("React").createElement(b("SUINotice.react"),{margin:"_3-96",type:"error"},this.state.errorMessage):null,b("React").createElement(b("ShopSettingsTieredShippingOptionInput.react"),babelHelpers["extends"]({},this.state.shippingOption,{currency:this.getCurrency(),showErrors:this.state.showErrors,onChange:function(a,b){this.setState(function(c){c=babelHelpers["extends"]({},c.shippingOption);c[a]=b;return{shippingOption:c}})}.bind(this)})))};a.prototype.render=function(){var a=this.getTitle();return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("SUIModal.react"),{footer:b("React").createElement(b("FDSModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{isDisabled:this.state.isSaving,label:h._("Save"),use:"primary",onClick:this.onSave}),secondaryButton:b("React").createElement(b("FDSCancelButton.react"),{onClick:this.props.onHide})}),header:b("React").createElement(b("FDSModalHeader.react"),{title:a}),isShown:this.state.shippingTier!==null,label:a,width:600,onHide:this.props.onHide},this.renderInputFields(),b("React").createElement(b("ShopsOnboardingLoadingOverlay"),{isLoading:this.state.isSaving})),b("React").createElement(b("ShopSettingsConfirmShopVisibility.react"),{isShown:this.state.showShopVisibilityConfirmationModal,pageID:this.props.pageID,settings:(a=this.props)!=null?a.settings:a,onHide:this.onShopVisibilityConfirmationModalHide}))};e.exports=c(a,{settings:function(){return b("ShopSettingsAddTieredShippingOption_settings.graphql")}},function(){return b("ShopSettingsAddTieredShippingOptionRefetchQuery.graphql")})}),null);
__d("ShopDeleteTieredShippingOptionMutationDeleteMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"FixedCostShippingOptionDeleteData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input",type:"FixedCostShippingOptionDeleteData!"}],c=[{kind:"LinkedField",alias:null,name:"account_user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}];return{kind:"Request",operationKind:"mutation",name:"ShopDeleteTieredShippingOptionMutationDeleteMutation",id:"1668759909905096",text:null,metadata:{},fragment:{kind:"Fragment",name:"ShopDeleteTieredShippingOptionMutationDeleteMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"fixed_cost_shipping_option_delete",storageKey:null,args:b,concreteType:"FixedCostShippingOptionDeleteResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:"viewer",name:"__viewer_viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:c}]}]},operation:{kind:"Operation",name:"ShopDeleteTieredShippingOptionMutationDeleteMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"fixed_cost_shipping_option_delete",storageKey:null,args:b,concreteType:"FixedCostShippingOptionDeleteResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:c},{kind:"LinkedHandle",alias:null,name:"viewer",args:null,handle:"viewer",key:"",filters:null}]}]}}}();e.exports=a}),null);
__d("ShopDeleteTieredShippingOptionMutation",["RelayModern","ShopDeleteTieredShippingOptionMutationDeleteMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=function(){return b("ShopDeleteTieredShippingOptionMutationDeleteMutation.graphql")};function a(a,b){var c=b.shippingOptionID;b=babelHelpers.objectWithoutProperties(b,["shippingOptionID"]);return g(a,babelHelpers["extends"]({mutation:h},b,{variables:{input:{fixed_cost_shipping_option_id:c}}}))}e.exports={commit:a}}),null);
__d("ShopSettingsDeleteTieredShippingOption.react",["cx","fbt","FDSButton.react","FDSCancelButton.react","FDSModalFooter.react","FDSText.react","React","RelayFBEnvironment","ShopDeleteTieredShippingOptionMutation","ShopsOnboardingLoadingOverlay","SUIModal.react","SUINotice.react","nullthrows","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={errorMessage:null,isSaving:!1},this.onConfirm=function(){__p&&__p();this.setState({errorMessage:null});var a=this.props.onDelete;if(a){a(b("nullthrows")(this.props.shippingOptionID));this.props.onHide();return}this.setState({isSaving:!0});b("ShopDeleteTieredShippingOptionMutation").commit(b("RelayFBEnvironment"),{onCompleted:function(){this.setState({isSaving:!1}),this.props.onHide()}.bind(this),onError:function(a){a=h._("An unexpected error occurred. Please try again later.");this.setState({errorMessage:a,isSaving:!1})}.bind(this),shippingOptionID:b("nullthrows")((a=this.props)!=null?a.shippingOptionID:a)})}.bind(this),this.onHide=function(){this.setState({errorMessage:null}),this.props.onHide()}.bind(this),c}a.prototype.render=function(){return b("React").createElement(b("SUIModal.react"),{behaviors:{LayerHideOnBlur:null},footer:b("React").createElement(b("FDSModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{isDisabled:this.state.isSaving,label:h._("Yes"),use:"primary",onClick:this.onConfirm}),secondaryButton:b("React").createElement(b("FDSCancelButton.react"),{onClick:this.onHide})}),isShown:this.props.shippingOptionID!==null,label:h._("Are you sure you want to delete this shipping option?"),onHide:this.props.onHide},b("React").createElement("div",{className:"_1hes"},this.state.errorMessage&&b("React").createElement(b("SUINotice.react"),{margin:"_3-96",type:"error"},this.state.errorMessage),b("React").createElement(b("FDSText.react"),{display:"block",weight:"bold"},h._("Are you sure you want to delete this shipping option?"))),b("React").createElement(b("ShopsOnboardingLoadingOverlay"),{isLoading:this.state.isSaving}))};e.exports=a}),null);
__d("CommerceSelfServeReturnPolicyOptions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({RETURN_7_DAYS:7,RETURN_14_DAYS:14,RETURN_21_DAYS:21,RETURN_30_DAYS:30,RETURN_45_DAYS_DEPRECATED:45,RETURN_60_DAYS:60})}),null);
__d("ShopSettingsReturnPolicyModal.react",["cx","fbt","AlignmentEnum","CommerceSelfServeReturnPolicyOptions","CommerceStringUtils","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","LayerHideSources","Link.react","React","SellerExperienceConfig","SUIBusinessThemeContainer.react","SUIText.react","SUITextInput.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("CommerceSelfServeReturnPolicyOptions").RETURN_30_DAYS,k=10;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={errorMessage:null,value:this.getDefaultValue(this.props.defaultValue)},this.onHide=function(){this.props.onHide(b("LayerHideSources").LAYER_CANCEL_BUTTON)}.bind(this),this.onChange=function(a){this.setState({errorMessage:null,value:a})}.bind(this),this.onSave=function(){if(!this.validateInput())return;this.props.onSave(Number.parseInt(this.state.value,k))}.bind(this),this.onBlur=function(a){this.validateInput()}.bind(this),this.onFocus=function(a){this.setState({errorMessage:null})}.bind(this),c}a.prototype.getDefaultValue=function(a){return""+((a=a)!=null?a:j)};a.prototype.validateInput=function(){var a=this.state.value,c=null;if(!b("CommerceStringUtils").isInteger(a))c=h._("Please input a number");else{a=Number.parseInt(a,k);var d=b("SellerExperienceConfig").returnPolicyMin;a<d&&(c=h._("Return policy must be longer than {minimal days} days",[h._param("minimal days",d)]))}this.setState({errorMessage:c});return c==null};a.prototype.renderHeader=function(){return b("React").createElement(b("FDSModalHeader.react"),{title:h._("Return Policy")})};a.prototype.renderFooter=function(){return b("React").createElement(b("FDSModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{label:h._("Save"),use:"primary",onClick:this.onSave}),secondaryButton:b("React").createElement(b("FDSButton.react"),{label:h._("Cancel"),onClick:this.onHide})})};a.prototype.render=function(){return b("React").createElement(b("FDSModal.react"),{footer:this.renderFooter(),header:this.renderHeader(),isShown:this.props.isShown,onHide:this.props.onHide},b("React").createElement(b("FDSSection.react"),null,b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement("div",{className:"_31_h"},b("React").createElement("div",{className:"_31_i"},b("React").createElement(b("SUIText.react"),{display:"block",size:"body1",weight:"bold"},h._("Number of Days")),b("React").createElement(b("SUIText.react"),{color:"secondary",size:"meta1"},h._("Items must be returned to you within the time period you enter, calculated from the day your item is delivered to the customer. {Learn More link}.",[h._param("Learn More link",b("React").createElement(b("Link.react"),{href:"/business/help/211403042968780#returns",target:"_blank"},h._("Learn more")))]))),b("React").createElement(b("SUITextInput.react"),{errorMessage:this.state.errorMessage,textAlign:b("AlignmentEnum").right,value:this.state.value,onBlur:this.onBlur,onChange:this.onChange,onFocus:this.onFocus})))))};e.exports=a}),null);
__d("ShopSettingsTieredShippingOptionRow.react",["ix","cx","fbt","FDSButton.react","FDSText.react","Image.react","React","ShopSettingsAddButton.react","SUILink.react","XUICardSection.react","asset","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.onEditClick=function(){var a;a=(a=this.props)!=null?(a=a.option)!=null?a.id:a:a;if(a===null||a===undefined)return;this.props.onEditClick(a)}.bind(this),this.onDeleteClick=function(){var a;a=(a=this.props)!=null?(a=a.option)!=null?a.id:a:a;if(a===null||a===undefined)return;this.props.onDeleteClick(a)}.bind(this),b}a.prototype.render=function(){var a;a=(a=this.props)!=null?a.option:a;var c=a?b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("503832")}),isDisabled:this.props.isLastOption,label:i._("Remove"),labelIsHidden:!0,size:"small",tooltip:this.props.isLastOption?i._("You need to offer at least one shipping option"):null,onClick:this.onDeleteClick}),b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("490346")}),label:i._("Edit"),labelIsHidden:!0,margin:"_3-9a",size:"small",onClick:this.onEditClick})):b("React").createElement(b("SUILink.react"),{display:"block",showUnderline:"never",onClick:this.props.onAddClick},b("React").createElement(b("FDSText.react"),{color:"highlight",size:"body3",weight:"bold"},b("React").createElement(b("ShopSettingsAddButton.react"),{label:i._("Add")})));return b("React").createElement(b("XUICardSection.react"),{className:"_1dmy"},b("React").createElement("div",{className:"_1dmz"},this.props.title),k(a),c)};function k(a){var c,d;if(!a)return null;d=Number(((d=a)!=null?(d=d.cost)!=null?d.amount:d:d)||0);c=(c=a)!=null?(c=c.cost)!=null?c.formatted:c:c;d=d===0?i._("FREE"):c;a=(c=a)!=null?c.estimatedDaysToArrival:c;c=a?i._("{min days}-{max days} Days",[i._param("min days",a.min),i._param("max days",a.max)]):null;return b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:"_1dm-"},d),b("React").createElement("div",{className:"_1dm-"},c))}e.exports=a}),null);
__d("PageProductComposerTieredShippingOptionRow.react",["ix","cx","fbt","FDSButton.react","FDSText.react","FlexLayout.react","Image.react","React","SUICard.react","asset","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.onEditClick=function(){var a;a=(a=this.props)!=null?(a=a.option)!=null?a.id:a:a;if(a===null||a===undefined)return;this.props.onEditClick(a)}.bind(this),this.onDeleteClick=function(){var a;a=(a=this.props)!=null?(a=a.option)!=null?a.id:a:a;if(a===null||a===undefined)return;this.props.onDeleteClick(a)}.bind(this),b}a.prototype.render=function(){var a;a=(a=this.props)!=null?a.option:a;var c=a?b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("503832")}),isDisabled:this.props.isLastOption,label:i._("Remove"),labelIsHidden:!0,onClick:this.onDeleteClick,size:"small",tooltip:this.props.isLastOption?i._("You need to offer at least one shipping option"):null}),b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("490346")}),label:i._("Edit"),labelIsHidden:!0,margin:"_3-9a",onClick:this.onEditClick,size:"small"})):b("React").createElement(b("FDSButton.react"),{label:i._("Add"),onClick:this.props.onAddClick,size:"small"});return b("React").createElement(b("SUICard.react"),{margin:"_3-8n"},b("React").createElement(b("FlexLayout.react"),{align:"center",className:"_2ph_",justify:"all"},b("React").createElement(b("FlexLayout.react"),{direction:"vertical"},b("React").createElement(b("FDSText.react"),{color:"primary",display:"block",size:"body3"},this.props.title),b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body3"},k(a))),b("React").createElement(b("FlexLayout.react"),null,c)))};function k(a){var c,d;if(!a)return null;d=Number(((d=a)!=null?(d=d.cost)!=null?d.amount:d:d)||0);c=(c=a)!=null?(c=c.cost)!=null?c.formatted:c:c;d=d===0?i._("FREE"):c;a=(c=a)!=null?c.estimatedDaysToArrival:c;c=a?i._("{min days}-{max days} Days",[i._param("min days",a.min),i._param("max days",a.max)]):null;return b("React").createElement(b("React").Fragment,null,d,b("React").createElement("span",{"aria-hidden":"true",className:"_3-8r"},"\xb7"),c)}e.exports=a}),null);
__d("ShopSettingsTieredShippingOptionsRefetchQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"pageID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"pageID",type:"ID!"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d={kind:"ScalarField",alias:"amountInHundredths",name:"amount_in_hundredths",args:null,storageKey:null};return{kind:"Request",operationKind:"query",name:"ShopSettingsTieredShippingOptionsRefetchQuery",id:"1877864822268145",text:null,metadata:{},fragment:{kind:"Fragment",name:"ShopSettingsTieredShippingOptionsRefetchQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"FragmentSpread",name:"ShopSettingsTieredShippingOptions_page",args:null}]}]},operation:{kind:"Operation",name:"ShopSettingsTieredShippingOptionsRefetchQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[c,{kind:"LinkedField",alias:"settings",name:"preferred_merchant_settings",storageKey:null,args:null,concreteType:"CommerceMerchantSettings",plural:!1,selections:[{kind:"ScalarField",alias:"currency",name:"default_currency",args:null,storageKey:null},{kind:"LinkedField",alias:"shippingProfile",name:"universal_shipping_profile",storageKey:null,args:null,concreteType:"FixedCostShippingProfile",plural:!1,selections:[c,{kind:"LinkedField",alias:"options",name:"fixed_cost_shipping_options",storageKey:"fixed_cost_shipping_options(first:1000)",args:[{kind:"Literal",name:"first",value:1e3,type:"Int"}],concreteType:"FixedCostShippingProfileToShippingOptionsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:"FixedCostShippingOption",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"cost",storageKey:null,args:null,concreteType:"CurrencyAmount",plural:!1,selections:[{kind:"ScalarField",alias:"amount",name:"amount_with_offset",args:null,storageKey:null},d,{kind:"ScalarField",alias:"formatted",name:"formatted_amount",args:null,storageKey:null}]},{kind:"LinkedField",alias:"costPerAdditionalItem",name:"cost_per_additional_item",storageKey:null,args:null,concreteType:"CurrencyAmount",plural:!1,selections:[d]},{kind:"LinkedField",alias:"estimatedDaysToArrival",name:"estimated_days_until_arrival",storageKey:null,args:null,concreteType:"EstimatedDaysUntilArrival",plural:!1,selections:[{kind:"ScalarField",alias:"max",name:"max_days_to_arrival",args:null,storageKey:null},{kind:"ScalarField",alias:"min",name:"min_days_to_arrival",args:null,storageKey:null}]},c,{kind:"ScalarField",alias:"shippingTier",name:"shipping_service_tier",args:null,storageKey:null}]}]}]},{kind:"ScalarField",alias:"canVisitorSeeShopTab",name:"can_visitor_see_shop_tab",args:null,storageKey:null},c]}]}]}}}();e.exports=a}),null);
__d("ShopSettingsTieredShippingOptions_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},b={kind:"ScalarField",alias:"amountInHundredths",name:"amount_in_hundredths",args:null,storageKey:null};return{kind:"Fragment",name:"ShopSettingsTieredShippingOptions_page",type:"Page",metadata:null,argumentDefinitions:[],selections:[a,{kind:"LinkedField",alias:"settings",name:"preferred_merchant_settings",storageKey:null,args:null,concreteType:"CommerceMerchantSettings",plural:!1,selections:[{kind:"ScalarField",alias:"currency",name:"default_currency",args:null,storageKey:null},{kind:"LinkedField",alias:"shippingProfile",name:"universal_shipping_profile",storageKey:null,args:null,concreteType:"FixedCostShippingProfile",plural:!1,selections:[a,{kind:"LinkedField",alias:"options",name:"fixed_cost_shipping_options",storageKey:"fixed_cost_shipping_options(first:1000)",args:[{kind:"Literal",name:"first",value:1e3,type:"Int"}],concreteType:"FixedCostShippingProfileToShippingOptionsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:"FixedCostShippingOption",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"cost",storageKey:null,args:null,concreteType:"CurrencyAmount",plural:!1,selections:[{kind:"ScalarField",alias:"amount",name:"amount_with_offset",args:null,storageKey:null},b,{kind:"ScalarField",alias:"formatted",name:"formatted_amount",args:null,storageKey:null}]},{kind:"LinkedField",alias:"costPerAdditionalItem",name:"cost_per_additional_item",storageKey:null,args:null,concreteType:"CurrencyAmount",plural:!1,selections:[b]},{kind:"LinkedField",alias:"estimatedDaysToArrival",name:"estimated_days_until_arrival",storageKey:null,args:null,concreteType:"EstimatedDaysUntilArrival",plural:!1,selections:[{kind:"ScalarField",alias:"max",name:"max_days_to_arrival",args:null,storageKey:null},{kind:"ScalarField",alias:"min",name:"min_days_to_arrival",args:null,storageKey:null}]},a,{kind:"ScalarField",alias:"shippingTier",name:"shipping_service_tier",args:null,storageKey:null}]}]}]},{kind:"FragmentSpread",name:"ShopSettingsAddTieredShippingOption_settings",args:null}]}]}}();e.exports=a}),null);
__d("ShopSettingsTieredShippingOptions.react",["fbt","OnsiteCommerceMerchantFixedShippingOptionType","PageProductComposerTieredShippingOptionRow.react","React","RelayModern","ShopSettingsAddTieredShippingOption.react","ShopSettingsDeleteTieredShippingOption.react","ShopSettingsTieredShippingOptionRow.react","keyMirror","nullthrows","ShopSettingsTieredShippingOptions_page.graphql","ShopSettingsTieredShippingOptionsRefetchQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;var i=b("keyMirror")({COMPOSER:null,SETTINGS:null});d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={editOptionID:null,modalShippingTier:null,optionsCount:0,shippingOptionID:null},this.onEditClick=function(a){this.setState({editOptionID:a})}.bind(this),this.onHideAddShippingOptionModal=function(){this.refetchOptions(),this.setState({editOptionID:null,modalShippingTier:null})}.bind(this),this.onHideDeleteShippingOptionModal=function(){this.refetchOptions(),this.setState({shippingOptionID:null})}.bind(this),this.onShowDeleteShippingOptionModal=function(a){this.setState(function(b){return{optionsCount:b.optionsCount-1,shippingOptionID:a}})}.bind(this),this.renderTierRow=function(a){var c;c=this.props.options||((c=this.props)!=null?(c=c.page)!=null?(c=c.settings)!=null?(c=c.shippingProfile)!=null?(c=c.options)!=null?c.nodes:c:c:c:c:c)||[];c=this.convertToTieredShippingOption(c.find(function(b){return b.shippingTier===a}));var d=this.props.placement===i.SETTINGS;d=d?b("ShopSettingsTieredShippingOptionRow.react"):b("PageProductComposerTieredShippingOptionRow.react");return b("React").createElement(d,{isLastOption:this.state.optionsCount<=1,key:a,option:c,title:this.getText(a),onAddClick:function(){this.onShowAddShippingOptionModal(a)}.bind(this),onDeleteClick:this.onShowDeleteShippingOptionModal,onEditClick:this.onEditClick})}.bind(this),c}a.getDerivedStateFromProps=function(a,b){a=(a.options||((a=a)!=null?(a=a.page)!=null?(a=a.settings)!=null?(a=a.shippingProfile)!=null?(a=a.options)!=null?a.nodes:a:a:a:a:a)||[]).length;return babelHelpers["extends"]({},b,{optionsCount:a})};a.prototype.convertToTieredShippingOption=function(a){var b;return!a?null:{cost:{amount:(b=a)!=null?(b=b.cost)!=null?b.amount:b:b,amountInHundredths:(b=a)!=null?(b=b.cost)!=null?b.amountInHundredths:b:b,formatted:(b=a)!=null?(b=b.cost)!=null?b.formatted:b:b},costPerAdditionalItem:{amountInHundredths:(b=a)!=null?(b=b.costPerAdditionalItem)!=null?b.amountInHundredths:b:b},estimatedDaysToArrival:{max:(b=a)!=null?(b=b.estimatedDaysToArrival)!=null?b.max:b:b,min:(b=a)!=null?(b=b.estimatedDaysToArrival)!=null?b.min:b:b},id:a.id,shippingTier:a.shippingTier}};a.prototype.getText=function(a){switch(a){case b("OnsiteCommerceMerchantFixedShippingOptionType").STANDARD:return g._("Standard Shipping");case b("OnsiteCommerceMerchantFixedShippingOptionType").EXPEDITED:return g._("Expedited Shipping");case b("OnsiteCommerceMerchantFixedShippingOptionType").RUSH:return g._("Rush Shipping")}return null};a.prototype.onShowAddShippingOptionModal=function(a){this.setState({modalShippingTier:a})};a.prototype.refetchOptions=function(){var a;this.props.relay.refetch({pageID:b("nullthrows")((a=this.props)!=null?(a=a.page)!=null?a.id:a:a)},null,function(){this.updateOptionsCount()}.bind(this))};a.prototype.updateOptionsCount=function(){var a;a=(this.props.options||((a=this.props)!=null?(a=a.page)!=null?(a=a.settings)!=null?(a=a.shippingProfile)!=null?(a=a.options)!=null?a.nodes:a:a:a:a:a)||[]).length;this.setState({optionsCount:a})};a.prototype.render=function(){var a,c,d;d=(d=this.props)!=null?(d=d.page)!=null?d.id:d:d;if(!d)return null;c=this.props.options||((c=this.props)!=null?(c=c.page)!=null?(c=c.settings)!=null?(c=c.shippingProfile)!=null?(c=c.options)!=null?c.nodes:c:c:c:c:c)||[];c=this.convertToTieredShippingOption(c.find(function(a){return a.id===this.state.editOptionID}.bind(this)));return b("React").createElement(b("React").Fragment,null,this.props.shippingTiers.map(this.renderTierRow),b("React").createElement(b("ShopSettingsAddTieredShippingOption.react"),{currency:(a=this.props)!=null?(a=a.page)!=null?(a=a.settings)!=null?a.currency:a:a:a,option:c,pageID:d,settings:(a=this.props)!=null?(a=a.page)!=null?a.settings:a:a,shippingOptionTier:this.state.modalShippingTier,shippingProfileID:(c=this.props)!=null?(c=c.page)!=null?(c=c.settings)!=null?(c=c.shippingProfile)!=null?c.id:c:c:c:c,onHide:this.onHideAddShippingOptionModal,onSave:this.props.onSave}),b("React").createElement(b("ShopSettingsDeleteTieredShippingOption.react"),{shippingOptionID:this.state.shippingOptionID,onDelete:this.props.onDelete,onHide:this.onHideDeleteShippingOptionModal}))};a.defaultProps={placement:i.COMPOSER};e.exports=c(a,{page:function(){return b("ShopSettingsTieredShippingOptions_page.graphql")}},function(){return b("ShopSettingsTieredShippingOptionsRefetchQuery.graphql")})}),null);
__d("ScrollLayout",["EventEmitter"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(){"use strict";g.constructor.call(this),this.$ScrollLayout1=0,this.$ScrollLayout4=0,this.$ScrollLayout3=0,this.$ScrollLayout2=!1}a.prototype.setScrollTop=function(a){"use strict";a!==this.$ScrollLayout4&&(this.$ScrollLayout4=a,this.requestChange())};a.prototype.getScrollTop=function(){"use strict";return this.$ScrollLayout4};a.prototype.setScrollHeight=function(a){"use strict";a!==this.$ScrollLayout3&&(this.$ScrollLayout3=a,this.requestChange())};a.prototype.getScrollHeight=function(){"use strict";return this.$ScrollLayout3};a.prototype.getHeight=function(){"use strict";return this.$ScrollLayout1};a.prototype.setHeight=function(a){"use strict";a!==this.$ScrollLayout1&&(this.$ScrollLayout1=a,this.requestChange())};a.prototype.requestChange=function(){"use strict";this.$ScrollLayout2||(this.$ScrollLayout2=!0,this.emit("change"),this.$ScrollLayout2=!1)};e.exports=a}),null);
__d("LayoutScrollableViewDelegate.react",["cx","React","ResponsiveBlock.react","ScrollLayout","translateDOMPositionXY"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={scrollTop:this.props.layout.getScrollTop()},this.$3=function(a,b){this.props.layout.setScrollHeight(b)}.bind(this),this.$2=function(){this.setState({scrollTop:this.props.layout.getScrollTop()})}.bind(this),b}a.prototype.UNSAFE_componentWillMount=function(){this.$1=this.props.layout.addListener("change",this.$2)};a.prototype.componentWillUnmount=function(){this.$1.remove(),this.$1=null};a.prototype.render=function(){var a={};b("translateDOMPositionXY")(a,0,-Math.max(0,this.state.scrollTop));return b("React").createElement("div",{className:"_2mum",style:a},b("React").createElement(b("ResponsiveBlock.react"),{onResize:this.$3,className:"_2mun"}),this.props.children)};a.propTypes={layout:c.instanceOf(b("ScrollLayout")).isRequired};e.exports=a}),null);
__d("LayoutScrollableView.react",["cx","Keys","LayoutScrollableViewDelegate.react","React","ReactDOM","ReactWheelHandler","Scrollbar.react","ScrollLayout","clamp"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);h=d&&d.prototype;function a(a){__p&&__p();h.constructor.call(this,a),this.$7=function(){if(!this.$9&&this.refs.body){this.$9=!0;var a=b("ReactDOM").findDOMNode(this.refs.body);a&&a.addEventListener("wheel",this.$3.onWheel)}}.bind(this),this.$5=function(){if(this.refs.body){this.$9=!1;var a=b("ReactDOM").findDOMNode(this.refs.body);a&&a.removeEventListener("wheel",this.$3.onWheel)}}.bind(this),this.$4=function(a,c){a=b("clamp")(this.$1.getScrollTop()+Math.round(c),0,Math.max(0,this.state.scrollHeight-this.props.height));this.$1.setScrollTop(a);this.props.onWheel&&this.props.onWheel(a)}.bind(this),this.$8=function(a){this.$1.setScrollTop(a)}.bind(this),this.$6=function(event){__p&&__p();switch(event.target.tagName){case"INPUT":case"OPTION":case"SELECT":case"TEXTAREA":return}var a=event.keyCode,c;switch(a){case b("Keys").HOME:c=-this.state.scrollHeight;break;case b("Keys").UP:c=-b("Scrollbar.react").KEYBOARD_SCROLL_AMOUNT;break;case b("Keys").DOWN:c=b("Scrollbar.react").KEYBOARD_SCROLL_AMOUNT;break;case b("Keys").PAGE_UP:c=-this.props.height;break;case b("Keys").PAGE_DOWN:c=this.props.height;break;case b("Keys").SPACE:event.shiftKey?c=-this.props.height:c=this.props.height;break;default:return}event.preventDefault();this.$1.setScrollTop(this.$1.getScrollTop()+c)}.bind(this),this.$2=function(){this.setState({scrollTop:this.$1.getScrollTop(),scrollHeight:this.$1.getScrollHeight()})}.bind(this),this.$1=new(b("ScrollLayout"))(),this.state={scrollTop:this.$1.getScrollTop(),scrollHeight:this.$1.getScrollHeight()}}a.prototype.UNSAFE_componentWillMount=function(){this.$1.addListener("change",this.$2),this.$3=new(b("ReactWheelHandler"))(this.$4,!1,!0,!0)};a.prototype.componentWillUnmount=function(){this.$1.removeAllListeners(),this.$1=null,this.$5()};a.prototype.render=function(){var a={height:this.props.height};this.props.width!==undefined&&(a.width=this.props.width);return b("React").createElement("div",{className:"_5jln",style:a},b("React").createElement("div",{ref:"body",className:"_4bn9",onKeyDown:this.$6,onMouseOver:this.$7,onMouseLeave:this.$5,tabIndex:0},b("React").createElement(b("LayoutScrollableViewDelegate.react"),{layout:this.$1},this.props.children)),b("React").createElement(b("Scrollbar.react"),{contentSize:this.state.scrollHeight,onScroll:this.$8,position:this.state.scrollTop,size:this.props.height}))};a.propTypes={height:c.number.isRequired,width:c.number};e.exports=a}),null);
__d("FBNoSelect",["DOMQuery","Event","UserAgent"],(function(a,b,c,d,e,f){__p&&__p();var g=["input","select","textarea","object","embed"];a=new(function(){__p&&__p();function a(){"use strict";this.$1=!1,this.$2={},this.$3={},this.$4=Array.from(g)}a.prototype.addBlockClass=function(a){"use strict";this.$5();return this.$6(this.$2,a)};a.prototype.removeBlockClass=function(a){"use strict";this.$5();return this.$7(this.$2,a)};a.prototype.addUnblockClass=function(a){"use strict";this.$5();return this.$6(this.$3,a)};a.prototype.removeUnblockClass=function(a){"use strict";this.$5();return this.$7(this.$3,a)};a.prototype.addUnblockNodeType=function(a){"use strict";this.$5();this.$4.includes(a)||this.$4.push(a);return this};a.prototype.removeUnblockNodeType=function(a){"use strict";this.$5();a=this.$4.indexOf(a);a!==-1&&this.$4.splice(a,1);return this};a.prototype.addUnblockLayers=function(){"use strict";this.addUnblockClass("uiLayer");return this};a.prototype.$6=function(a,b){"use strict";a[b]?a[b]++:a[b]=1;return this};a.prototype.$7=function(a,b){"use strict";a[b]&&(a[b]--,a[b]==0&&delete a[b]);return this};a.prototype.shouldBlock=function(a){"use strict";__p&&__p();if(!this.$1)return!1;for(var a=a;a!==null&&a!==document;a=a.parentNode){if(a.classList){for(var c in this.$2)if(a.classList.contains(c))return!0;for(var d in this.$3)if(a.classList.contains(d))return!1}var e=b("DOMQuery").isNodeOfType(a,this.$4);if(e)return!1}return!1};a.prototype.$5=function(){"use strict";__p&&__p();if(this.$1)return;this.$1=!0;if(b("UserAgent").isEngine("Gecko"))b("Event").listen(document,"mousedown",function(a){this.shouldBlock(a.getTarget())&&(document.body.style.MozUserSelect="none")}.bind(this)),b("Event").listen(document,"mouseup",function(a){document.body.style.MozUserSelect=""});else{var a=!1,c=!1;b("Event").listen(document,"selectstart",function(b){if(a){c&&b.kill();return}c=!1;a=!0;this.shouldBlock(b.getTarget())&&(c=!0,b.kill())}.bind(this));b("Event").listen(document,{mousedown:function(){a=!1},mouseup:function(){a=!1}})}};return a}())();e.exports=a}),null);
__d("FBNumberInput.react",["Input","React","debounce","intlNumUtils","joinClasses"],(function(a,b,c,d,e,f){__p&&__p();var g,h=200;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);g=d&&d.prototype;function a(){"use strict";__p&&__p();g.constructor.call(this),this.$1=function(a){a!==null?(a=this.props.nonnegative?Math.abs(a):a,this.props.minValue!=null&&a<this.props.minValue?a=this.props.minValue:this.props.maxValue!=null&&a>this.props.maxValue&&(a=this.props.maxValue)):this.props.defaultValue!=null&&(a=this.props.defaultValue);return a}.bind(this),this.$2=function(a){a=b("intlNumUtils").parseNumber(a);this.props.onlyIntegers&&(a=Math.trunc(a));return a}.bind(this),this.$3=b("debounce")(function(a){a=this.$2(b("Input").getValue(a));a===this.$1(a)&&this.props.onValueChange(a)}.bind(this),h),this.$4=function(a){return this.props.formatNumber?b("intlNumUtils").formatNumberWithThousandDelimiters(a,0):""+a}.bind(this),this.$5=function(event){this.setState({focused:!1});var a=this.$1(this.$2(b("Input").getValue(event.target))),c=a!==null?this.$4(a):"";b("Input").setValue(event.target,c);this.props.triggerCallbackOnChange&&this.$3.reset();this.props.onValueChange(a)}.bind(this),this.$6=function(event){this.setState({focused:!0})}.bind(this),this.$7=function(event){var a=this.props,b=a.onChange;a=a.triggerCallbackOnChange;a?this.$3(event.target):b(event)}.bind(this),this.state={focused:!1}}a.prototype.render=function(){"use strict";var a=this.props,c=a.value,d=a.className;a=babelHelpers.objectWithoutProperties(a,["value","className"]);c&&(c=this.$4(c));return b("React").createElement("input",babelHelpers["extends"]({},a,{className:b("joinClasses")(d,"inputtext"),type:"text",ref:"fb_number_input",defaultValue:c,value:this.state.focused?undefined:c,onBlur:this.$5,onFocus:this.$6,onChange:this.$7}))};a.propTypes={nonnegative:c.bool,onValueChange:c.func.isRequired,value:c.number,defaultValue:c.number,minValue:c.number,maxValue:c.number,placeholder:c.string,formatNumber:c.bool,onlyIntegers:c.bool,triggerCallbackOnChange:c.bool};e.exports=a}),null);
__d("FBSimpleSlider.react",["cx","Event","FBNoSelect","React","ReactDOM","Rect","Style","forEachObject"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=.001;c=b("React").PropTypes;var j={ArrowUp:1,ArrowLeft:-1,ArrowDown:-1,ArrowRight:1};d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(a){h.constructor.call(this,a);this.$4=12;var b=a.value!==null?parseFloat(a.value.toFixed(a.decimalPlaces)):a.min;this.state={left:this.$5(b,a.min,a.max),isDragging:!1}}a.prototype.$5=function(a,b,c){return Math.min(c,Math.max(b,a))};a.prototype.$6=function(a){var c=new(b("Rect"))(b("ReactDOM").findDOMNode(this.refs.sliderBox)),d=a.pageX-c.getLeft();if(a.type!=="mousemove"){a=c.w()*this.$7(this.state.left);d>=a&&d<=a+this.$4?this.$1=d-a:this.$1=this.$4/2}a=(d-this.$1)/c.w();return this.$5(a,0,1)};a.prototype.$8=function(a){var b=this.props,c=b.min;b=b.max;b=b-c;return a*b+c};a.prototype.$7=function(a){var b=this.props,c=b.min;b=b.max;return this.$5((a-c)/(b-c),0,1)};a.prototype.$9=function(a){a=parseFloat(a.toFixed(this.props.decimalPlaces));Math.abs(a-this.$3)>i&&(this.$3=a,this.props.onChange(a))};a.prototype.$10=function(a){__p&&__p();if(this.props.disabled)return;var b=this.state.left,c=this.props,d=c.min;c=c.max;var e=j[a.key];if(e){e=a.shiftKey?Infinity*e:b+this.props.step*e;e=this.$5(e,d,c);this.preventDefaultForKeyDown(a);Math.abs(b-e)>i&&(this.setState({left:e}),this.$9(e))}};a.prototype.$11=function(a){this.state.isDragging&&(this.setState({isDragging:!1}),b("forEachObject")(this.$2,function(a){return a.remove()}),this.props.onMouseUp&&this.props.onMouseUp(a))};a.prototype.$12=function(a){if(this.state.isDragging){a=this.$8(this.$6(a));this.setState({left:a});this.$9(a)}};a.prototype.$13=function(a){if(this.props.disabled)return;var c=this.$8(this.$6(a));this.setState({isDragging:!0,left:c});this.$9(c);this.$2=b("Event").listen(document,{mousemove:this.$12.bind(this),mouseup:this.$11.bind(this)});this.props.onMouseDown&&this.props.onMouseDown(a)};a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.setState({left:a.value!==null?a.value:a.min})};a.prototype.componentDidMount=function(){var a=b("ReactDOM").findDOMNode(this.refs.handle);this.$4=a instanceof Element?parseInt(b("Style").get(a,"width"),10):0;isNaN(this.$4)&&(this.$4=12);b("FBNoSelect").addBlockClass("_5r9o");this.$3=0};a.prototype.componentWillUnmount=function(){b("FBNoSelect").removeBlockClass("_5r9o"),this.$11({})};a.prototype.preventDefaultForKeyDown=function(a){this.state.propagatesKeyDownEvents||a.preventDefault()};a.prototype.render=function(){var a={left:this.$7(this.state.left)*100+"%"};return b("React").createElement("div",{className:"_5r9o",disabled:this.props.disabled,onKeyDown:this.$10.bind(this),onMouseDown:this.$13.bind(this),tabIndex:this.props.disabled?null:"0"},b("React").createElement("div",{className:"_5r9p"},b("React").createElement("div",{className:"_5r9q"})),b("React").createElement("div",{ref:"sliderBox",className:"_5r9r"},b("React").createElement("div",{ref:"handle",className:"_5r9s",disabled:!!this.props.noHandle,style:a})))};a.defaultProps={decimalPlaces:2,disabled:!1,propagatesKeyDownEvents:!1,noHandle:!1,step:1,value:null};a.propTypes={decimalPlaces:c.number,disabled:c.bool,max:c.number.isRequired,min:c.number.isRequired,onChange:c.func.isRequired,onMouseDown:c.func,onMouseUp:c.func,propagatesKeyDownEvents:c.bool,noHandle:c.bool,step:c.number,value:c.number};e.exports=a}),null);
__d("flash-js",[],(function(a,b,c,d,e,f){function a(){}Object.assign(a,{INIT:"flash/init",READY:"flash/ready",FAILED:"flash/failed"});e.exports=a}),null);
__d("CommerceMerchantSettingsUpdateMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"pageID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"data",type:"CommerceMerchantSettingsInput!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"data",type:"CommerceMerchantSettingsInput!"},{kind:"Variable",name:"page_id",variableName:"pageID",type:"ID!"}],c={kind:"ScalarField",alias:"alertEmail",name:"merchant_alert_email",args:null,storageKey:null},d={kind:"ScalarField",alias:"contactEmail",name:"contact_email",args:null,storageKey:null},e={kind:"ScalarField",alias:"returnPolicy",name:"current_return_policy_time",args:null,storageKey:null},f={kind:"LinkedField",alias:"stateTaxes",name:"state_tax_registration_numbers",storageKey:null,args:null,concreteType:"StateTaxRegistrationNumberOutput",plural:!0,selections:[{kind:"ScalarField",alias:"stateCode",name:"state_code",args:null,storageKey:null},{kind:"ScalarField",alias:"registrationNumber",name:"tax_registration_number",args:null,storageKey:null}]},g={kind:"ScalarField",alias:"supportContactsConfirmed",name:"support_contacts_confirmed",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",operationKind:"mutation",name:"CommerceMerchantSettingsUpdateMutation",id:"1671484202942617",text:null,metadata:{},fragment:{kind:"Fragment",name:"CommerceMerchantSettingsUpdateMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"update_commerce_merchant_settings",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"LinkedField",alias:"settings",name:"preferred_merchant_settings",storageKey:null,args:null,concreteType:"CommerceMerchantSettings",plural:!1,selections:[c,d,e,f,g]}]}]},operation:{kind:"Operation",name:"CommerceMerchantSettingsUpdateMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"update_commerce_merchant_settings",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"LinkedField",alias:"settings",name:"preferred_merchant_settings",storageKey:null,args:null,concreteType:"CommerceMerchantSettings",plural:!1,selections:[c,d,e,f,g,h]},h]}]}}}();e.exports=a}),null);
__d("VideoComponentContextMenuQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"videoID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"videoID",type:"ID!"}],c={kind:"InlineFragment",type:"Video",selections:[{kind:"ScalarField",alias:"permalinkUrl",name:"permalink_url",args:null,storageKey:null}]};return{kind:"Request",operationKind:"query",name:"VideoComponentContextMenuQuery",id:"1670532989662600",text:null,metadata:{},fragment:{kind:"Fragment",name:"VideoComponentContextMenuQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"video",name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[c]}]},operation:{kind:"Operation",name:"VideoComponentContextMenuQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"video",name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},c]}]}}}();e.exports=a}),null);
__d("VideoComponentEmbeddedControlsQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"videoID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"videoID",type:"ID!"}],c={kind:"InlineFragment",type:"Video",selections:[{kind:"ScalarField",alias:"permalinkUrl",name:"permalink_url",args:null,storageKey:null},{kind:"ScalarField",alias:"canCastVideo",name:"can_cast_video",args:null,storageKey:null},{kind:"ScalarField",alias:"broadcastStatus",name:"broadcast_status",args:null,storageKey:null}]};return{kind:"Request",operationKind:"query",name:"VideoComponentEmbeddedControlsQuery",id:"1710751775678986",text:null,metadata:{},fragment:{kind:"Fragment",name:"VideoComponentEmbeddedControlsQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"video",name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[c]}]},operation:{kind:"Operation",name:"VideoComponentEmbeddedControlsQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"video",name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},c]}]}}}();e.exports=a}),null);
__d("VideoComponentScrubberPreviewQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"videoID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"videoID",type:"ID!"}],c={kind:"InlineFragment",type:"Video",selections:[{kind:"LinkedField",alias:"scrubberPreviewThumbnailInformation",name:"scrubber_preview_thumbnail_information",storageKey:"scrubber_preview_thumbnail_information(height:45,width:45)",args:[{kind:"Literal",name:"height",value:45,type:"Int"},{kind:"Literal",name:"width",value:45,type:"Int"}],concreteType:"ScrubberPreview",plural:!1,selections:[{kind:"ScalarField",alias:"timeIntervalBetweenImages",name:"time_interval_between_image",args:null,storageKey:null},{kind:"ScalarField",alias:"previewScrubberWidth",name:"thumbnail_width",args:null,storageKey:null},{kind:"ScalarField",alias:"previewScrubberHeight",name:"thumbnail_height",args:null,storageKey:null},{kind:"ScalarField",alias:"maxImagesPerSprite",name:"max_number_of_images_per_sprite",args:null,storageKey:null},{kind:"ScalarField",alias:"imagesPerRow",name:"num_images_per_row",args:null,storageKey:null},{kind:"ScalarField",alias:"hasPreviewThumbnails",name:"has_preview_thumbnails",args:null,storageKey:null},{kind:"ScalarField",alias:"spriteIndexToURIMap",name:"sprite_uris",args:null,storageKey:null},{kind:"ScalarField",alias:"scrubberVideoURI",name:"scrubber_video_uri",args:null,storageKey:null}]}]};return{kind:"Request",operationKind:"query",name:"VideoComponentScrubberPreviewQuery",id:"1932498816782184",text:null,metadata:{},fragment:{kind:"Fragment",name:"VideoComponentScrubberPreviewQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"video",name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[c]}]},operation:{kind:"Operation",name:"VideoComponentScrubberPreviewQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"video",name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},c]}]}}}();e.exports=a}),null);
__d("VideoComponentWithInstreamVideoQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"videoID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"videoID",type:"ID!"}],c={kind:"InlineFragment",type:"Video",selections:[{kind:"ScalarField",alias:"adBreaksViewerConfig",name:"ad_breaks_viewer_config",args:null,storageKey:null}]};return{kind:"Request",operationKind:"query",name:"VideoComponentWithInstreamVideoQuery",id:"1941634209219931",text:null,metadata:{},fragment:{kind:"Fragment",name:"VideoComponentWithInstreamVideoQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"video",name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[c]}]},operation:{kind:"Operation",name:"VideoComponentWithInstreamVideoQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"video",name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},c]}]}}}();e.exports=a}),null);
__d("VideoComponentWithLoopingPlaybackQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"videoID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"videoID",type:"ID!"}],c={kind:"InlineFragment",type:"Video",selections:[{kind:"ScalarField",alias:"isLooping",name:"is_looping",args:null,storageKey:null},{kind:"ScalarField",alias:"loopCount",name:"loop_count",args:null,storageKey:null}]};return{kind:"Request",operationKind:"query",name:"VideoComponentWithLoopingPlaybackQuery",id:"1746038078808360",text:null,metadata:{},fragment:{kind:"Fragment",name:"VideoComponentWithLoopingPlaybackQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"video",name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[c]}]},operation:{kind:"Operation",name:"VideoComponentWithLoopingPlaybackQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:"video",name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},c]}]}}}();e.exports=a}),null);
__d("LiveVideoRewindTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:LiveVideoRewindLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:LiveVideoRewindLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:LiveVideoRewindLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setActionSequenceNumber=function(a){this.$1.action_sequence_number=a;return this};a.prototype.setDeviceid=function(a){this.$1.deviceid=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setPositionAfter=function(a){this.$1.position_after=a;return this};a.prototype.setPositionBefore=function(a){this.$1.position_before=a;return this};a.prototype.setSessionID=function(a){this.$1.session_id=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setVideoDuration=function(a){this.$1.video_duration=a;return this};a.prototype.setVideoID=function(a){this.$1.video_id=a;return this};c={action_sequence_number:!0,deviceid:!0,event:!0,position_after:!0,position_before:!0,session_id:!0,vc:!0,video_duration:!0,video_id:!0};e.exports=a}),null);
__d("XPresmaSettingsUpdateV2Controller",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/presma/settings_v2/update/",{})}),null);
__d("PresmaSettingFrameworkUtils",["fbt","AsyncRequest","XPresmaSettingsUpdateV2Controller"],(function(a,b,c,d,e,f,g){"use strict";a={updateGenericSettingValue:function(a,c){var d=b("XPresmaSettingsUpdateV2Controller").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(d).setMethod("POST").setData({params_json:JSON.stringify(a),new_value_json:JSON.stringify(c)}).send()},getEnterEditModeDefaultLabel:function(){return g._("Change")},getExitEditModeDefaultLabel:function(){return g._("Done")}};e.exports=a}),null);
__d("sdk.fbt",[],(function(a,b,c,d,e,f){a={_:function(a){return typeof a==="string"?a:a[0]}};e.exports=a}),null);
__d("AnyTokenSearchSource",["AbstractSearchSource","SearchableEntry"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("AbstractSearchSource"));g=c&&c.prototype;function a(a){"use strict";g.constructor.call(this),this.$AnyTokenSearchSource1=a||this.$AnyTokenSearchSource1}a.prototype.$AnyTokenSearchSource1=function(a){"use strict";return new(b("SearchableEntry"))({uniqueID:a,title:a})};a.prototype.searchImpl=function(a,b,c){"use strict";c=[];a&&a.length&&c.push(this.$AnyTokenSearchSource1(a));b(c,a)};e.exports=a}),null);
__d("SUITableCellTypes",["React","SUIErrorComponentUtil"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("SUIErrorComponentUtil").defaultProps,{isModified:!1,hasBorders:!1});e.exports={DEFAULT_TABLE_CELL_PROPS:a}}),null);
__d("swfobject",["AsyncRequest","Bootloader","CSS","htmlSpecialChars"],(function(a,b,c,d,e,f){__p&&__p();if(typeof g==="undefined")var g={};typeof g.util==="undefined"&&(g.util={});typeof g.SWFObjectUtil==="undefined"&&(g.SWFObjectUtil={});g.SWFObject=function(a,b,c,d,e,f,h,i,j,k){__p&&__p();if(!document.getElementById)return;this.DETECT_KEY=k?k:"detectflash";this.skipDetect=g.util.getRequestParameter(this.DETECT_KEY);this.params={};this.variables={};this.attributes=[];this.fallback_html="";this.fallback_js_fcn=function(){};a&&this.setAttribute("swf",a);b&&this.setAttribute("id",b);c&&this.setAttribute("width",c);d&&this.setAttribute("height",d);this.installedVer=g.SWFObjectUtil.getPlayerVersion();if(e){e instanceof Array||(e=[e]);e.forEach(function(a){k=new g.PlayerVersion(a.toString().split("."));if(k.major==this.installedVer.major){this.setAttribute("version",k);return}else(!this.getAttribute("version")||k.major<this.getAttribute("version").major)&&this.setAttribute("version",k)}.bind(this))}!window.opera&&document.all&&this.installedVer.major>7&&(g.unloadSet||(g.SWFObjectUtil.prepUnload=function(){(function(){}),(function(){}),window.attachEvent("onunload",g.SWFObjectUtil.cleanupSWFs)},window.attachEvent("onbeforeunload",g.SWFObjectUtil.prepUnload),g.unloadSet=!0));f&&this.addParam("bgcolor",f);a=h?h:"high";this.addParam("quality",a);this.setAttribute("useExpressInstall",!1);this.setAttribute("doExpressInstall",!1);b=i?i:window.location;this.setAttribute("xiRedirectUrl",b);this.setAttribute("redirectUrl","");j&&this.setAttribute("redirectUrl",j)};g.SWFObject.ieWorkaroundApplied=!1;g.SWFObject.ensureIEWorkaroundAttached=function(){!g.SWFObject.ieWorkaroundApplied&&document.attachEvent&&(g.SWFObject.ieWorkaroundApplied=!0,document.attachEvent("onpropertychange",g.SWFObject.onDocumentPropertyChange))};g.SWFObject.onDocumentPropertyChange=function(event){if(event.propertyName=="title"){var a=document.title;a!=null&&a.indexOf("#!")!=-1&&(a=a.substring(0,a.indexOf("#!")),document.title=a)}};Object.assign(g.SWFObject.prototype,{useExpressInstall:function(a){this.xiSWFPath=a?a:"/swf/expressinstall.swf",this.setAttribute("useExpressInstall",!0)},setAttribute:function(a,b){this.attributes[a]=b},getAttribute:function(a){return this.attributes[a]||""},addParam:function(a,b){this.params[a]=b},getParams:function(){return this.params},addVariable:function(a,b){this.variables[a]=b},getVariable:function(a){return this.variables[a]||""},getVariables:function(){return this.variables},getVariablePairs:function(){var a=[],b,c=this.getVariables();for(b in c)a[a.length]=b+"="+c[b];return a.join("&")},getSWFHTML:function(){__p&&__p();var a,b,c;if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){this.getAttribute("doExpressInstall")&&(this.addVariable("MMplayerType","PlugIn"),this.setAttribute("swf",this.xiSWFPath));b={type:"application/x-shockwave-flash",src:this.getAttribute("swf"),width:this.getAttribute("width"),height:this.getAttribute("height"),style:this.getAttribute("style")||"display: block;",id:this.getAttribute("id"),name:this.getAttribute("id")};var d=this.getParams();for(var e in d)b[e]=d[e];c=this.getVariablePairs();c&&(b.flashvars=c);a=h("embed",b,null)}else{this.getAttribute("doExpressInstall")&&(this.addVariable("MMplayerType","ActiveX"),this.setAttribute("swf",this.xiSWFPath));b={id:this.getAttribute("id"),classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",width:this.getAttribute("width"),height:this.getAttribute("height"),style:this.getAttribute("style")||"display: block;"};var f=h("param",{name:"movie",value:this.getAttribute("swf")},null),d=this.getParams();for(var e in d)f+=h("param",{name:e,value:d[e]},null);c=this.getVariablePairs();c&&(f+=h("param",{name:"flashvars",value:c},null));a=h("object",b,f)}return a},write:function(a){__p&&__p();if(this.getAttribute("useExpressInstall")){var c=new g.PlayerVersion([6,0,65]);this.installedVer.versionIsValid(c)&&!this.installedVer.versionIsValid(this.getAttribute("version"))&&(this.setAttribute("doExpressInstall",!0),this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl"))),document.title=document.title.slice(0,47)+" - Flash Player Installation",this.addVariable("MMdoctitle",document.title))}c=typeof a==="string"?document.getElementById(a):a;if(!c)return!1;b("CSS").addClass(c,"swfObject");c.setAttribute("data-swfid",this.getAttribute("id"));if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){g.SWFObject.ensureIEWorkaroundAttached();c.innerHTML=this.getSWFHTML();return!0}else{this.getAttribute("redirectUrl")!=""&&document.location.replace(this.getAttribute("redirectUrl"));a=this.getAttribute("version").major+"."+this.getAttribute("version").minor+"."+this.getAttribute("version").release+"."+this.getAttribute("version").build;var d=this.installedVer.major+"."+this.installedVer.minor+"."+this.installedVer.release+"."+this.installedVer.build;this.fallback_js_fcn(d,a);c.innerHTML=this.fallback_html}return!1}});g.SWFObjectUtil.getPlayerVersion=function(){__p&&__p();var a=new g.PlayerVersion([0,0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length)for(var b=0;b<navigator.plugins.length;b++)try{var c=navigator.plugins[b];c.name=="Shockwave Flash"&&(c=new g.PlayerVersion(c.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+(r|d)|\s+b[0-9]+)/,".").split(".")),(typeof a==="undefined"||c.major>a.major||c.major==a.major&&(c.minor>a.minor||c.minor==a.minor&&(c.release>a.release||c.release==a.release&&c.build>a.build)))&&(a=c))}catch(a){}else if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){c=1;b=3;while(c)try{b++,c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+b),a=new g.PlayerVersion([b,0,0])}catch(a){c=null}}else{try{c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(b){try{c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");a=new g.PlayerVersion([6,0,21]);c.AllowScriptAccess="always"}catch(b){if(a.major==6)return a}try{c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(a){}}c!=null&&(a=new g.PlayerVersion(c.GetVariable("$version").split(" ")[1].split(",")))}return a};g.PlayerVersion=function(a){this.major=a[0]!=null?parseInt(a[0],10):0,this.minor=a[1]!=null?parseInt(a[1],10):0,this.release=a[2]!=null?parseInt(a[2],10):0,this.build=a[3]!=null?parseInt(a[3],10):0};g.PlayerVersion.prototype.versionIsValid=function(a){__p&&__p();if(this.major<a.major)return!1;if(this.major>a.major)return!0;if(this.minor<a.minor)return!1;if(this.minor>a.minor)return!0;if(this.release<a.release)return!1;if(this.release>a.release)return!0;return this.build<a.build?!1:!0};g.util={getRequestParameter:function(a){__p&&__p();var b=document.location.search||document.location.hash;if(a==null)return b;if(b){b=b.substring(1).split("&");for(var c=0;c<b.length;c++)if(b[c].substring(0,b[c].indexOf("="))==a)return b[c].substring(b[c].indexOf("=")+1)}return""}};g.SWFObjectUtil.cleanupSWFs=function(){var a=document.getElementsByTagName("OBJECT");for(var b=a.length-1;b>=0;b--){a[b].style.display="none";for(var c in a[b])typeof a[b][c]==="function"&&(a[b][c]=function(){})}};!document.getElementById&&document.all&&(document.getElementById=function(a){return document.all[a]});g.spawn_flash_update_dialog=function(){new(b("AsyncRequest"))().setURI("/ajax/flash_update_dialog.php").setMethod("GET").setReadOnly(!0).send()};g.showFlashErrorDialog=function(a,c){b("Bootloader").loadModules(["ErrorDialog"],function(b){b.show(a,c)},"swfobject")};function h(a,c,d){__p&&__p();var e=/^[A-Za-z0-9\-]+$/;if(!a.match(e))throw new Error("Invalid tag "+a);var f="<"+a;for(var g in c){if(!g.match(e))throw new Error("Invalid attr "+g);f+=" "+g+'="'+b("htmlSpecialChars")(c[g])+'"'}if(d===null)return f+"/>";else return f+">"+d+"</"+a+">"}e.exports=a.deconcept||g}),null);
__d("getContextualLayerCursorOffset",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c){__p&&__p();var d=a.getOrientation(),e=d.getPosition();d=d.getAlignment();var f=a.getContent().getBoundingClientRect();a=a.getContext().getBoundingClientRect();b=b-a.left;c=c-a.top;switch(d){case"left":b-=f.width;break;case"center":b-=a.width*.5;break;case"right":b-=a.width-f.width;break;default:throw new Error("invalid alignment")}switch(e){case"above":break;case"left":b+=f.width;c-=f.height*.5;break;case"right":b-=f.width;c-=f.height*.5;break;case"below":c-=a.height;break;default:throw new Error("invalid position")}return{offsetX:b,offsetY:c}}e.exports=a}),null);
__d("XLiveClipVideoInternalSubmitController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/clipping/submit/",{video_id:{type:"Int",required:!0},start_seconds:{type:"Int"},end_seconds:{type:"Int"}})}),null);
__d("XLiveVideoClippingShareDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/live/clipping/share/dialog/",{video_id:{type:"FBID",required:!0}})}),null);
__d("XLiveVideoClippingStatusController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videos/clipping/status/",{clip_id:{type:"Int",required:!0},encoding:{type:"String",required:!0}})}),null);
__d("ClippingApi",["regeneratorRuntime","Promise","AsyncRequest","AsyncRequestUtil","XLiveClipVideoInternalSubmitController","XLiveVideoClippingShareDialogController","XLiveVideoClippingStatusController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a.prototype.clipVideo=function(a,c,d){__p&&__p();var e,f,g,h,i,j,k;return b("regeneratorRuntime").async(function(l){__p&&__p();while(1)switch(l.prev=l.next){case 0:c=Math.round(c);e=b("XLiveClipVideoInternalSubmitController").getURIBuilder().setInt("end_seconds",c).setInt("start_seconds",c-30).setInt("video_id",a).getURI();l.next=4;return b("regeneratorRuntime").awrap(b("AsyncRequestUtil").send(new(b("AsyncRequest"))(e).setMethod("POST")));case 4:f=l.sent,g=f.payload.clipID,h=b("XLiveVideoClippingShareDialogController").getURIBuilder().setFBID("video_id",g.toString()).getURI(),i=!1,j=b("XLiveVideoClippingStatusController").getURIBuilder().setInt("clip_id",g).setString("encoding","dash_live_md_frag_2_video").getURI();case 9:if(i){l.next=18;break}l.next=12;return b("regeneratorRuntime").awrap(this.$1(1e3));case 12:l.next=14;return b("regeneratorRuntime").awrap(b("AsyncRequestUtil").send(new(b("AsyncRequest"))(j)));case 14:k=l.sent;i=k.payload.ready;l.next=9;break;case 18:new(b("AsyncRequest"))(h).setHandler(d).send();case 19:case"end":return l.stop()}},null,this)};a.prototype.$1=function(a){return new(b("Promise"))(function(b){return setTimeout(b,a)})};function a(){}e.exports=new a()}),null);
__d("VideoQualityClass",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UHD:"uhd",HD:"hd",SD:"sd"})}),null);
__d("Pleasantville.react",["React","ReactDOM","VideoPlayerHTML5Api","VideoPlayerReactConfig","VideoPlayerVersions","VideoQualityClass","requireWeak"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){var a=this.props,c=a.offsetType;a=a.offsetValue;var d=null,e=null;c=="horizontal"?e=a:c=="vertical"&&(d=a);return b("React").createElement("video",{ref:"video",muted:this.props.startMuted,className:this.props.className,"data-video-width":this.props.width||"","data-video-height":this.props.height||"",style:{top:d,left:e}})};a.prototype.getVideoPlayerInitArgs=function(){var a,c;b("requireWeak")("VideoPlayerHTML5Shaka",function(b){return a=b});b("requireWeak")("VideoPlayerHTML5Oz",function(a){return c=a});var d=this.props.videoData.getPlayerVersionOverwrite()===b("VideoPlayerVersions").OZ?c||a:a;d={VideoPlayerHTML5Shaka:d,disableNativeControls:!0,subtitlesActive:this.props.showSubtitles,minQuality:this.props.forceHD?b("VideoQualityClass").HD:b("VideoPlayerReactConfig").defaultQuality,unloadShouldCancelPendingRequest:!0};return{apiConfig:d,apiModule:b("VideoPlayerHTML5Api"),videoElement:b("ReactDOM").findDOMNode(this.refs.video)}};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("VideoAutoplayGatingResult",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UGC_DEFAULT_ALLOWED:"ugc_default_allowed",PAGE_SPONSORED_ALLOWED:"page_sponsored_allowed",PAGE_SPONSORED_DEBUG_FORCE_ALLOWED:"page_sponsored_debug_force_allowed",FEED_RANKING_UGC_ALLOWED:"feed_ranking_ugc_allowed",ALL_PAGE_ORGANIC_ALLOWED:"all_page_organic_allowed",FEED_RANKING_ORGANIC_ALLOWED:"feed_ranking_organic_allowed",RELATED_WHITELISTED_ORGANIC_ALLOWED:"related_whitelisted_organic_allowed",HQ_PAGE_ORGANIC_ALLOWED:"hq_page_organic_allowed",PREMIUM_DEFAULT_ALLOWED:"premium_default_allowed",DEMO_SPONSORED_ALLOWED:"demo_sponsored_allowed",PLAYABLE_AD_ALLOWED:"playable_ad_allowed",EVENT_COVER_ALLOWED:"event_cover_allowed",GIF_ALLOWED:"gif_allowed",MOVIE_COVER_ALLOWED:"movie_cover_allowed",NO_GATING:"no_gating",UNKNOWN:"unknown",FEED_RANKING_UNKNOWN:"feed_ranking_unknown",LONG_TERM_HOLDOUT:"long_term_holdout",DEFAULT_OFF:"default_off",GATEKEEPER:"gatekeeper",UGC_HOLDOUT:"ugc_holdout",IS_SPONSORED:"is_sponsored",IS_SPONSORED_UGC:"is_sponsored_ugc",IS_BOOSTED:"is_boosted",NO_OWNER:"no_owner",PAGE_NOT_WHITELISTED:"page_not_whitelisted",PAGE_NOT_BRAND_SAFE:"page_not_brand_safe",NO_USER_PAGE_RELATIONSHIP:"no_user_page_relationship",USER_SETTINGS:"user_settings",VIDEO_BLACKLISTED:"video_blacklisted",UGC_VIDEO_DISABLED_BY_QE:"ugc_video_disabled_by_qe",PAGE_WHITELIST_DISABLED_BY_QE:"page_whitelist_disabled_by_qe",RANKING_PREDICTION_DISABLED:"ranking_prediction_disabled",RANKING_DATA_MISSING:"ranking_data_missing",HIGH_XOUT_RATIO:"high_xout_ratio",VIDEO_UNORIGINALITY:"video_unoriginality",DISABLED_BY_GAP_RULE:"disabled_by_gap_rule",AUTOPLAY_ADS_COUNT_CAP_REACHED:"autoplay_ads_count_cap_reached",AUTOPLAY_ADS_COUNT_CAP_REACHED_BACKEND:"autoplay_ads_count_cap_reached_backend",MOO_PREMIUM_AUTOPLAY_ADS_COUNT_CAP_REACHED:"moo_premium_autoplay_ads_count_cap_reached",MOO_PREMIUM_AUTOPLAY_ADS_COUNT_CAP_REACHED_BACKEND:"moo_premium_autoplay_ads_count_cap_reached_backend",AUTOPLAY_DISABLED_FOR_CLICK_BIDDING_ADS:"autoplay_disabled_for_click_bidding_ads",AUTOPLAY_DISABLED_FOR_ALL_ADS:"autoplay_disabled_for_all_ads",NOT_WHITELISTED_ACCOUNT:"not_whitelisted_account",NOT_MANAGED_ACCOUNT:"not_managed_account",UNSUPPORTED_CURRENCY:"unsupported_currency",DISABLED_BY_DYNAMIC_CAP:"disabled_by_dynamic_cap",DISABLED_BY_CREATIVE_TYPE:"disabled_by_creative_type",MOBILE_DATA_CONSUMPTION_LIMIT:"mobile_data_consumption_limit",PAGE_VIDEO_NOT_WIFI:"page_video_not_wifi",DISABLED_BY_AD_QUALITY_TABLE:"disabled_by_ad_quality_table",POOR_CONNECTION_QUALITY:"poor_connection_quality",AUTOPLAY_ADS_DISABLED_BY_BLACKLISTED_PAGE:"autoplay_ads_disabled_by_blacklisted_page",VIDEO_BROADCAST_AUTOPLAY_DISABLED:"video_broadcast_autoplay_disabled",LOW_VIDEO_VIEW_PREDICTION:"low_video_view_prediction",SPHERICAL_CELL:"spherical_cell",STORY_OF_FRIENDSHIP:"story_of_friendship",AUTOPLAY_DISABLED_IN_BOUNCER:"autoplay_disabled_in_bouncer",VOICE_POST_AUTOPLAY_DISABLED:"voice_post_autoplay_disabled",TEST_DISABLE_AUTOPLAY_ENTER_SOCIAL_PLAYER:"test_disable_autoplay_enter_social_player",DISABLE_AUTOPLAY_FOR_VIDEO_DR_ADS:"disable_autoplay_for_video_dr_ads",DISABLE_AUTOPLAY_FOR_EOF_UNIT_OVERLAY:"disable_autoplay_for_eof_unit_overlay",USER_GATING_PASSED:"user_gating_passed",USER_PAGE_GATING_PASSED:"user_page_gating_passed",TEST_NON_AD_FOR_ADS_ONLY_AUTOPLAY:"test_non_ad_for_ads_only_autoplay",WHITELISTED_XOUT_VIDEO:"whitelisted_xout_video",DISABLED_BY_POSITION_BUDGET:"disabled_by_position_budget",DISABLED_FOR_DATA_SENSITIVITY_TEST:"disabled_by_data_sensitivity_test",CHANNELS_NO_BUDGET:"channels_no_budget",FEED_SCORE_PASS:"feed_score_pass",FEED_SCORE_FAIL:"feed_score_fail",DISABLED_M_INTERFACE:"disabled_by_interface"})}),null);
__d("VideoPlayerFlashApi",["AbstractVideoPlayerApi","Arbiter","DOMQuery","Flash","SubscriptionsHandler","TimeRanges","VideoPlayerApiEvents","VideoPlayerLoggerErrors","VideoPlayerLoggerEvent","destroyOnUnload"],(function(a,b,c,d,e,f){__p&&__p();var g;function h(a){return a.hasAttribute("data-flash")?a.getAttribute("id"):b("DOMQuery").find(a,"div[data-flash]").getAttribute("id")}function i(a){var c=b("DOMQuery").scry(a,"embed");c.length||(c=b("DOMQuery").scry(a,"object"));return c[0]}c=babelHelpers.inherits(a,b("AbstractVideoPlayerApi"));g=c&&c.prototype;function a(a){"use strict";g.constructor.call(this),this.$VideoPlayerFlashApi1=i(a),this.$VideoPlayerFlashApi2=h(a),this.$VideoPlayerFlashApi3=null,this.$VideoPlayerFlashApi4=!1,this.$VideoPlayerFlashApi5=new(b("SubscriptionsHandler"))(),this.$VideoPlayerFlashApi5.addSubscriptions(b("Arbiter").subscribe(b("VideoPlayerApiEvents").map(function(a){return"flash/"+a}),this.$VideoPlayerFlashApi6.bind(this))),b("destroyOnUnload")(function(){return this.$VideoPlayerFlashApi5.release()}.bind(this))}a.onImplementationReady=function(a,c){"use strict";var d=i(a);if(d&&d.playVideo)return c(a);var e=h(a),f=b("Arbiter").subscribe("flash/ready",function(d,f){f.divID===e&&(b("Arbiter").unsubscribeCurrentSubscription(),b("Arbiter").releaseCurrentPersistentEvent(),c(a))});b("destroyOnUnload")(function(){return f.unsubscribe()})};a.isImplementationUnavailable=function(){"use strict";return!b("Flash").isAvailable()};a.prototype.$VideoPlayerFlashApi6=function(a,b){"use strict";__p&&__p();if(b.divID!==this.$VideoPlayerFlashApi2)return;a=a.substr("flash/".length);switch(a){case"beginPlayback":this.$VideoPlayerFlashApi7=!1;this.$VideoPlayerFlashApi8=b.position;this.$VideoPlayerFlashApi9=b.position;this.$VideoPlayerFlashApi4=!0;break;case"updateStatus":this.$VideoPlayerFlashApi9=b.position;break;case"finishPlayback":this.$VideoPlayerFlashApi9=this.getPlaybackDuration();case"pausePlayback":this.$VideoPlayerFlashApi4=!1}this.emit(a,b)};a.prototype.preload=function(){"use strict"};a.prototype.isPreloading=function(){"use strict";return!1};a.prototype.abortLoading=function(){"use strict"};a.prototype.destroy=function(a){"use strict";this.$VideoPlayerFlashApi5.release()};a.prototype.isPaused=function(){"use strict";return undefined};a.prototype.pause=function(a){"use strict";__p&&__p();if(a==="unloaded"&&typeof this.$VideoPlayerFlashApi1.pauseVideo!=="function"){this.$VideoPlayerFlashApi4&&this.emit("logEvent",{logData:{event:b("VideoPlayerLoggerEvent").PAUSED,reason:"unloaded",video_last_start_time_position:this.$VideoPlayerFlashApi8,video_time_position:this.$VideoPlayerFlashApi9}});this.$VideoPlayerFlashApi4=!1;return}this.$VideoPlayerFlashApi7&&(this.$VideoPlayerFlashApi7=!1,this.emit("logEvent",{logData:{event:b("VideoPlayerLoggerEvent").CANCELLED_REQUESTED_PLAYING,reason:a}}));this.$VideoPlayerFlashApi4=!1;for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];this.$VideoPlayerFlashApi10("pauseVideo",[a].concat(d))};a.prototype.play=function(){"use strict";this.$VideoPlayerFlashApi7=!0;for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.$VideoPlayerFlashApi10("playVideo",b,!0)};a.prototype.replaceVideoDataFromURL=function(){"use strict";for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.$VideoPlayerFlashApi10("replaceVideoDataFromURL",b)};a.prototype.replaceVideoData=function(){"use strict";for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.$VideoPlayerFlashApi10("replaceVideoData",b)};a.prototype.getEstimatedBandwidth=function(){"use strict";return null};a.prototype.getCurrentlyPlayingStreamInfoID=function(){"use strict";return null};a.prototype.getLocalEstimator=function(){"use strict";return null};a.prototype.seek=function(){"use strict";for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.$VideoPlayerFlashApi10("seekVideo",b)};a.prototype.switchVideo=function(){"use strict";for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.$VideoPlayerFlashApi10("switchVideo",b)};a.prototype.switchToStreamType=function(){"use strict";for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.$VideoPlayerFlashApi10("switchToStreamType",b)};a.prototype.unmute=function(){"use strict";for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.$VideoPlayerFlashApi10("unmuteVideo",b)};a.prototype.mute=function(){"use strict";for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.$VideoPlayerFlashApi10("muteVideo",b)};a.prototype.isMuted=function(){"use strict";for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return this.$VideoPlayerFlashApi10("isVideoMuted",b)};a.prototype.getPlaybackDuration=function(){"use strict";for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return this.$VideoPlayerFlashApi10("getVideoDuration",b)};a.prototype.getVolume=function(){"use strict";for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return this.$VideoPlayerFlashApi10("getVideoVolume",b)};a.prototype.setDimensions=function(a,b){"use strict";this.$VideoPlayerFlashApi10("setDimensions",[a,b])};a.prototype.getDimensionsForDevice=function(){"use strict";return null};a.prototype.setRotation=function(){"use strict";for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.$VideoPlayerFlashApi10("setRotation",b)};a.prototype.getVideoInfo=function(){"use strict";if(!this.$VideoPlayerFlashApi11("getVideoInfo"))return null;for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=this.$VideoPlayerFlashApi10("getVideoInfo",b,!1);if(d)return JSON.parse(d);else return null};a.prototype.setVolume=function(){"use strict";for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.$VideoPlayerFlashApi10("setVolume",b)};a.prototype.toggleSubtitles=function(){"use strict";for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.$VideoPlayerFlashApi10("toggleSubtitles",b)};a.prototype.hasSubtitles=function(){"use strict";if(!this.$VideoPlayerFlashApi11("hasSubtitles"))return!1;for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return this.$VideoPlayerFlashApi10("hasSubtitles",b)};a.prototype.areSubtitlesAutogenerated=function(){"use strict";return!1};a.prototype.areSubtitlesActive=function(){"use strict";if(!this.$VideoPlayerFlashApi11("areSubtitlesActive"))return!1;for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return this.$VideoPlayerFlashApi10("areSubtitlesActive",b)};a.prototype.areHLSActive=function(){"use strict";if(!this.$VideoPlayerFlashApi11("areHLSActive"))return!1;for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return this.$VideoPlayerFlashApi10("areHLSActive",b)};a.prototype.isRTMP=function(){"use strict";if(!this.$VideoPlayerFlashApi11("isRTMP"))return!1;for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return this.$VideoPlayerFlashApi10("isRTMP",b)};a.prototype.setPreferredVideoQuality=function(a){"use strict";if(a!=this.getSelectedVideoQuality()){this.$VideoPlayerFlashApi3=a;for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$VideoPlayerFlashApi10("toggleVideoHD",c)}};a.prototype.unsetPreferredVideoQuality=function(){"use strict"};a.prototype.getPreferredVideoQuality=function(){"use strict";return this.$VideoPlayerFlashApi3};a.prototype.getSelectedVideoQuality=function(){"use strict";if(!this.$VideoPlayerFlashApi11("isVideoHD"))return"SD";for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return this.$VideoPlayerFlashApi10("isVideoHD",b)?"HD":"SD"};a.prototype.getAvailableVideoQualities=function(){"use strict";if(!this.$VideoPlayerFlashApi11("hasVideoHD"))return["SD"];for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return this.$VideoPlayerFlashApi10("hasVideoHD",b)?["SD","HD"]:["SD"]};a.prototype.getIsAbrEnabled=function(){"use strict";return!1};a.prototype.canAutoSelectVideoQuality=function(){"use strict";return!1};a.prototype.setPreloadDisabled=function(a){"use strict";return};a.prototype.restoreStreamBufferSize=function(){"use strict";return};a.prototype.getCurrentTimePosition=function(){"use strict";return this.$VideoPlayerFlashApi9};a.prototype.getBufferEndPosition=function(){"use strict";return null};a.prototype.logHeartbeat=function(){"use strict";return};a.prototype.$VideoPlayerFlashApi11=function(a){"use strict";return typeof this.$VideoPlayerFlashApi1[a]==="function"};a.prototype.$VideoPlayerFlashApi10=function(a,c,d){"use strict";__p&&__p();try{if(this.$VideoPlayerFlashApi11(a))return this.$VideoPlayerFlashApi1[a].apply(this.$VideoPlayerFlashApi1,c);else throw new Error(a+" is not a valid method on the flash object")}catch(a){if(this.$VideoPlayerFlashApi12)return;this.$VideoPlayerFlashApi12=!0;this.emit("error",{error:b("VideoPlayerLoggerErrors").ERROR_CALLING_FLASH,message:a.message,isPlayback:d});this.$VideoPlayerFlashApi12=!1}};a.prototype.getDroppedFrames=function(){"use strict";return 0};a.prototype.getTotalFrames=function(){"use strict";return 0};a.prototype.getVideoNodeSource=function(){"use strict";return""};a.prototype.setEnableLiveheadCatchup=function(a){"use strict"};a.prototype.isFBWasLive=function(){"use strict";return!1};a.prototype.isFBIsLiveTemplated=function(){"use strict";return!1};a.prototype.isFBMS=function(){"use strict";return!1};a.prototype.isLiveheadCatchupEnabled=function(){"use strict";return!1};a.prototype.getSeekableRanges=function(){"use strict";return new(b("TimeRanges"))({startTime:0,endTime:this.getPlaybackDuration()})};a.prototype.getVideoProjection=function(){"use strict";return null};a.getPlayerVersion=function(){"use strict";return"silvercity"};a.getStartMutedFromConfig=function(a){"use strict";return!!a.start_muted};a.getStreamTypeFromConfig=function(a){"use strict";return a.initial_stream_type||"progressive"};a.getIsServableViaFbmsFromConfig=function(a){"use strict";return!!a.is_servable_via_fbms};a.getIsPlayingLiveFromConfig=function(a){"use strict";return!!a.is_live_streaming};a.getIsFacecastAudioFromConfig=function(a){"use strict";return!!a.is_facecast_audio};a.getIsSpherical=function(a){"use strict";return!!a.is_spherical};e.exports=a}),null);
__d("VideoRenderingUtils",["VideoPlayerVersions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={getPlayerVersion:function(){return b("VideoPlayerVersions").PLEASANTVILLE},isEmbeddedControlRedesign:function(){var a=g.getPlayerVersion();return a===b("VideoPlayerVersions").PLEASANTVILLE},shouldFallbackToFlash:function(a){a=a.getPlayerVersionOverwrite();return a!==b("VideoPlayerVersions").PLEASANTVILLE&&a!==b("VideoPlayerVersions").OZ},getFlashFalloverVideoDataList:function(a){__p&&__p();a=[a].concat(a.getFalloverData());var b={};for(var c=a,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;b[f.getStreamType()]=f.getRawData()}f={};for(var e=0;e<a.length;e++)f[e+1]=a[e].getRawData();return{videoDataPreference:f,videoDataByStreamType:b}}};e.exports=g}),null);
__d("Silvercity.react",["flash-js","CurrentUser","PixelRatio","React","ReactDOM","URI","UserAgentData","VideoAutoplayGatingResult","VideoPlayerExperiments","VideoPlayerFlashApi","VideoPlayerSilvercityConfigs","VideoRenderingUtils","swfobject","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("flash-js");c={autoHD:!1,defaultHD:!1,disableNativeControls:!0,inlinePlayer:!1,preload:!1,startMuted:!1,hideControlsWhenFinished:!1,showCaptionsDefault:!0,autoplayReason:b("VideoAutoplayGatingResult").UNKNOWN};d=babelHelpers.inherits(a,b("React").Component);g=d&&d.prototype;function a(a){g.constructor.call(this,a),this.swfID="swf_id_"+b("uuid")()}a.prototype.componentDidMount=function(){this.$1()};a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.$2(a)&&(this.swfID="swf_id_"+b("uuid")())};a.prototype.componentDidUpdate=function(a){this.$2(a)&&this.$1()};a.prototype.$2=function(a){return a.videoData.getVideoID()!==this.props.videoData.getVideoID()};a.prototype.$3=function(){return{allowFullScreen:!0,allowscriptaccess:"always",salign:"tl",scale:"noscale",wmode:"opaque"}};a.prototype.$4=function(){var a=b("VideoRenderingUtils").getFlashFalloverVideoDataList(this.props.videoData),c=a.videoDataByStreamType;a=a.videoDataPreference;return{auto_hd:this.props.autoHD,autoplay_reason:this.props.autoplayReason,default_hd:this.props.defaultHD,disable_native_controls:this.props.disableNativeControls,inline_player:this.props.inlinePlayer,pixel_ratio:b("PixelRatio").get(),preload:this.props.preload,start_muted:this.props.startMuted,rtmp_stage_video:!0,rtmp_buffer:b("VideoPlayerExperiments").enableRtmpBuffer,rtmp_buffer_time:b("VideoPlayerExperiments").rtmpBufferTime,rtmp_buffer_time_max:b("VideoPlayerExperiments").rtmpBufferTimeMax,video_data:c,video_data_preference:a,show_captions_default:this.props.showCaptionsDefault,persistent_volume:!0,hide_controls_when_finished:this.props.hideControlsWhenFinished,rtmp_start_playing_non_zero_stream_time:!0,rtmp_improve_playback_config:b("VideoPlayerExperiments").rtmpImprovePlayback,rtmp_start_time_fix:b("VideoPlayerExperiments").rtmpStartTimeFix,buffer_length:.1}};a.prototype.$1=function(){__p&&__p();var a=new(b("swfobject").SWFObject)(b("VideoPlayerSilvercityConfigs").silvercitySwfUrl,this.swfID,this.props.width,this.props.height,["10.3.181.34","11.0.0"],"#000000"),c=this.$3(),d=Object.keys(c);for(var e=0;e<d.length;e++){var f=d[e];a.addParam(f,c[f])}f=b("UserAgentData").browserName+"+"+b("UserAgentData").browserFullVersion;d=new(b("URI"))().setSubdomain("pixel").toString();e={params:encodeURIComponent(JSON.stringify(this.$4())),width:this.props.width,height:this.props.height,user:b("CurrentUser").getID(),log:b("CurrentUser").isEmployee()?"yes":"no",showErrors:"yes",div_id:this.swfID,swf_id:this.swfID,browser:f,tracking_domain:encodeURIComponent(d),post_form_id:""};c=Object.keys(e);for(var f=0;f<c.length;f++){d=c[f];a.addVariable(d,e[d])}window[this.swfID]=a;a.write(this.swfID)};a.prototype.render=function(){return b("React").createElement("div",{ref:"video","data-flash":1,id:this.swfID,className:this.props.className,"data-video-width":this.props.width,"data-video-height":this.props.height})};a.prototype.getVideoPlayerInitArgs=function(){return{apiConfig:{is_live_streaming:this.props.videoData.isLiveStream(),initial_stream_type:this.props.videoData.getStreamType(),is_facecast_audio:this.props.videoData.isFacecastAudio(),is_spherical:this.props.videoData.isSpherical()},apiModule:b("VideoPlayerFlashApi"),videoElement:b("ReactDOM").findDOMNode(this.refs.video)}};a.defaultProps=c;e.exports=a}),null);
__d("RelayConcreteVariables",["relay-runtime/store/RelayConcreteVariables"],(function(a,b,c,d,e,f){"use strict";e.exports=b("relay-runtime/store/RelayConcreteVariables")}),null);
__d("fetchStaticQuery",["RelayConcreteVariables","RelayRuntime"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayConcreteVariables").getOperationVariables,h=b("RelayRuntime").RelayConcreteNode,i=b("RelayRuntime").getRequest;function a(a,b,c,d){b=i(b);if(b.kind===h.BATCH_REQUEST)throw new Error("fetchStaticQuery: Cannot fetch a Batch Request.");c=g(b.operation,c);return a.execute(b,c,d||{}).map(function(a){return a.response}).toPromise()}e.exports=a}),null);
__d("VideoComponent",["CurrentUser","ErrorBoundary.react","React","RelayFBNetwork","SubscriptionsHandler","fetchStaticQuery"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a){return a.displayName||a.name||"Component"}function a(a,c){__p&&__p();var d,e=c||{},f=e.observedVpcEvents||[],h=e.suppressMount||function(){return!1},i=g(a);return d=c=function(){__p&&__p();var c,d;c=babelHelpers.inherits(g,b("React").Component);d=c&&c.prototype;function g(a){"use strict";d.constructor.call(this,a),this.$7=function(){if(this.$2&&this.$2.length&&this.refs.component){var a={time:Date.now(),queuedEvents:this.$2};this.setState({vpcEventInfo:a});this.$2=[]}}.bind(this),this.state={video:null,user:null,vpcEventInfo:{time:0,queuedEvents:[]}},this.$2=[]}g.prototype.render=function(){"use strict";return this.$3()?null:b("React").createElement(b("ErrorBoundary.react"),{onHandleError:function(a,b){}},b("React").createElement(a,babelHelpers["extends"]({ref:"component"},this.props,{vpcEventInfo:this.state.vpcEventInfo,video:this.state.video,user:this.state.user})))};g.prototype.enable=function(a){"use strict";__p&&__p();if(this.$3())return;this.vpc=a;this.$1=new(b("SubscriptionsHandler"))();this.$4(a);var c=this.refs.component;if(!c)return;if(!c.enable)throw new TypeError(i+" must implement enable(VideoPlayerController)");c.enable(a);this.$5(a.getVideoID(),e.videoGraphQLQuery)};g.prototype.disable=function(){"use strict";__p&&__p();if(this.$3())return;var a=this.refs.component;if(!a)return;if(!a.disable)throw new TypeError(i+" must implement disable()");a.disable();this.$1.release()};g.prototype.$3=function(){"use strict";return h(this.props.videoData)};g.prototype.$5=function(a,c){"use strict";if(!a||!c)return;b("fetchStaticQuery")(b("RelayFBNetwork"),c,{videoID:a,userID:b("CurrentUser").getID()},{force:!0}).then(function(a){a=a.data;var b=a.video;a=a.user;this.vpc&&b&&this.refs.component&&b.id==this.vpc.getVideoID()&&this.setState({video:b});a&&this.refs.component&&this.setState({user:a})}.bind(this))};g.prototype.$4=function(a){__p&&__p();var b=this,c=function(){__p&&__p();if(e){if(g>=d.length)return"break";h=d[g++]}else{g=d.next();if(g.done)return"break";h=g.value}var event=h,c=a.addListener(event,function(){return this.$6(event)}.bind(b));b.$1.addSubscriptions(c)};for(var d=f,e=Array.isArray(d),g=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h,i=c();if(i==="break")break}};g.prototype.$6=function(event){"use strict";this.$2.length||setTimeout(this.$7,0),this.$2.push(event)};return g}(),c.displayName="VideoComponent("+i+")",d}e.exports={createContainer:a}}),null);
__d("VideoWithClickPlayPause",["VideoPlayerReason","logVideosClickTracking"],(function(a,b,c,d,e,f){__p&&__p();function a(a){"use strict";this.$1=a,this.$2=this.$1.getVideoNode(),this.$1.addListener("clickVideo",this.$3.bind(this)),this.$1.hasSeenClick()&&this.$3()}a.prototype.$3=function(){"use strict";var a=this.$1.getOption("CommercialBreakVideoAdOverlay","videoController");if(this.$1.isState("playing")){if(this.$1.getOption("VideoWithLiveBroadcast","isLive")||a&&a.getOption("VideoWithLiveBroadcast","isLive")||this.$4()||this.$5())return;this.$1.pause(b("VideoPlayerReason").USER)}else b("logVideosClickTracking")(this.$2),this.$1.play(b("VideoPlayerReason").USER)};a.prototype.$4=function(){"use strict";var a=this.$1.getOption("CommercialBreakVideoAdOverlay","videoController");a=a&&a.getOption("VideoWithInstreamVideo","controller");return a&&!a.getConfig().canPauseAdBreak};a.prototype.$5=function(){"use strict";return this.$1.getOption("VideoWithInstreamVideo","disableClickToPause")};e.exports=a}),null);
__d("VideoComponentClickPlayPause.react",["React","VideoComponent","VideoWithClickPlayPause"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.enable=function(a){new(b("VideoWithClickPlayPause"))(a)};a.prototype.disable=function(){};a.prototype.shouldComponentUpdate=function(){return!1};a.prototype.render=function(){return null};function a(){g.apply(this,arguments)}e.exports=b("VideoComponent").createContainer(a)}),null);
__d("VideoComponentSphericalVideoHeadingIndicator.react",["cx","Bootloader","React","VideoComponent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(a){h.constructor.call(this,a),this.state={enabled:!1}}a.prototype.enable=function(a){if(!this.props.videoData.isSpherical())return;this.setState({enabled:!0},function(){b("Bootloader").loadModules(["VideoSphericalHeadingIndicator"],function(b){var c=this.props.videoData.getSphericalConfig();new b(a,this.refs.root,c.initialHeading,c.initialPitch,c.fieldOfView)}.bind(this),"VideoComponentSphericalVideoHeadingIndicator.react")}.bind(this))};a.prototype.disable=function(){this.setState({enabled:!1})};a.prototype.render=function(){return!this.state.enabled?null:b("React").createElement("div",{className:"_3lfe",ref:"root"})};e.exports=b("VideoComponent").createContainer(a)}),null);
__d("VideoComponentSphericalVideoOverlay.react",["cx","Bootloader","React","VideoComponent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(a){h.constructor.call(this,a),this.state={enabled:!1}}a.prototype.enable=function(a){if(!this.props.videoData.isSpherical())return;this.setState({enabled:!0},function(){b("Bootloader").loadModules(["VideoSphericalOverlay"],function(b){this.$1&&this.$2&&this.$3&&new b(a,this.$1,this.$2,!1,this.$3)}.bind(this),"VideoComponentSphericalVideoOverlay.react")}.bind(this))};a.prototype.disable=function(){this.setState({enabled:!1})};a.prototype.render=function(){return!this.state.enabled?null:b("React").createElement("div",{className:"_1-s8"},b("React").createElement("div",{className:"_1zvy",ref:function(a){this.$1=a}.bind(this)}),b("React").createElement("div",{className:"_2660",ref:function(a){this.$2=a}.bind(this)}),b("React").createElement("div",{className:"_236i",ref:function(a){this.$3=a}.bind(this)}))};e.exports=b("VideoComponent").createContainer(a)}),null);
__d("VideoComponentWithSphericalRecenterControl.react",["Bootloader","React","VideoComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.enable=function(a){if(!this.props.videoData.isSpherical())return;b("Bootloader").loadModules(["SphericalVideoRecenterControl"],function(b){var c=this.props.videoData.getSphericalConfig();this.$1=new b(a,c.initialHeading,c.initialPitch)}.bind(this),"VideoComponentWithSphericalRecenterControl.react")};a.prototype.disable=function(){this.$1&&this.$1.destroy()};a.prototype.render=function(){return null};function a(){g.apply(this,arguments)}e.exports=b("VideoComponent").createContainer(a)}),null);
__d("VideoComponentWithSphericalVideoPlayer.react",["Bootloader","React","VideoComponent"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.enable=function(a){if(!this.props.videoData.isSpherical())return;b("Bootloader").loadModules(["SphericalVideoPlayer"],function(b){var c=this.props.videoData.getSphericalConfig();this.$1=new b(c,{eagerPreload:!0,useContainerDimensions:!0});this.$1.enable(a)}.bind(this),"VideoComponentWithSphericalVideoPlayer.react")};a.prototype.disable=function(){this.$1&&this.$1.disable()};a.prototype.render=function(){return null};function a(){g.apply(this,arguments)}e.exports=b("VideoComponent").createContainer(a)}),null);
__d("VideoResizeMode",[],(function(a,b,c,d,e,f){"use strict";e.exports={FIT:"FIT",COVER_HEIGHT:"COVER_HEIGHT"}}),null);
__d("VideoPlayer.react",["cx","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","Pleasantville.react","React","ReactDOM","Silvercity.react","VideoAutoplayGatingResult","VideoComponentClickPlayPause.react","VideoComponentSphericalVideoHeadingIndicator.react","VideoComponentSphericalVideoOverlay.react","VideoComponentWithSphericalRecenterControl.react","VideoComponentWithSphericalVideoPlayer.react","VideoPlayerController","VideoPlayerLoggerEvent","VideoPlayerLoggerSource","VideoPlayerReason","VideoRenderingUtils","VideoResizeMode","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c={showCaptionsDefault:!1,onUpdateMetadata:function(){},onVideoClick:function(){},autoplay:!1,autoplayReason:b("VideoAutoplayGatingResult").UNKNOWN,autoplaySetting:"autoplay_setting_www",forceHD:!1,startMuted:!1,isUnmountScheduled:!1,videoResizeMode:b("VideoResizeMode").FIT,allowCrossPageTransition:!1,disableClickPlayPause:!1};d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(a){h.constructor.call(this,a),this.$4=function(){this.vpcCleanedup||(this.vpc.pause(b("VideoPlayerReason").UNLOADED),this.vpc.destroy({disableStillFrame:!0}),this.vpcCleanedup=!0)}.bind(this),this.$7=function(a,c){var d=babelHelpers["extends"]({},this.props,{videoID:this.props.videoData.getVideoID(),ref:this.$8.bind(this,c.toString())});return b("React").createElement(b("FBOverlayElement.react"),{key:c},b("React").cloneElement(a,d))}.bind(this),this.componentRefs=new Map(),this.state={isFullscreen:!1}}a.prototype.componentDidMount=function(){this.vpc=this.$1(this.refs.video.getVideoPlayerInitArgs(),this.props.videoData)};a.prototype.componentDidUpdate=function(a){this.$2(a)&&(this.$3(this.vpc),this.vpc=this.$1(this.refs.video.getVideoPlayerInitArgs(),this.props.videoData)),a.isUnmountScheduled!==this.props.isUnmountScheduled&&this.props.isUnmountScheduled&&this.vpc.runOnceOnApiEventLogged(b("VideoPlayerLoggerEvent").STARTED_PLAYING,function(){setTimeout(this.$4,0);return}.bind(this))};a.prototype.componentWillUnmount=function(){this.$3(this.vpc)};a.prototype.$5=function(){var a=[b("React").createElement(b("VideoComponentWithSphericalVideoPlayer.react"),null),b("React").createElement(b("VideoComponentWithSphericalRecenterControl.react"),null),b("React").createElement(b("VideoComponentSphericalVideoHeadingIndicator.react"),null),b("React").createElement(b("VideoComponentSphericalVideoOverlay.react"),null)];this.props.disableClickPlayPause||a.push(b("React").createElement(b("VideoComponentClickPlayPause.react"),null));return a};a.prototype.$3=function(a){__p&&__p();if(a){for(var b=this.componentRefs.values(),c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.disable()}a.runOnApiReady(this.$4)}};a.prototype.$2=function(a){var b=a.videoData.getVideoID()!==this.props.videoData.getVideoID();a=a.videoData.getPlayableSrcSD()!==this.props.videoData.getPlayableSrcSD();return b||a};a.prototype.$1=function(a,c){__p&&__p();var d=a.apiConfig,e=a.apiModule;a=a.videoElement;this.vpcCleanedup=!1;d.videoData=[c.getRawData()];d.startTimestamp=this.props.startTimestamp;var f=new(b("VideoPlayerController"))({source:this.props.subOrigin,playerOrigin:this.props.playerOrigin||null,reaction_video_channel_type:this.props.reactionVideoChannelType,reaction_video_channel_subtype:this.props.reactionVideoChannelSubtype,autoplay_reason:this.props.autoplayReason,autoplay_setting:this.props.autoplaySetting,apiModule:e,apiConfig:d,should_autoplay:!this.props.isUnmountScheduled&&this.props.autoplay,player_version:this.props.videoData.getPlayerVersionOverwrite(),video_ids:[c.getVideoID()],allowCrossPageTransition:this.props.allowCrossPageTransition,isReactPlayer:!0,video_url:c.getVideoURL(),isBroadcast:c.isBroadcast(),upstreamPlayerSource:this.props.upstreamPlayerSource||null,livingRoomSessionID:this.props.livingRoomSessionID,customLoggingProps:this.props.customLoggingProps,keepPlayingOnDialog:this.props.keepPlayingOnDialog},{root_element:b("ReactDOM").findDOMNode(this.refs.root),container_element:b("ReactDOM").findDOMNode(this.refs.container),video_element:b("ReactDOM").findDOMNode(a)});for(var e=this.componentRefs.values(),d=Array.isArray(e),c=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(c>=e.length)break;a=e[c++]}else{c=e.next();if(c.done)break;a=c.value}a=a;a.enable(f)}f.addListener("clickVideo",this.props.onVideoClick);f.addListener("toggleFullscreen",function(){return this.setState({isFullscreen:!!f.isFullscreen()})}.bind(this));f.addListener("updateMetadata",function(){return this.props.onUpdateMetadata(f)}.bind(this));this.props.onVpcUpdate!==null&&this.props.onVpcUpdate!==undefined&&this.props.onVpcUpdate(f);return f};a.prototype.$6=function(a){var c="_ox1";this.props.videoResizeMode==b("VideoResizeMode").COVER_HEIGHT?c="_ox1 _41l4":this.props.offsetType=="horizontal"?c="_ox1 _blh":this.props.offsetType=="vertical"&&(c="_ox1 _bli");if(a!==null&&a!==undefined)return b("joinClasses")(c,a);else return c};a.prototype.render=function(){__p&&__p();var a=this.props,c=a.width,d=a.height,e=a.tabIndex,f=a.videoData,g=a.startMuted,h=a.offsetValue,i=a.className;a=babelHelpers.objectWithoutProperties(a,["width","height","tabIndex","videoData","startMuted","offsetValue","className"]);var j=b("VideoRenderingUtils").shouldFallbackToFlash(f);i=this.$6(i);var k=c!==undefined||d!==undefined;k&&(d&&(c=c||d*f.getAspectRatio()),c&&(d=d||c/f.getAspectRatio()));j=j?b("React").createElement(b("Silvercity.react"),babelHelpers["extends"]({ref:"video",videoData:f,width:c||0,height:d||0,showSubtitles:this.props.showCaptionsDefault,className:i,startMuted:g,defaultHD:this.props.forceHD},a)):b("React").createElement(b("Pleasantville.react"),babelHelpers["extends"]({ref:"video",videoData:f,width:c,height:d,showSubtitles:this.props.showCaptionsDefault,className:i,startMuted:g,offsetValue:this.state.isFullscreen?0:h},a));f=k?{}:{width:"100%",height:"100%"};i=k?{width:(c||0)+"px",height:(d||0)+"px"}:{width:"100%",height:"100%"};return b("React").createElement("div",{ref:"root",tabIndex:e,className:"_1c_u",style:f},b("React").createElement(b("FBOverlayContainer.react"),{ref:"container",className:"_53j5",style:i},b("React").createElement(b("FBOverlayBase.react"),null,j),b("React").Children.toArray(this.$5().concat(this.props.children)).filter(function(a){return a!=null}).map(this.$7)))};a.prototype.$8=function(a,b){!b?this.componentRefs["delete"](a):this.componentRefs.set(a,b)};a.defaultProps=c;e.exports=a}),null);
__d("VideoDataContainer.react",["cx","invariant","regeneratorRuntime","React","VideoData","VideoPlayer.react","VideoPlayerMetaData"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=babelHelpers.inherits(j,b("React").Component);i=a&&a.prototype;function j(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$1=!1,this.$2=null,this.state={errorData:null,isLoading:!0,prevVideoID:this.props.videoID,videoData:null},b}j.renderSpinner=function(a,c){return b("React").createElement("div",{className:"_53j5",style:{height:c,width:a}},b("React").createElement("i",{className:"_5l7x"}))};j.getDerivedStateFromProps=function(a,b){return a.videoID!==b.prevVideoID?{errorData:null,isLoading:!0,prevVideoID:a.videoID,videoData:null}:null};j.prototype.componentDidMount=function(){this.$3(this.props)};j.prototype.componentDidUpdate=function(a,b){if(a.videoID!==this.props.videoID)this.$3(this.props);else if(b.videoData!==this.state.videoData){a=this.props.onVideoLoaded;typeof a==="function"&&a()}};j.prototype.componentWillUnmount=function(){this.$1=!0};j.prototype.render=function(){__p&&__p();var a=this.state,c=a.isLoading,d=a.videoData;a=a.errorData;if(a)return this.props.renderError?this.props.renderError(a):null;a=this.props.renderLoading;if(c&&a)return a();if(!d||d===j.VIDEO_DATA_PLACEHOLDER)return null;c=this.props.children;c!=null&&c.type===b("VideoPlayer.react")||h(0,undefined);return b("React").cloneElement(c,{videoData:d})};j.prototype.$3=function(a){__p&&__p();var c,d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:this.$2=a.videoID;c=null;d=null;e.prev=3;e.next=6;return b("regeneratorRuntime").awrap(b("VideoPlayerMetaData").genVideoData(a.videoID));case 6:d=e.sent;if(!(this.$2!==a.videoID)){e.next=9;break}return e.abrupt("return");case 9:if(!(this.$1||a.isUnmountScheduled)){e.next=11;break}return e.abrupt("return");case 11:if(!(this.$2!==a.videoID)){e.next=13;break}return e.abrupt("return");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](3),c=e.t0;case 18:this.$1||(c!==null?this.setState({errorData:c}):this.setState({videoData:d,isLoading:!1}));case 19:case"end":return e.stop()}},null,this,[[3,15]])};j.VIDEO_DATA_PLACEHOLDER=new(b("VideoData"))();e.exports=j}),null);
__d("VideoWithSpacePlayPause",["Event","Run","VideoPlayerReason"],(function(a,b,c,d,e,f){__p&&__p();var g=32;function a(a){"use strict";this.$1=a;var c=b("Event").listen(window,"keypress",this.$2.bind(this));b("Run").onLeave(function(){return c.remove()})}a.prototype.$2=function(a){"use strict";this.$1.isFullscreen()&&a.charCode==g&&(this.$1.isState("playing")?this.$1.pause(b("VideoPlayerReason").USER):this.$1.play(b("VideoPlayerReason").USER))};e.exports=a}),null);
__d("AbstractVideoFullscreenControl.react",["cx","AbstractButton.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={awaitingUpdate:!1},this.isFullscreen=function(){return this.state.awaitingUpdate?this.state.isFullscreenOverride:!!this.props.isFullscreen}.bind(this),this.onButtonClick=function(){this.props.onToggleFullscreen&&this.props.onToggleFullscreen()}.bind(this),b}a.prototype.render=function(){var a=Object.assign({},this.props);delete a.isFullscreen;delete a.onToggleFullscreen;return b("React").createElement(b("AbstractButton.react"),babelHelpers["extends"]({},a,{className:b("joinClasses")(this.props.isFullscreen?"uiContextualLayerParent":"",this.props.className),disabled:this.props.disabled,image:this.props.image,label:this.props.label,onClick:this.onButtonClick}))};a.propTypes={disabled:c.bool,image:c.element,isFullscreen:c.bool,onToggleFullscreen:c.func};e.exports=a}),null);
__d("VideoComponentPlayButton.react",["cx","fbt","React","VideoComponent","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){i.constructor.call(this,a),this.$2=function(){b("nullthrows")(this.state.vpc).clickVideo()}.bind(this),this.state={vpc:null}}a.prototype.$1=function(a){var b=!this.props.syncOnPauseVisibilityWithControls||a.getOption("VideoControls","areControlsVisible");a=a.getState();if(a==="paused"&&b||a==="ready")return!0;b=this.props.alsoVisibleWhen;return!b?!1:Array.isArray(b)?b.includes(a):b===a};a.prototype.render=function(){__p&&__p();var a=this.state.vpc;if(!a)return null;var c=a.isPlayRequestPending(),d=a.isBuffering();if(c||d)return b("React").createElement("i",{className:"_5l7x"});if(!this.$1(a))return null;c=h._("Play video");return b("React").createElement("i",{className:"_3htz _1jto _bsl",onClick:this.$2,role:"presentation"},b("React").createElement("input",{"aria-label":c,type:"button",className:"_yak"}))};a.prototype.enable=function(a){this.setState({vpc:a})};a.prototype.disable=function(){};e.exports=b("VideoComponent").createContainer(a,{observedVpcEvents:["stateChange","bufferingChanged","pendingPlayRequestChanged","VideoControls/visibilityUpdate"]})}),null);
__d("CommercialBreakHostStoryComponentType",[],(function(a,b,c,d,e,f){a=Object.freeze({POP_OVER_MENU:"POP_OVER_MENU",HOST_STORY_HEADER:"HOST_STORY_HEADER"});e.exports=a}),null);
__d("CommercialBreakMobileEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SUBSCRIPTION_SUCCESS:"commercial_break_skywalker_subscription_success",SUBSCRIPTION_FAILURE:"commercial_break_skywalker_subscription_failure",RECEIVE_INTENT_MSG:"commercial_break_skywalker_receive_intent",RECEIVE_START_MSG:"commercial_break_skywalker_receive_start",RECEIVE_INVALID_MSG:"commercial_break_skywalker_receive_invalid_message",VIDEO_FETCH_SUCCESS:"commercial_break_video_fetch_success",VIDEO_FETCH_FAILURE:"commercial_break_video_fetch_failure",COMMERCIAL_BREAK_INLINE_TO_FULLSCREEN:"commercial_break_inline_to_fullscreen",COMMERCIAL_BREAK_FULLSCREEN_TO_INLINE:"commercial_break_fullscreen_to_inline",COMMERCIAL_BREAK_SCROLLED_AWAY:"commercial_break_scrolled_away",COMMERCIAL_BREAK_SCROLLED_INTO:"commercial_break_scrolled_into",COMMERCIAL_BREAK_START_NFX:"commercial_break_start_nfx",COMMERCIAL_BREAK_HIDE_AD:"commercial_break_hide_ad",COMMERCIAL_BREAK_HIDE_AD_BREAKS:"commercial_break_hide_ad_breaks",COMMERCIAL_BREAK_START:"commercial_break_start",COMMERCIAL_BREAK_START_AD:"commercial_break_start_ad",COMMERCIAL_BREAK_TRANSIT:"commercial_break_transit",COMMERCIAL_BREAK_WAIT_FOR:"commercial_break_wait_for",COMMERCIAL_BREAK_STATIC_COUNTDOWN:"commercial_break_static_countdown",COMMERCIAL_BREAK_END:"commercial_break_end",COMMERCIAL_BREAK_PAUSE_AD:"commercial_break_pause_ad",COMMERCIAL_BREAK_PLAY_AD:"commercial_break_play_ad",COMMERCIAL_BREAK_NO_AD_TRANSITION:"commercial_break_no_ad_transition",COMMERCIAL_BREAK_ELIGIBLE_VOD_START:"commercial_break_eligible_vod_start",COMMERCIAL_BREAK_START_SHOW_NOTHING:"commercial_break_start_show_nothing",COMMERCIAL_BREAK_STARTING_INDICATOR:"commercial_break_starting_indicator",COMMERCIAL_BREAK_START_TIME_DELTA:"commercial_break_start_time_delta",COMMERCIAL_BREAK_IMPRESSION_ATTEMPT:"commercial_break_impression_attempt",COMMERCIAL_BREAK_SKYWALKER_RECEIVED_DUPLICATE_EVENT:"commercial_break_skywalker_received_duplicate_event",COMMERCIAL_BREAK_ADS_LOADED:"commercial_break_ads_loaded",COMMERCIAL_BREAK_FIRE_EVENT_IN_TRACKER:"commercial_break_fire_event_in_tracker",COMMERCIAL_BREAK_LOG_IMPRESSION_IN_TRACKER:"commercial_break_log_impression_in_tracker",COMMERCIAL_BREAK_REGISTER_VIDEO:"commercial_break_register_video",COMMERCIAL_BREAK_RESUME_HOST_VIDEO:"commercial_break_resume_host_video",COMMERCIAL_BREAK_CLICK_ON_STARTING_INDICATOR:"commercial_break_click_on_starting_indicator",COMMERCIAL_BREAK_PLUGIN_IS_ON_DIFFERENT_HOSTVIDEO:"commercial_break_plugin_is_on_different_hostvideo",COMMERCIAL_BREAK_LOG_AD_IMPRESSION:"commercial_break_log_ad_impression",COMMERCIAL_BREAK_CLICK:"commercial_break_click",COMMERCIAL_BREAK_SCRUB_THROUGH:"commercial_break_scrub_through",COMMERCIAL_BREAK_SCRUBBER_LEAVE_BEFORE_AD_BREAK:"commercial_break_scrubber_leave_before_ad_break",COMMERCIAL_BREAK_SCRUBBER_LEAVE_DURING_AD_BREAK:"commercial_break_scrubber_leave_during_ad_break",COMMERCIAL_BREAK_CONTEXT_CARD_INFO_BUTTON_CLICK:"commercial_break_context_card_info_button_click",COMMERCIAL_BREAK_TAP_ON_TRAILER:"commercial_break_tap_on_trailer",COMMERCIAL_BREAK_PRE_ROLL_FETCH_SUCCESS_LATE:"commercial_break_pre_roll_fetch_success_late",COMMERCIAL_BREAK_PRE_ROLL_START:"commercial_break_pre_roll_start",COMMERCIAL_BREAK_PRE_ROLL_BLOCKED_BY_RESUME_TIME:"commercial_break_pre_roll_blocked_by_resume_time",COMMERCIAL_BREAK_PRE_ROLL_BLOCKED_BY_REMAINING_TIME:"commercial_break_pre_roll_blocked_by_remaining_time",COMMERCIAL_BREAK_CLICK_ON_SOUND_TOGGLE:"commercial_break_click_on_sound_toggle",COMMERCIAL_BREAK_PRE_ROLL_BLOCKED_BY_ENTRY_VIDEO_WATCH_TIME:"commercial_break_pre_roll_blocked_by_entry_video_watch_time",COMMERCIAL_BREAK_SHOW_INSTREAM_SPONSORSHIP:"commercial_break_show_instream_sponsorship",COMMERCIAL_BREAK_FETCH_POST_ROLL:"commercial_break_fetch_post_roll"})}),null);
__d("CommercialBreakStartingIndicator.react",["cx","fbt","CircularProgressBar.react","CommercialBreakMobileEvent","CommercialBreakState","CSS","DateConsts","React","Style","SubscriptionsHandler","VideoPlayerLoggerEvent","VideoPlayerUIComponentDrawer"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=300,k=300,l=31;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){"use strict";i.constructor.call(this,a),this.$1=null,this.$2=null,this.$4=null,this.$12=null,this.$13=null,this.$15=!1,this.state={percentComplete:-1},this.$11=!1,this.$15=!1,this.$3=new(b("SubscriptionsHandler"))(),this.$6=this.props.controller.addListener("optionsChange",function(){return this.$16()}.bind(this)),this.$16(),this.$14=this.props.controller.registerDrawer(b("VideoPlayerUIComponentDrawer").priorities.AdBreakStartingIndicator,l)}a.prototype.$16=function(){"use strict";__p&&__p();if(!this.$1){var a=this.props.controller.getOption("VideoWithInstreamVideo","controller");this.$1=a&&a.getConfig()}if(!this.$5){a=this.props.controller.getOption("VideoWithCommercialBreak","controller");this.$5=a&&a.addListener("commercialBreak/stateChange",function(a){return this.$17(a.state)}.bind(this))}this.$1&&this.$5&&this.$6.remove()};a.prototype.$18=function(){"use strict";clearInterval(this.$4),b("CSS").addClass(this.props.container,"_20dq"),this.$10&&b("CSS").removeClass(this.$10,"_3ee4"),this.$9&&b("CSS").removeClass(this.$9,"_3ee4"),this.$7&&b("CSS").removeClass(this.$7,"_3ee6"),this.$7&&b("CSS").removeClass(this.$7,"_3ee4"),b("CSS").removeClass(this.props.container,"_1xn2"),this.setState({percentComplete:-1}),this.$11=!1};a.prototype.$19=function(a){"use strict";var c=this.props.controller.getCurrentTimePosition()*b("DateConsts").MS_PER_SEC,d=-1;c>a?this.$20():this.$1&&this.$1.startingIndicatorMs&&c>a-this.$1.startingIndicatorMs&&(d=100-100*(a-c)/this.$1.startingIndicatorMs);this.setState({percentComplete:d})};a.prototype.$21=function(a){"use strict";__p&&__p();var c=this.props.controller.getCurrentTimePosition()*b("DateConsts").MS_PER_SEC;if(c>a){this.$15||this.$20();return}clearInterval(this.$4);if(!this.$1||!this.$1.startingIndicatorMs)return;this.$4=setInterval(function(){this.$19(a)}.bind(this),this.$1.startingIndicatorMs/100);this.$15=!0};a.prototype.componentDidMount=function(){"use strict";this.$3.addSubscriptions(this.props.controller.addListener("commercialBreak/vodBreakStarting",function(a){this.$21(a)}.bind(this)),this.props.controller.addListener("seekRequested",this.$18.bind(this))),this.props.controller.registerOption("WatchAndScroll","hideOverlay",function(){return this.$2!==null}.bind(this)),this.props.controller.registerOption("VideoContextMenu","disablePauseMenuItem",function(){return this.$2!==null}.bind(this)),this.props.controller.registerOption("VideoWithInstreamVideo","disableClickToPause",function(){return this.$2!==null}.bind(this))};a.prototype.componentWillUnmount=function(){"use strict";this.$3.release(),this.$5&&this.$5.remove(),this.props.controller.unregisterOption("WatchAndScroll","hideOverlay"),this.props.controller.unregisterOption("VideoContextMenu","disablePauseMenuItem"),this.props.controller.unregisterOption("VideoWithInstreamVideo","disableClickToPause")};a.prototype.UNSAFE_componentWillReceiveProps=function(a){"use strict";a.adsStopped&&this.$20()};a.prototype.componentDidUpdate=function(){"use strict";this.$9&&this.$8&&b("Style").set(this.$9,"width",this.$8.clientWidth+34+"px"),!this.$11&&this.state.percentComplete>=0&&(b("CSS").addClass(this.props.container,"_1xn2"),this.$11=!0,this.$14.reserve())};a.prototype.$17=function(a){"use strict";switch(a){case b("CommercialBreakState").ENTERING_TRANSITION:this.$22();break;case b("CommercialBreakState").INIT:case b("CommercialBreakState").PLAY_AD:this.$20();break}};a.prototype.$22=function(){"use strict";__p&&__p();clearInterval(this.$4);var a=this.$1;if(!a||!a.beginningNonLiveTransitionTimeMs)return;a=a.beginningNonLiveTransitionTimeMs-j;if(a<j)return;this.$12=setTimeout(function(){clearTimeout(this.$12),this.$9&&b("CSS").addClass(this.$9,"_3ee4")}.bind(this),k);this.$13=setTimeout(function(){clearTimeout(this.$13),this.$7&&b("CSS").addClass(this.$7,"_3ee4")}.bind(this),a);this.$10&&b("CSS").addClass(this.$10,"_3ee4");this.$7&&b("CSS").addClass(this.$7,"_3ee6")};a.prototype.$20=function(){"use strict";this.$2&&(this.$2.release(),this.$2=null),this.$18(),this.$14.release(),this.$15=!1};a.prototype.$23=function(){"use strict";if(!this.$2){this.$2=this.props.controller.getOption("VideoControls","acquireForceHideLock");this.props.controller.emit("adBreakIndicatorShowing");var a=this.props.controller.getOption("VideoWithInstreamVideo","controller");a&&(a.logMarauderEvent(b("CommercialBreakMobileEvent").COMMERCIAL_BREAK_STARTING_INDICATOR),this.props.controller.logEvent(b("VideoPlayerLoggerEvent").AD_BREAK_STARTING_INDICATOR,{instream_video_ad_break_index:a.getCurrentInstreamVideoAdBreakIndex(),instream_video_ad_break_video_id:a.getCurrentInstreamVideoAdBreakVideoID()}))}};a.prototype.$24=function(){"use strict";return this.$1&&this.$1.vodPreTransitionText?this.$1.vodPreTransitionText:h._("Ad starting soon")};a.prototype.$25=function(){"use strict";return this.$1&&this.$1.vodTransitionText?this.$1.vodTransitionText:h._("Video will continue after ad")};a.prototype.getControlsLock=function(){"use strict";return this.$2};a.prototype.UNSAFE_componentWillUpdate=function(a,b){"use strict";b.percentComplete>=0&&this.$23()};a.prototype.render=function(){"use strict";this.$2&&b("CSS").removeClass(this.props.container,"_20dq");return b("React").createElement("div",{className:"_3ee7"},b("React").createElement("div",{className:"_1xne",ref:function(a){this.$9=a}.bind(this)}),b("React").createElement("div",{className:"_3ee9",ref:function(a){this.$10=a}.bind(this)},b("React").createElement("div",{className:"_20ds"},b("React").createElement(b("CircularProgressBar.react"),{percentComplete:this.state.percentComplete})),b("React").createElement("div",{className:"_4zpn",ref:function(a){this.$8=a}.bind(this)},this.$24())),b("React").createElement("div",{className:"_3eea",ref:function(a){this.$7=a}.bind(this)},this.$25()))};e.exports=a}),null);
__d("CommercialBreakNoAdReason",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NO_VIDEO_AD:"no_video_ad",TIME_SPENT_INSUFFICIENT:"time_spent_insufficient",PLAYBACK_ERROR:"playback_error",HIDE_AD:"hide_ad",WAIT_FOR_FAILED:"wait_for_failed",SPONSORED_STORY:"sponsored_story",CONTROL_GROUP:"control_group",DUPLICATE_VIDEO:"duplicate_video",INACTIVE_TAB:"inactive_tab",IS_COMMENTING:"is_commenting",SCRUBBER_FETCH_INCOMPLETE:"scrubber_fetch_incomplete",VIDEO_AD_IN_NI:"video_ad_in_ni"})}),null);
__d("InstreamPlacement",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PRE_ROLL:"pre_roll",MID_ROLL:"mid_roll",POST_ROLL:"post_roll",NON_INTERRUPTIVE:"non_interruptive"})}),null);
__d("InstreamVideoAdType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({LIVE:"live",VOD:"vod",NONLIVE:"nonlive",LIVE_POST_ROLL:"live_post_roll",VOD_POST_ROLL:"vod_post_roll",NONLIVE_POST_ROLL:"nonlive_post_roll",LIVE_AD_PODS:"live_ad_pods",NONLIVE_PRE_ROLL:"nonlive_pre_roll"})}),null);
__d("InstreamVideoAdsController",["CommercialBreakMobileEvent","DataAttributeUtils","DateConsts","DOMQuery","MarauderLogger","NonBlockingIFrame","URI","VideoPlayerStates","ViewableImpressionConfig"],(function(a,b,c,d,e,f){__p&&__p();var g=null;function h(){"use strict";this.$1=new Map()}h.prototype.$2=function(a){"use strict";var c=[];this.$1.forEach(function(d,e){!e.isState(b("VideoPlayerStates").DESTROYED)&&b("DOMQuery").contains(a,e.getRootNode())&&c.push(e)});return c.length===0?null:c[0]};h.prototype.$3=function(a,b){"use strict";if(this.$1.has(a))return;this.$1.set(a,b)};h.registerVideoController=function(a,c){"use strict";g===null&&(g=new h());g.$3(a,c);b("MarauderLogger").log(b("CommercialBreakMobileEvent").COMMERCIAL_BREAK_REGISTER_VIDEO,"commercial_break",{commercial_break_ad_client_token:a.getAdClientToken()});var d=g;a.once("beginPlayback",function(){d.$4(a)})};h.prototype.$4=function(a){"use strict";var c=this.$1.get(a);if(b("DOMQuery").contains(c,a.getRootNode())){a=b("DataAttributeUtils").getDataAttribute(c,"data-xt");c=Math.floor(Date.now()/b("DateConsts").MS_PER_SEC);a={xt:a,isv:1,cts:c};b("NonBlockingIFrame").loadIFrame(new(b("URI"))(b("ViewableImpressionConfig").impressionURL).addQueryData(a).toString())}};h.findVideoControllerForStory=function(a){"use strict";return g===null?null:g.$2(a)};e.exports=h}),null);
__d("VideoPlayerLoggerEventField",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ABANDON_IN_STALL:"abandon_in_stall",ACCESS_TOKEN:"access_token",AD_CLIENT_TOKEN:"ad_client_token",AD_ID:"ad_id",API_CONFIG:"api_config",APP_ID:"app_id",APP_VERSION:"app_version",AUDIO_CHANNEL_LAYOUT:"audio_ch_conf",AUTH_FLAG:"auth_flag",AUTOPLAY_ELIGIBLE:"autoplay_eligible",AUTOPLAY_FAILURE_REASONS:"autoplay_failure_reasons",AUTOPLAY_SETTING:"autoplay_setting",AVAILABLE_QUALITIES:"available_qualities",BATTERY_LEVEL:"battery_level",BROADCASTER_ORIGIN:"broadcaster_origin",BUILD_VERSION:"build_version",CAPTION_STATE:"caption_state",CAST_CLIENT_APP_ID:"cast_client_app_id",CAST_CLIENT_APP_VERSION:"cast_client_app_version",CAST_SESSION_ID:"cast_session_id",CHANNEL_ELIGIBILITY:"channel_eligibility",CHROMECAST_RECEIVER_AVAILABLE:"chromecast_receiver_available",CLIENT_UNIX_TIME:"client_unix_time",CONNECTIVITY_SUBTYPE:"connectivity_subtype",CONNECTIVITY_TYPE:"connectivity_type",CREATOR_APP_ID:"creator_app_id",CURRENT_VIEWABILITY_PERCENTAGE:"current_viewability_percentage",VIEWABILITY_DEBUG_REASON:"viewability_debug_reason",CURRENT_VOLUME:"current_volume",DATA_CONNECTION_QUALITY:"data_connection_quality",DEBUG_REASON:"debug_reason",DEVICE_ID:"device_id",DURATION:"duration",ERROR:"error",ERROR_CODE:"error_code",ERROR_DESCRIPTION:"error_description",ERROR_DOMAIN:"error_domain",ERROR_USER_INFO:"error_user_info",EVENT_NAME:"name",EVENT_BATCH:"batch",EXTERNAL_LOG_ID:"external_log_id",EXTERNAL_LOG_TYPE:"external_log_type",FB_BANDWIDTH:"fb_bandwidth",FEED_POSITION:"feed_position",FIRST_STALL_START_POSITION:"first_stall_start_position",FIRST_STALL_TIME:"first_stall_time",FT:"ft",GKS:"gks",HAS_BEEN_LIVE:"has_been_live",HD:"hd",HEADSET_STATE:"headset_state",HLS_CURRENT_SEGMENT_URI:"current_segment_uri",HLS_LOADING_SEGMENT_URI:"loading_segment_uri",HLS_SEGMENT_URI:"segment_uri",HLS_STREAM_DATA:"stream_data",HOST_VIDEO_ID:"host_video_id",INLINE:"inline",INSTREAM_VIDEO_AD_BREAK_INDEX:"instream_video_ad_break_index",INSTREAM_VIDEO_AD_BREAK_VIDEO_ID:"instream_video_ad_break_video_id",INTERRUPT_COUNT:"interrupt_count",INTERRUPT_TIME:"interrupt_time",IS_ABR_ENABLED:"is_abr_enabled",IS_AUTO_ADVANCED:"is_auto_advanced",IS_FREE:"is_free",IS_HDS:"is_hds",IS_LIVE_STREAMING:"is_live_streaming",IS_SHOW_VIDEO:"is_show_video",IS_STALLING:"is_stalling",IS_TEMPLATED_MANIFEST:"is_templated_manifest",LAST_VIEWABILITY_PERCENTAGE:"last_viewability_percentage",NEXT_REPRESENTATION_ID:"next_representation_id",ORIGINAL_VIDEO_ID:"original_video_id",OUTER_STORY_IDENTIFIER:"outer_story_identifier",PLAYBACK_BROADCAST_STATUS:"playback_broadcast_status",PLAYBACK_DURATION:"playback_duration",PLAYBACK_IS_LIVE_STREAMING:"playback_is_live_streaming",PLAYER_FORMAT:"player_format",PLAYER_ORIGIN:"player_origin",PLAYER_STATE:"player_state",PLAYER_SUBORIGIN:"player_suborigin",PLAYER_VERSION:"player_version",POSITION_IN_CHANNEL:"position_in_channel",POSITION_IN_UNIT:"position_in_unit",PROJECTION:"projection",QES:"qes",REACTION_VIDEO_CHANNEL_ID:"video_channel_id",REACTION_VIDEO_CHANNEL_TYPE:"reaction_video_channel_type",REACTION_VIDEO_CHANNEL_SUBTYPE:"reaction_video_channel_subtype",REASON:"reason",RECENT_STALLS_COUNT:"recent_stalls_count",RECENT_STALLS_TOTAL_COUNT:"recent_stalls_total_count",REFERRER:"referrer",REPRESENTATION_ID:"representation_id",RESOURCE_URL:"resource_url",SAVED_OFFLINE:"saved_offline",SEQ_NUM:"seq_num",SESSION_START_TIME:"session_start_time",SHOW_VIDEO_TYPE:"show_video_type",SOURCE:"source",SPHERICAL_FALLBACK_TYPE:"spherical_fallback_type",STALL_COUNT:"stall_count",STALL_INFO_JSON:"stall_info_json",STALL_TIME:"stall_time",STATE:"state",STREAM_TYPE:"stream_type",STREAMING_FORMAT:"streaming_format",TIME:"time",TIME_DELTA:"time_delta",TIME_MS:"time_ms",TIME_SINCE_CREATION:"time_since_creation",TIME_SPENT_ID:"time_spent_id",TIME_UNTIL_INTERRUPT:"time_until_interrupt",TOTAL_STALL_TIME:"total_stall_time",TRACKING:"tracking",TV_SESSION_ID:"tv_session_id",UNIQUE_TIME_SPENT_MS:"unique_time_spent_ms",UNIT_POSITION:"unit_position",UPSTREAM_PLAYER_SOURCE:"upstream_player_source",USER_ASN:"user_asn",USER_ID:"user_id",V2_HEART_BEAT:"v2_heart_beat",VIDEO_BANDWIDTH:"video_bandwidth",VIDEO_CHAINING_DEPTH_LEVEL:"video_chaining_depth_level",VIDEO_CHAINING_SESSION_ID:"video_chaining_session_id",VIDEO_CHANNEL_ID:"video_channel_id",VIDEO_CHANNEL_TYPE:"video_channel_type",VIDEO_HOME_SESSION_ID:"video_home_session_id",VIDEO_ID:"video_id",VIDEO_LAST_START_TIME_POSITION:"video_last_start_time_position",VIDEO_PLAY_REASON:"video_play_reason",VIDEO_PLAYER_HEIGHT:"video_player_height",VIDEO_PLAYER_WIDTH:"video_player_width",VIDEO_QUALITY:"video_quality",VIDEO_TIME_POSITION:"video_time_position",VIDEO_BUFFER_END_POSITION:"video_buffer_end_position",VIDEO_TIME_RATIO:"video_time_ratio",VIEWABILITY_PERCENTAGE:"viewability_percentage",WATCH_AND_GO_SESSION_ID:"watch_and_go_session_id",FEED_AGGREGATION_TYPE:"feed_aggregation_type",HAS_BLOCKED_PAUSED_REPRESENTATION_ENDED:"has_blocked_paused_representation_ended",IS_LIVE_VIDEO_REWOUND:"is_live_video_rewound",PLAYER_INSTANCE_KEY:"player_instance_key",SOURCE_CREATION_TIME:"source_creation_time",TRANSCODING_METHOD:"transcoding_method",VIDEO_INIT_SEQ_ID:"video_init_seq_id",VIDEO_PLAY_SUBREASON:"video_play_subreason",IS_DEEPLINK_USER:"is_deeplink_user",IS_FIRST_TIME_USER:"is_first_time_user",VIDEO_CLIP_START_TIME_MS:"video_clip_start_time_ms",AD_BREAK_VIEWER_SESSION_ID:"ad_break_viewer_session_id",SEEK_FROM_VIDEO_TIME_POSITION:"seek_from_video_time_position",LIVING_ROOM_SESSION_ID:"living_room_session_id",VIOLATION_FOUND:"violation_found",EVENT_SEQ_NUM:"event_seq_num",DETECTION_ID:"detection_id",ACTUAL_VIEWABILITY_VALUE:"actual_viewability_value",DROPPED_FRAME_COUNT:"dropped_frame_count",TOTAL_FRAME_COUNT:"total_frame_count",VISITATION_ID:"visitation_id",PIGEON_SESSION_ID:"pigeon_session_id",IS_FBMS:"is_fbms",FORCE_SAMPLE_LOGGING:"force_sample_logging",IS_ADS_PREVIEW:"is_ads_preview",IS_INJECTED_ADS:"is_injected_ads",AD_BREAK_AD_ID:"ad_break_ad_id",DASH_MANIFEST_AVAILABLE:"dash_manifest_available",IS_SERVABLE_VIA_FBMS:"is_servable_via_fbms"})}),null);
__d("CommercialBreakVideoAdOverlay",["cx","Arbiter","CommercialBreakMobileEvent","CommercialBreakNoAdReason","CommercialBreakState","CSS","DOM","DOMDimensions","Event","InstreamPlacement","InstreamVideoAdsController","InstreamVideoAdType","SubscriptionsHandler","VideoPlayerLoggerEvent","VideoPlayerLoggerEventField","VideoPlayerReason","VideoPlayerStates","getFullScreenElement","gkx"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a){"use strict";this.$7=a.root,this.$9=!1,this.$4=null,this.$10=!1,this.$11=!1,this.$12=0,this.$14=!1}a.prototype.enable=function(a){"use strict";this.$1=a,this.$6=a.addListener("optionsChange",function(){return this.$15()}.bind(this)),this.$15()};a.prototype.disable=function(){"use strict";this.$6.remove()};a.prototype.stopAdWithoutTransition=function(){"use strict";this.$16(),this.$3&&this.$3.reset()};a.prototype.$15=function(){"use strict";__p&&__p();this.$2=this.$1.getOption("VideoWithInstreamVideo","controller");if(!this.$2)return;this.$3=this.$1.getOption("VideoWithCommercialBreak","controller");if(!this.$3)return;this.$6.remove();this.$8=this.$2.getConfig();this.$1.addListener("commercialBreak/vodBreakStarting",function(){this.$17()}.bind(this));this.$3.addListener("commercialBreak/videoAdStoryFetched",function(a,c,d,e,f){a&&(b("DOM").setContent(this.$7,a),this.$10=!0,this.$11=!c,this.$12=d,this.$2.setCurrentInstreamVideoAdBreakVideoID(e),this.$2.setCurrentInstreamVideoAdBreakClientToken(f))}.bind(this));this.$3.addListener("commercialBreak/stateChange",function(a){__p&&__p();a=a.state;switch(a){case b("CommercialBreakState").AD_REQUEST_SENT:case b("CommercialBreakState").ENTERING_TRANSITION:a=this.$18();!!a.height&&!!a.width&&(this.$13=a);break;case b("CommercialBreakState").PLAY_AD:this.$19();break;case b("CommercialBreakState").INIT:this.$20();break;case b("CommercialBreakState").LEAVING_TRANSITION:this.$8.isBroadcast&&this.$16();break}}.bind(this));this.$3.addListener("commercialBreak/inTransition",function(a){return this.$21(a.shouldShowAd)}.bind(this));this.$1.addListener("commercialBreak/CTAClicked",this.$22.bind(this))};a.prototype.$22=function(){"use strict";this.$14=!0};a.prototype.$23=function(a){__p&&__p();var c;a.setLogEntryPropertyGetters((c={},c[b("VideoPlayerLoggerEventField").HOST_VIDEO_ID]=this.$8.hostVideoID,c[b("VideoPlayerLoggerEventField").INSTREAM_VIDEO_AD_BREAK_INDEX]=this.$12,c));a.addListener("stateChange",function(){!this.$4?this.$24():this.$4.isState(b("VideoPlayerStates").FINISHED)&&this.$24()}.bind(this));a.addListener("playRequested",function(a){a===b("VideoPlayerReason").USER&&this.$2.logMarauderEvent(b("CommercialBreakMobileEvent").COMMERCIAL_BREAK_PLAY_AD)}.bind(this));a.addListener("pauseRequested",function(a){this.$2.logMarauderEvent(b("CommercialBreakMobileEvent").COMMERCIAL_BREAK_PAUSE_AD,{video_player_reason:a})}.bind(this));this.$2.registerInstreamVideo(a);this.$25();this.$26();this.$27();this.$28()};a.prototype.$29=function(){"use strict";__p&&__p();var a=null,c=this.$2.getCurrentInstreamVideoAdType();switch(c){case b("InstreamVideoAdType").LIVE:this.$3.getIsDuplicateLiveVideo()?a=b("CommercialBreakNoAdReason").DUPLICATE_VIDEO:!this.$10?a=b("CommercialBreakNoAdReason").WAIT_FOR_FAILED:!this.$11?a=b("CommercialBreakNoAdReason").NO_VIDEO_AD:a=b("CommercialBreakNoAdReason").PLAYBACK_ERROR;this.$2.logMarauderEvent(b("CommercialBreakMobileEvent").COMMERCIAL_BREAK_STATIC_COUNTDOWN,{commercial_break_no_ad_reason:a});break;case b("InstreamVideoAdType").VOD:case b("InstreamVideoAdType").NONLIVE:a=b("CommercialBreakNoAdReason").PLAYBACK_ERROR;this.$2.logMarauderEvent(b("CommercialBreakMobileEvent").COMMERCIAL_BREAK_START_SHOW_NOTHING,{commercial_break_no_ad_reason:a});this.$3.reset();break}};a.prototype.$24=function(){"use strict";this.$8.isBroadcast&&this.$16(),this.$3.leaveAdBreak()};a.prototype.$19=function(){"use strict";this.$9=!1,this.$17(),this.$4?this.$23(this.$4):this.$29()};a.prototype.$17=function(){"use strict";this.$4=b("InstreamVideoAdsController").findVideoControllerForStory(this.$7),this.$4&&!this.$4.hasOption("CommercialBreakVideoAdOverlay","videoController")&&this.$4.registerOption("CommercialBreakVideoAdOverlay","videoController",function(){return this.$1}.bind(this)),this.$4&&!this.$4.hasOption("VideoContextMenu","disablePauseMenuItem")&&this.$4.registerOption("VideoContextMenu","disablePauseMenuItem",function(){return this.$8.isLive||!this.$8.canPauseAdBreak}.bind(this))};a.prototype.$18=function(){"use strict";var a=b("DOMDimensions").getElementDimensions(this.$1.getRootNode());this.$1.isFullscreen()&&(a=b("DOMDimensions").getElementDimensions(b("getFullScreenElement")()));return a};a.prototype.$25=function(){"use strict";var a=this.$4;if(!a)return;var b=this.$18();(!b.width||!b.height)&&this.$13&&(b=this.$13);a.setDimensions(b.width,b.height)};a.prototype.$26=function(){"use strict";var a=this.$4;if(!a)return;var b=this.$1.getSource();b&&a.updateSource(b)};a.prototype.$27=function(){"use strict";if(!b("gkx")("AT5XnbksE1_AOyUt2b9jhYlX09m1W3UR4XflkWYYksQqQU_-85FmGh0b-kFAXnHSrGNtCKwbhwpGF8katcLUIoiPr4LdOSPDmlzSMwBeefg0PQ"))return;var a=this.$4;if(!a)return;var c=this.$1.getSelectedVideoQuality();c&&a.setPreferredVideoQuality(c)};a.prototype.$30=function(){"use strict";this.$2.shouldPlayInstreamAd()&&(b("CSS").removeClass(this.$7,"_50m2"),(!this.$8.isBroadcast||this.$2.getCurrentInstreamPlacement()===b("InstreamPlacement").PRE_ROLL)&&this.$1.emit("commercialBreak/hideUFI"),this.$2.playInstreamAd())};a.prototype.$21=function(a){"use strict";a?(this.$17(),this.$25(),this.$4&&b("CSS").removeClass(this.$7,"_50m2")):this.$16()};a.prototype.$28=function(){"use strict";__p&&__p();if(this.$9)return;this.$9=!0;this.$5=new(b("SubscriptionsHandler"))();this.$5.addSubscriptions(this.$1.addListener("VideoChannelController/enterChannel",this.$31.bind(this)),b("Arbiter").subscribe("VideoChannelView/closed",this.$31.bind(this)),this.$1.addListener("TahoeController/exitTahoe",this.$31.bind(this)),this.$1.addListener("TahoeController/enterTahoe",this.$31.bind(this)),this.$1.addListener("toggleFullscreen",function(){this.$25(),this.$4&&this.$4.logEvent(this.$4.isFullscreen()?b("VideoPlayerLoggerEvent").ENTERED_FS:b("VideoPlayerLoggerEvent").EXITED_FS)}.bind(this)),this.$1.addListener("WatchAndScroll/positionUpdated",this.$25.bind(this)),this.$1.addListener("commercialBreak/scrollAway",function(){this.$4&&this.$4.isState(b("VideoPlayerStates").PLAYING)&&(this.$4.pause(b("VideoPlayerReason").AUTOPLAY),this.$1.once("commercialBreak/scrollInto",function(){this.$9&&this.$4&&this.$4.isState(b("VideoPlayerStates").PAUSED)&&this.$4.play(b("VideoPlayerReason").AUTOPLAY)}.bind(this)))}.bind(this)),this.$1.addListener("commercialBreak/scrollInto",function(){this.$9&&this.$4&&this.$4.isState(b("VideoPlayerStates").READY)&&this.$30()}.bind(this)),b("Event").listen(window,"focus",this.$32.bind(this)));this.$30()};a.prototype.$32=function(){"use strict";this.$14&&b("gkx")("AT66Z79NswpYFsO2HRr4G1bTG5VJVqTPW01ZncfhaP9KYk7xRjZpH31DhXmSLmHqwAl8I-jzWVNqbJuSv73dKTUSC2M6ufJ3-1EqUthLG94bOQ")&&this.$3.endCommercialBreakByCTAClick()};a.prototype.$31=function(){"use strict";this.$25(),this.$26()};a.prototype.$16=function(){"use strict";if(!this.$9)return;this.$4&&this.$4.isState(b("VideoPlayerStates").PLAYING)&&this.$4.pause(b("VideoPlayerReason").AUTOPLAY);this.$20()};a.prototype.$20=function(){"use strict";__p&&__p();this.$5&&this.$5.release();this.$9=!1;this.$10=!1;this.$11=!1;this.$12=0;this.$2.setCurrentInstreamVideoAdBreakVideoID(null);this.$14=!1;b("CSS").addClass(this.$7,"_50m2");this.$4&&this.$4.destroy();this.$4=null;while(this.$7.children.length>0)b("DOM").remove(this.$7.children[0])};e.exports=a}),null);
__d("InstreamNFXHideType",[],(function(a,b,c,d,e,f){e.exports={HIDE_AD:"HIDE_AD",HIDE_AD_BREAKS:"HIDE_AD_BREAKS"}}),null);
__d("StoryComponentVideoPlayerControllerRegistry",["CommercialBreakHostStoryComponentType","DOMQuery","EventEmitter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new(b("EventEmitter"))(),h=new Map(),i=new Map(),j=new Map();function k(a){a=a;var b=[];while(a)b.unshift(a),a=a.parentElement;return b}function l(a,b){__p&&__p();if(a===null)return null;var c=k(a);a=null;var d=null;b.forEach(function(b){var e=b[0];b=b[1];e=k(e);for(var f=0;f<c.length;++f)if(c[f]!==e[f]){(d===null||f>d)&&(d=f,a=b);break}});return a}a={registerVideoPlayerController:function(a,c){var d=a.getVideoID(),e=h.get(d);e?e.push(a):(e=[a],h.set(d,e));d=null;c===b("CommercialBreakHostStoryComponentType").POP_OVER_MENU?d=this.findPopoverAsyncMenuForVideoPlayerController(a):c===b("CommercialBreakHostStoryComponentType").HOST_STORY_HEADER&&(d=this.findHostStoryControllerForVideoPlayerController(a));if(!d)return;g.emit(d.getInstanceID()+"/register",a)},registerHostStoryController:function(a,b,c){var d=j.get(b);d?d.push(a):(d=[a],j.set(b,d));this.findVideoControllerForStoryController(a,b,c)},registerPopoverAsyncMenu:function(a,b){var c=b.host_video_id;if(!c)return;a=new m(a,b);b=a.getInstanceID();var d=i.get(c);d||(d=[],i.set(c,d));d.push(a);this._informStoryComponentRegister(a.getTriggerElem(),b,c,a.registerVideoPlayerController.bind(a))},_informStoryComponentRegister:function(a,b,c,d){g.addListener(b+"/register",d);d=this.findVideoPlayerControllerForElement(a,c);if(!d)return;g.emit(b+"/register",d)},findVideoPlayerControllerForElement:function(a,b){b=h.get(b);return!b?null:l(a,b.filter(function(a){return!a.isState("destroyed")&&!a.isState("fallback")}).map(function(a){return[a.getRootNode(),a]}))},findPopoverAsyncMenuForVideoPlayerController:function(a){var b=i.get(a.getVideoID());return!b?null:l(a.getRootNode(),b.map(function(a){return[a.getTriggerElem(),a]}))},findHostStoryControllerForVideoPlayerController:function(a){var c=j.get(a.getVideoID());if(!c)return null;for(var d=0;d<c.length;d++){var e=c[d];if(b("DOMQuery").contains(e.getContainerElement(),a.getRootNode()))return e}return null},findVideoControllerForStoryController:function(a,c,d){__p&&__p();g.addListener(a.getInstanceID()+"/register",d);d=h.get(c);if(!d)return;d=d.filter(function(a){return!a.isState("destroyed")&&!a.isState("fallback")});for(var c=0;c<d.length;c++){var e=d[c];if(b("DOMQuery").contains(a.getContainerElement(),e.getRootNode())){g.emit(a.getInstanceID()+"/register",e);return}}}};function m(a,b){this._menu=a,this._originalEndpoint=this._menu._endpoint,this._additionalData=b}m.prototype.registerVideoPlayerController=function(a){a.addListener("commercialBreak/updateOptionMenuURI",function(a){this._updateEndpoint(a)}.bind(this)),a.addListener("commercialBreak/recoverOptionMenuURI",function(){return this._updateEndpoint(this._originalEndpoint)}.bind(this))};m.prototype._updateEndpoint=function(a){var b=this._menu;b.setMenu(b._loadingMenu);b._setFocus(b._loadingMenu);b._endpoint=a;b._fetched&&(b._fetched=!1,b.fetchMenu())};m.prototype.getInstanceID=function(){return this._menu._instanceId.toString()};m.prototype.getTriggerElem=function(){return this._menu.getTriggerElem()};m.prototype.getOptionsButtonID=function(){return this._additionalData.options_button_id||""};e.exports=a}),null);
__d("CountdownTimer.react",["fbt","React"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;var i=1e3,j=3600,k=j*24*i;function l(a){if(a<10)return"0"+a;else return a.toString()}function m(a,b){var c=0;while(c<a.length&&b(a[c]))c+=1;return a.slice(c)}function n(a){a=m(a,function(a){return a===0});if(a.length===0)return"0";else{for(var b=1;b<a.length;b+=1)a[b]=l(a[b]);return a.join(":")}}var o={HUMAN:"human",DIGITAL:"digital"};d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1=function(){return Math.max(this.props.endTime-Date.now(),0)}.bind(this),this.$2=function(){var a=this.$1();this.setState({remainingTime:a});a<=0&&(clearInterval(this.interval),this.props.onComplete&&this.props.onComplete())}.bind(this),this.formatTime=function(a,b,c){if(this.props.format==o.DIGITAL)return n([a,b,c]);else if(this.props.format==o.HUMAN)return g._({"*":{"*":{"*":"{hours}h {mins}m {seconds}s"}}},[g._param("hours",a,[0]),g._param("mins",b,[0]),g._param("seconds",c,[0])]);else throw new Error("Unknown format: "+this.props.format)}.bind(this),this.state={remainingTime:this.$1()},b}a.prototype.componentDidMount=function(){"use strict";this.$2(),this.interval=setInterval(this.$2,i)};a.prototype.componentWillUnmount=function(){"use strict";clearInterval(this.interval)};a.prototype.render=function(){"use strict";__p&&__p();var a=this.state.remainingTime;if(a>=k){var c=Math.floor(a/k);return b("React").createElement("span",null,c===1?g._("1 day"):g._({"*":"{number} days"},[g._param("number",c,[0])]))}else{c=Math.ceil(a/i);a=Math.floor(c/j);c=new Date(c%j*i);var d=c.getUTCMinutes();c=c.getSeconds();return b("React").createElement("span",null,this.formatTime(a,d,c))}};a.propTypes={endTime:c.number.isRequired,format:c.oneOf([o.HUMAN,o.DIGITAL]).isRequired,onComplete:c.func};e.exports=a}),null);
__d("VideoCommercialBreakTransitionOverlay",["cx","fbt","CenteredContainer.react","CommercialBreakState","CountdownTimer.react","CSS","Image.react","InstreamPlacement","React","ReactDOM","SubscriptionsHandler","XUISpinner.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=300,j=300;function a(a){"use strict";this.$11=null,this.$12=null,this.$1=a.root,this.$2=a.body,this.$3=a.ownerName,this.$4=a.ownerPictureUri,this.$9=new(b("SubscriptionsHandler"))()}a.prototype.enable=function(a){"use strict";this.$6=a,this.$7=a.addListener("optionsChange",function(){return this.$13()}.bind(this)),this.$13()};a.prototype.disable=function(){"use strict";this.$7.remove()};a.prototype.$13=function(){"use strict";__p&&__p();this.$5=this.$6.getOption("VideoWithCommercialBreak","controller");if(!this.$5)return;var a=this.$6.getOption("VideoWithInstreamVideo","controller");if(!a)return;this.$8=a.getConfig();this.$7.remove();this.$9.engage();this.$9.addSubscriptions(this.$5.addListener("commercialBreak/stateChange",function(a){var b=a.state,c=a.countdownDurationMsecs;a=a.instreamPlacement;this.$14(b,c,a)}.bind(this)));this.$6.addListener("VideoChannelController/exitChannel",this.$15.bind(this));this.$6.addListener("stateChange",this.$15.bind(this))};a.prototype.$14=function(a,c,d){"use strict";__p&&__p();this.$10=a;switch(a){case b("CommercialBreakState").PREPARE:this.$16(d);break;case b("CommercialBreakState").ENTERING_TRANSITION:this.$17(d);break;case b("CommercialBreakState").PLAY_AD:this.$18(c,d);break;case b("CommercialBreakState").LEAVING_TRANSITION:this.$19(d);break;case b("CommercialBreakState").INIT:this.$20();break}this.$15(d)};a.prototype.$16=function(a){"use strict";a===b("InstreamPlacement").PRE_ROLL&&(b("CSS").addClass(this.$2,"_1p58"),b("ReactDOM").render(b("React").createElement(b("XUISpinner.react"),{className:"_179h",size:"large",background:"dark"}),this.$2));return};a.prototype.$17=function(a){"use strict";this.$8.isBroadcast&&a!==b("InstreamPlacement").PRE_ROLL?(this.$21(h._("will be back soon"),null),this.$6.emit("commercialBreak/hideUFI")):this.$22(a)};a.prototype.$22=function(a){"use strict";if(!this.$8.beginningNonLiveTransitionTimeMs)return;this.$23();var c=Math.max(i,this.$8.beginningNonLiveTransitionTimeMs-i);a===b("InstreamPlacement").PRE_ROLL&&b("ReactDOM").render(b("React").createElement(b("CenteredContainer.react"),{fullHeight:!0,horizontal:!0,vertical:!0},b("React").createElement(b("XUIText.react"),{size:"header3",color:"white",display:"block"},h._("Video will begin after an ad"))),this.$2);b("CSS").addClass(this.$2,"_hax");this.$11=setTimeout(function(){clearTimeout(this.$11),this.$5.emit("commercialBreak/inTransition",{shouldShowAd:!0}),b("CSS").addClass(this.$2,"_hay")}.bind(this),c)};a.prototype.$19=function(a){"use strict";this.$8.isLive&&a===b("InstreamPlacement").PRE_ROLL?this.$24():this.$8.isBroadcast?this.$21(h._("is returning now"),null):this.$25()};a.prototype.$24=function(){"use strict";if(!this.$8.endingNonLiveTransitionTimeMs)return;this.$23();b("CSS").addClass(this.$2,"_6h7-");this.$12=setTimeout(function(){clearTimeout(this.$12),this.$5.emit("commercialBreak/inTransition",{shouldShowAd:!1}),b("CSS").addClass(this.$2,"_hay")}.bind(this),j)};a.prototype.$25=function(){"use strict";if(!this.$8.endingNonLiveTransitionTimeMs)return;this.$23();b("CSS").addClass(this.$2,"_hax");this.$12=setTimeout(function(){clearTimeout(this.$12),this.$5.emit("commercialBreak/inTransition",{shouldShowAd:!1}),b("CSS").addClass(this.$2,"_hay")}.bind(this),j)};a.prototype.$23=function(){"use strict";b("CSS").removeClass(this.$2,"_hax"),b("CSS").removeClass(this.$2,"_6h7-"),b("CSS").removeClass(this.$2,"_hay"),b("CSS").removeClass(this.$2,"_1p58"),b("ReactDOM").unmountComponentAtNode(this.$2)};a.prototype.$18=function(a,c){"use strict";this.$8.isBroadcast&&c!==b("InstreamPlacement").PRE_ROLL&&(a?this.$21(h._("will return in"),a):this.$21(h._("will be back soon"),null)),c===b("InstreamPlacement").PRE_ROLL&&b("ReactDOM").unmountComponentAtNode(this.$2)};a.prototype.$21=function(a,c,d){"use strict";b("ReactDOM").unmountComponentAtNode(this.$2);d=null;c&&(d=b("React").createElement("div",{className:"_4fih"},b("React").createElement(b("CountdownTimer.react"),{endTime:Date.now()+c,format:"digital"})));b("ReactDOM").render(b("React").createElement("div",{className:"_3y74"},b("React").createElement("div",{className:"_2s3m"},this.$3),b("React").createElement(b("Image.react"),{src:this.$4,width:56,className:"_2s3l"}),b("React").createElement("div",null,b("React").createElement("div",{className:"_4fid"},a),d)),this.$2)};a.prototype.$20=function(){"use strict";b("ReactDOM").unmountComponentAtNode(this.$2),this.$6.emit("commercialBreak/showUFI"),clearTimeout(this.$11),clearTimeout(this.$12)};a.prototype.$26=function(){"use strict";return this.$6?this.$6.getVideoNodeNullable():null};a.prototype.$27=function(){"use strict";var a=this.$26();a&&(b("CSS").removeClass(a,"_1_d3"),b("CSS").removeClass(this.$1,"_2s3i"),b("CSS").removeClass(this.$1,"_bvi"),b("CSS").removeClass(this.$2,"_3j0w"));b("CSS").addClass(this.$1,"_4fii")};a.prototype.$28=function(a){"use strict";var c=this.$26();this.$8.isBroadcast&&a!==b("InstreamPlacement").PRE_ROLL&&c?(b("CSS").addClass(this.$1,"_2s3i"),b("CSS").addClass(c,"_1_d3")):(b("CSS").addClass(this.$2,"_3j0w"),b("CSS").addClass(this.$1,"_bvi"));b("CSS").removeClass(this.$1,"_4fii")};a.prototype.$15=function(a){"use strict";__p&&__p();switch(this.$10){case b("CommercialBreakState").PREPARE:a===b("InstreamPlacement").PRE_ROLL&&this.$28(a);break;case b("CommercialBreakState").ENTERING_TRANSITION:case b("CommercialBreakState").LEAVING_TRANSITION:this.$28(a);break;case b("CommercialBreakState").PLAY_AD:this.$8.isBroadcast&&a!==b("InstreamPlacement").PRE_ROLL?this.$28(a):this.$27();break;case b("CommercialBreakState").AD_REQUEST_SENT:break;default:this.$27()}};e.exports=a}),null);
__d("AdBreakToastEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FETCH_AD:"fetch_ad",FETCH_AD_SUCCEED:"fetch_ad_succeed",FETCH_AD_FAIL:"fetch_ad_fail",IMPRESSION_LOGGING:"impression_logging",VIEWER_TABLE_LOGGING:"viewer_table_logging"})}),null);
__d("PreRollStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INIT:"init",PLAYBACK_FINISHED:"playback_finished",FETCH_TIMEOUT:"fetch_timeout",FETCH_FAIL:"fetch_fail",FETCH_NOTHING:"fetch_nothing",SKIPPED:"skipped"})}),null);
__d("SkywalkerCommandType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INTENT:"intent",START:"start"})}),null);
__d("XInstreamVideoDemoStoryAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/instream_demo/view/story/async/",{instream_video_type:{type:"Enum",required:!0,enumType:1},instream_video_break_index:{type:"Int",required:!0},show_short_ad:{type:"Bool",defaultValue:!1},instream_placement:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XInstreamVideoSponsoredStoryAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/instream_video/view/story/async/",{host_video_id:{type:"FBID",required:!0},instream_video_type:{type:"Enum",required:!0,enumType:1},instream_video_break_index:{type:"Int",required:!0},player_origin:{type:"String"},player_sub_origin:{type:"String"},script_path:{type:"String"},video_channel_caller:{type:"Enum",enumType:1},is_sponsored_host_video:{type:"Bool",defaultValue:!1},referrer:{type:"String"},option_menu_button_id:{type:"String"},host_video_stall_count:{type:"Int"},ad_break_duration_ms:{type:"Int"},player_format:{type:"String"},instream_placement:{type:"Enum",required:!0,enumType:1},story_identifier:{type:"String"}})}),null);
__d("isVideoAutoplayAllowed",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Blob([],{type:"video/mp4"});function a(a){var b=document.createElement("video"),c=URL.createObjectURL(g);b.src=c;var d=function(){b.removeAttribute("src"),URL.revokeObjectURL(c)},e=b.play();e!==undefined?e.then(function(){return a(!0)})["catch"](function(b){b.name==="NotAllowedError"?a(!1):a(!0)})["finally"](function(){return d()}):(d(),a(!0))}e.exports=a}),null);
__d("VideoWithCommercialBreak",["cx","invariant","AdBreakToastEvent","Arbiter","AsyncRequest","BanzaiODS","Base64","CommercialBreakExperiments","CommercialBreakHostStoryComponentType","CommercialBreakMobileEvent","CommercialBreakState","CommercialBreakUtil","CSS","DataStore","DateConsts","EntstreamFeedObjectFollowup","EventEmitter","InstreamNFXHideType","InstreamPlacement","PreRollStatus","QE2Logger","ScriptPath","SkywalkerCommandType","StoryComponentVideoPlayerControllerRegistry","SubscriptionsHandler","VideoPlayerLoggerSource","VideoPlayerOrigins","VideoPlayerReason","VideoPlayerStates","ViewportTrackingHelper","Visibility","XInstreamVideoDemoStoryAsyncController","XInstreamVideoSponsoredStoryAsyncController","ghlTestUBT","gkx","isVideoAutoplayAllowed","uniqueID"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=Object.freeze({SHORT_AD_COUNTDOWN_MS:3e3}),k=Object.freeze({NONE:"none",PLAYBACK_FINISHED:"playback_finished",CUT_OFF:"cut_off",HIDE_AD:"hide_ad",HIDE_AD_BREAKS:"hide_ad_breaks",CALL_TO_ACTION_BUTTON_CLICKS:"call_to_action_button_clicks"}),l=Object.freeze({NORMAL:"normal",STALL_STREAM:"stall_stream",STREAM_DRY_OUT:"stream_dry_out"});c=babelHelpers.inherits(a,b("EventEmitter"));i=c&&c.prototype;function a(a){"use strict";i.constructor.call(this),this.$VideoWithCommercialBreak5=b("CommercialBreakState").INIT,this.$VideoWithCommercialBreak10=new(b("SubscriptionsHandler"))(),this.$VideoWithCommercialBreak11=null,this.$VideoWithCommercialBreak17=!1,this.$VideoWithCommercialBreak20=0,this.$VideoWithCommercialBreak16=null,this.$VideoWithCommercialBreak24=b("uniqueID")(),this.$VideoWithCommercialBreak26=-1,this.$VideoWithCommercialBreak14=!1,this.$VideoWithCommercialBreak28=a.preRollAdBreak,this.$VideoWithCommercialBreak29=a.preRollConfig,this.$VideoWithCommercialBreak30=null,this.$VideoWithCommercialBreak29&&this.$VideoWithCommercialBreak29.preRollEnabled&&(this.$VideoWithCommercialBreak30=b("PreRollStatus").INIT),b("ghlTestUBT")(function(a){this.$VideoWithCommercialBreak19=a}.bind(this))}a.prototype.enable=function(a){"use strict";this.$VideoWithCommercialBreak1=a,this.$VideoWithCommercialBreak2=a.addListener("optionsChange",function(){return this.$VideoWithCommercialBreak32()}.bind(this)),this.$VideoWithCommercialBreak31=b("Arbiter").subscribe("commercialBreak/start",this.$VideoWithCommercialBreak33.bind(this)),this.$VideoWithCommercialBreak32()};a.prototype.disable=function(){"use strict";this.$VideoWithCommercialBreak2.remove(),this.$VideoWithCommercialBreak1.unregisterOption("VideoWithCommercialBreak","enabled"),this.$VideoWithCommercialBreak1.unregisterOption("VideoWithCommercialBreak","controller"),this.$VideoWithCommercialBreak1.unregisterOption("VideoWithCommercialBreak","isInstreamPausedByNFX"),this.$VideoWithCommercialBreak31&&this.$VideoWithCommercialBreak31.unsubscribe(),this.$VideoWithCommercialBreak30=null};a.prototype.shouldPlayPreRollAds=function(a){"use strict";__p&&__p();if(a!==b("VideoPlayerReason").USER)return!1;a=this.$VideoWithCommercialBreak29;if(!a)return!1;if(!this.$VideoWithCommercialBreak28)return!1;if(!this.$VideoWithCommercialBreak34())return!1;b("QE2Logger").logExposureForUser(a.preRollQEName);if(!this.$VideoWithCommercialBreak30)return!1;if(this.$VideoWithCommercialBreak30!=b("PreRollStatus").INIT)return!1;var c=this.$VideoWithCommercialBreak1,d=c.getPlayerOrigin();c=b("CommercialBreakUtil").getVideoPlayerSubOrigin(c);var e=a.videoHomeWatchlistEnabled&&d===b("VideoPlayerOrigins").VIDEO_HOME&&c==="watchlist",f=a.serpEnabled&&d===b("VideoPlayerOrigins").SEARCH,g=a.pageTabHomeEnabled&&d===b("VideoPlayerOrigins").PAGE_TIMELINE&&c==="page_tab_home",h=a.pageTabEpisodeEnabled&&d===b("VideoPlayerOrigins").PAGE_TIMELINE&&c==="page_tab_episodes",i=a.gamingStreamerHubEnabled&&d===b("VideoPlayerOrigins").GAMES_VIDEO_HUB&&c==="gaming_video_destination_streamer_hub",j=a.permalinkTahoeEnabled&&d===b("VideoPlayerOrigins").PERMALINK&&c==="tahoe";d=a.notificationsTahoeEnabled&&d===b("VideoPlayerOrigins").NOTIFICATIONS&&c==="tahoe";if(e||f||g||h||i||j||d){if(b("gkx")("AT5fkgqE-RJq_6TRJYrMbasVENaJaATn1LgqC6AwDplo5S--Di5AcRZbxXENuw0vn8Yvk6k-2h9nHTmJrSJc73WtJFHxZ6dv9sMFK6JKVHqegICzL41nzju5NhpE1nihrU4"))return!0;c=this.$VideoWithCommercialBreak4.startTimestampSec*b("DateConsts").MS_PER_SEC;e=this.$VideoWithCommercialBreak4.videoPlayableDurationInMs;if(c&&e){f=e-c;if(c>a.maxVideoPlaybackTimeMs){this.$VideoWithCommercialBreak9.logMarauderEvent(b("CommercialBreakMobileEvent").COMMERCIAL_BREAK_PRE_ROLL_BLOCKED_BY_RESUME_TIME,{video_resume_time_in_ms:c,video_play_time_left_in_ms:f});return!1}else if(f>a.minVideoTimeLeftMs){this.$VideoWithCommercialBreak9.logMarauderEvent(b("CommercialBreakMobileEvent").COMMERCIAL_BREAK_PRE_ROLL_BLOCKED_BY_REMAINING_TIME,{video_resume_time_in_ms:c,video_play_time_left_in_ms:f});return!1}}return!0}return!1};a.prototype.schedulePreRollAds=function(){"use strict";var a=this.$VideoWithCommercialBreak28;a||h(0,undefined);this.onIntentCommand(a.getIndex(),a.getInstreamPlacement(),a.getAdBreakDurationInMs())};a.prototype.$VideoWithCommercialBreak35=function(){"use strict";var a=this.$VideoWithCommercialBreak1,c=a.getPlayerOrigin();a=b("CommercialBreakUtil").getVideoPlayerSubOrigin(a);if(c===b("VideoPlayerOrigins").GAMES_VIDEO_HUB&&a==="gaming_video_destination_streamer_hub"||c===b("VideoPlayerOrigins").PERMALINK&&a==="tahoe")return!0;else return!1};a.prototype.$VideoWithCommercialBreak34=function(){"use strict";var a=this.$VideoWithCommercialBreak1,c=a.getPlayerOrigin();a=b("CommercialBreakUtil").getVideoPlayerSubOrigin(a);return c===b("VideoPlayerOrigins").VIDEO_HOME&&a==="watchlist"||c===b("VideoPlayerOrigins").PAGE_TIMELINE&&a==="page_tab_home"||c===b("VideoPlayerOrigins").PAGE_TIMELINE&&a==="page_tab_episodes"||c===b("VideoPlayerOrigins").SEARCH||c===b("VideoPlayerOrigins").GAMES_VIDEO_HUB&&a==="gaming_video_destination_streamer_hub"||c===b("VideoPlayerOrigins").PERMALINK&&a==="tahoe"||c===b("VideoPlayerOrigins").NOTIFICATIONS&&a==="tahoe"?!0:!1};a.prototype.$VideoWithCommercialBreak32=function(){"use strict";__p&&__p();this.$VideoWithCommercialBreak9=this.$VideoWithCommercialBreak1.getOption("VideoWithInstreamVideo","controller");if(!this.$VideoWithCommercialBreak9)return;this.$VideoWithCommercialBreak2.remove();this.$VideoWithCommercialBreak4=this.$VideoWithCommercialBreak9.getConfig();this.$VideoWithCommercialBreak4.isComposerPreviewing||(b("CommercialBreakExperiments").instreamAdsNFXOnContextCard&&b("StoryComponentVideoPlayerControllerRegistry").registerVideoPlayerController(this.$VideoWithCommercialBreak1,b("CommercialBreakHostStoryComponentType").POP_OVER_MENU),b("CommercialBreakExperiments").instreamAdsEnableGreyHostStory&&b("StoryComponentVideoPlayerControllerRegistry").registerVideoPlayerController(this.$VideoWithCommercialBreak1,b("CommercialBreakHostStoryComponentType").HOST_STORY_HEADER));this.reset();this.$VideoWithCommercialBreak1.registerOption("VideoWithCommercialBreak","enabled",function(){return!0});this.$VideoWithCommercialBreak1.registerOption("VideoWithCommercialBreak","controller",function(){return this}.bind(this));this.$VideoWithCommercialBreak1.registerOption("VideoWithCommercialBreak","isInstreamPausedByNFX",this.$VideoWithCommercialBreak36.bind(this))};a.prototype.$VideoWithCommercialBreak37=function(){"use strict";return this.$VideoWithCommercialBreak4.isLive&&this.$VideoWithCommercialBreak21==="false"&&this.$VideoWithCommercialBreak11===null&&this.$VideoWithCommercialBreak9.getCurrentInstreamPlacement()===b("InstreamPlacement").MID_ROLL};a.prototype.$VideoWithCommercialBreak38=function(a,c){__p&&__p();c===void 0&&(c={});if(a===this.$VideoWithCommercialBreak5)return;if(a===b("CommercialBreakState").ENTERING_TRANSITION&&this.$VideoWithCommercialBreak37()){this.reset();return}c.state=a;Object.prototype.hasOwnProperty.call(c,"instreamPlacement")||(c.instreamPlacement=this.$VideoWithCommercialBreak9.getCurrentInstreamPlacement());a===b("CommercialBreakState").INIT?(this.$VideoWithCommercialBreak9.resetInstreamVideo(),this.$VideoWithCommercialBreak10.release(),this.$VideoWithCommercialBreak10.engage(),this.$VideoWithCommercialBreak11=null,this.$VideoWithCommercialBreak22=null,this.$VideoWithCommercialBreak23=null,this.$VideoWithCommercialBreak25=null,this.$VideoWithCommercialBreak26=-1):(a===b("CommercialBreakState").ENTERING_TRANSITION||a===b("CommercialBreakState").PLAY_AD||a===b("CommercialBreakState").LEAVING_TRANSITION)&&this.$VideoWithCommercialBreak9.registerInstreamVideo(null);this.$VideoWithCommercialBreak5=a;this.emit("commercialBreak/stateChange",c)};a.prototype.setStoryIdentifier=function(a){"use strict";this.$VideoWithCommercialBreak27=a};a.prototype.getChevronButtonID=function(){"use strict";return this.$VideoWithCommercialBreak24};a.prototype.getInstreamVideoOptionMenuURI=function(){"use strict";return this.$VideoWithCommercialBreak16};a.prototype.getIsCommercialBreakOngoing=function(){"use strict";return this.$VideoWithCommercialBreak5===b("CommercialBreakState").ENTERING_TRANSITION&&this.$VideoWithCommercialBreak4.isBroadcast||this.$VideoWithCommercialBreak5===b("CommercialBreakState").PLAY_AD||this.$VideoWithCommercialBreak5===b("CommercialBreakState").LEAVING_TRANSITION};a.prototype.getIsDuringTransition=function(){"use strict";return this.$VideoWithCommercialBreak5===b("CommercialBreakState").ENTERING_TRANSITION||this.$VideoWithCommercialBreak5===b("CommercialBreakState").LEAVING_TRANSITION};a.prototype.reset=function(){"use strict";this.$VideoWithCommercialBreak38(b("CommercialBreakState").INIT),this.$VideoWithCommercialBreak6=0,this.$VideoWithCommercialBreak20=0,this.$VideoWithCommercialBreak7=-1,this.$VideoWithCommercialBreak8=-1,this.$VideoWithCommercialBreak15=null,this.$VideoWithCommercialBreak17=!1,this.$VideoWithCommercialBreak9.setCurrentInstreamVideoAdBreakIndex(null),this.$VideoWithCommercialBreak9.setCurrentInstreamVideoAdBreakVideoID(null),this.$VideoWithCommercialBreak9.setCurrentInstreamPlacement(null),this.$VideoWithCommercialBreak16=null};a.prototype.logAndEndCommercialBreak=function(a){"use strict";this.$VideoWithCommercialBreak15=a||null,this.$VideoWithCommercialBreak39(),this.reset()};a.prototype.endCommercialBreakByCTAClick=function(){"use strict";this.logAndEndCommercialBreak(k.CALL_TO_ACTION_BUTTON_CLICKS)};a.prototype.setIsDuplicateLiveVideo=function(a){"use strict";this.$VideoWithCommercialBreak14=a};a.prototype.getIsDuplicateLiveVideo=function(){"use strict";return this.$VideoWithCommercialBreak14};a.prototype.onIntentCommand=function(a,c,d){"use strict";__p&&__p();if(this.$VideoWithCommercialBreak5!==b("CommercialBreakState").INIT&&this.$VideoWithCommercialBreak5!==b("CommercialBreakState").PREPARE&&this.$VideoWithCommercialBreak5!==b("CommercialBreakState").AD_REQUEST_SENT)return;this.$VideoWithCommercialBreak38(b("CommercialBreakState").INIT);this.$VideoWithCommercialBreak38(b("CommercialBreakState").PREPARE,{instreamPlacement:c});this.$VideoWithCommercialBreak9.setCurrentInstreamVideoAdBreakIndex(a);this.$VideoWithCommercialBreak9.setCurrentInstreamPlacement(c);var e=this.$VideoWithCommercialBreak40(a,c,d);if(!e)return;var f=null;if(c===b("InstreamPlacement").PRE_ROLL){a=this.$VideoWithCommercialBreak29;a||h(0,undefined);f=a.maxFetchTimeMs}c===b("InstreamPlacement").PRE_ROLL&&this.$VideoWithCommercialBreak35()?b("isVideoAutoplayAllowed")(function(a){a?(this.$VideoWithCommercialBreak41(e,f),this.$VideoWithCommercialBreak38(b("CommercialBreakState").AD_REQUEST_SENT)):this.reset()}.bind(this)):(this.$VideoWithCommercialBreak41(e,f),this.$VideoWithCommercialBreak38(b("CommercialBreakState").AD_REQUEST_SENT))};a.prototype.onLiveIntentCommand=function(a){"use strict";__p&&__p();var c=a.commercial_break_length_ms?parseInt(a.commercial_break_length_ms,10):null,d=Object.prototype.hasOwnProperty.call(a,"index")?parseInt(a.index,10):0;if(a.type===b("SkywalkerCommandType").INTENT){this.$VideoWithCommercialBreak9.logMarauderEvent(b("CommercialBreakMobileEvent").RECEIVE_INTENT_MSG,{topic:this.$VideoWithCommercialBreak4.skywalkerTopic,commercial_break_length_ms:c,ad_break_index:d});a=a.lastScrollAwayTime;if(a&&a>0&&Date.now()-a>this.$VideoWithCommercialBreak4.maxDurationHostVideoOffscreenToFetchMs)return}if(this.$VideoWithCommercialBreak5!==b("CommercialBreakState").INIT&&this.$VideoWithCommercialBreak5!==b("CommercialBreakState").PREPARE&&this.$VideoWithCommercialBreak5!==b("CommercialBreakState").AD_REQUEST_SENT)return;this.$VideoWithCommercialBreak38(b("CommercialBreakState").INIT);this.$VideoWithCommercialBreak38(b("CommercialBreakState").PREPARE);this.$VideoWithCommercialBreak9.setCurrentInstreamVideoAdBreakIndex(d);this.$VideoWithCommercialBreak9.setCurrentInstreamPlacement(b("InstreamPlacement").MID_ROLL);c&&(this.$VideoWithCommercialBreak6=c);if(this.$VideoWithCommercialBreak14)return;a=this.$VideoWithCommercialBreak40(d,b("InstreamPlacement").MID_ROLL,c);if(!a)return;this.$VideoWithCommercialBreak41(a);this.$VideoWithCommercialBreak38(b("CommercialBreakState").AD_REQUEST_SENT)};a.prototype.$VideoWithCommercialBreak42=function(){"use strict";return b("CommercialBreakUtil").getVideoPlayerFormat(this.$VideoWithCommercialBreak1)};a.prototype.$VideoWithCommercialBreak40=function(a,c,d){"use strict";var e=this.$VideoWithCommercialBreak9.getCurrentInstreamVideoAdType();if(!e||!this.$VideoWithCommercialBreak4.hostVideoID&&!this.$VideoWithCommercialBreak4.shouldShowDemoAd){b("BanzaiODS").bumpEntityKey("instreamads","missing_query_params");return null}var f=this.$VideoWithCommercialBreak1.getSource()===b("VideoPlayerLoggerSource").PERMALINK?document.referrer:null;return{host_video_id:this.$VideoWithCommercialBreak4.hostVideoID,instream_video_type:e,instream_video_break_index:a,player_origin:this.$VideoWithCommercialBreak1.getPlayerOrigin(),script_path:b("ScriptPath").getScriptPath(),player_sub_origin:b("CommercialBreakUtil").getVideoPlayerSubOrigin(this.$VideoWithCommercialBreak1),is_sponsored_host_video:this.$VideoWithCommercialBreak4.isSponsored,video_channel_caller:this.$VideoWithCommercialBreak4.videoChannelCaller,host_video_stall_count:this.$VideoWithCommercialBreak1.getStallCount(),ad_break_duration_ms:d,referrer:f,option_menu_button_id:b("CommercialBreakExperiments").instreamAdsNFXOnContextCard?this.getChevronButtonID():"",should_show_demo_ad:this.$VideoWithCommercialBreak4.shouldShowDemoAd,should_show_short_demo_ad:this.$VideoWithCommercialBreak4.shouldShowShortDemoAd,player_format:this.$VideoWithCommercialBreak42(),instream_placement:c,story_identifier:this.$VideoWithCommercialBreak27?b("Base64").encode(this.$VideoWithCommercialBreak27):null}};a.prototype.$VideoWithCommercialBreak41=function(a,c){"use strict";__p&&__p();var d=null;if(a.should_show_demo_ad){var e=b("XInstreamVideoDemoStoryAsyncController").getURIBuilder().setEnum("instream_video_type",a.instream_video_type).setInt("instream_video_break_index",a.instream_video_break_index).setBool("show_short_ad",a.should_show_short_demo_ad).setEnum("instream_placement",a.instream_placement);d=new(b("AsyncRequest"))(e.getURI()).setMethod("GET").setReadOnly(!0).setHandler(function(a){this.$VideoWithCommercialBreak43(a.getPayload())}.bind(this)).setErrorHandler(this.$VideoWithCommercialBreak44.bind(this))}else if(b("CommercialBreakExperiments").instreamAdsFetchFromFeedEndpoint&&this.$VideoWithCommercialBreak19){e="/ajax/pagelet/generic.php/LitestandTailLoadPagelet";d=new(b("AsyncRequest"))(e).setMethod("GET").setReadOnly(!0).setData({data:b("Base64").encode(JSON.stringify(a))}).setHandler(this.$VideoWithCommercialBreak45.bind(this)).setErrorHandler(this.$VideoWithCommercialBreak44.bind(this))}else{e=b("XInstreamVideoSponsoredStoryAsyncController").getURIBuilder().setFBID("host_video_id",a.host_video_id).setEnum("instream_video_type",a.instream_video_type).setInt("instream_video_break_index",a.instream_video_break_index).setEnum("video_channel_caller",a.video_channel_caller).setBool("is_sponsored_host_video",a.is_sponsored_host_video).setInt("host_video_stall_count",a.host_video_stall_count).setInt("ad_break_duration_ms",a.ad_break_duration_ms).setString("player_origin",a.player_origin).setString("player_sub_origin",a.player_sub_origin).setString("script_path",a.script_path).setString("referrer",a.referrer).setString("option_menu_button_id",a.option_menu_button_id).setString("player_format",a.player_format).setEnum("instream_placement",a.instream_placement).setString("story_identifier",a.story_identifier);d=new(b("AsyncRequest"))(e.getURI()).setMethod("GET").setReadOnly(!0).setHandler(function(a){this.$VideoWithCommercialBreak43(a.getPayload())}.bind(this)).setErrorHandler(this.$VideoWithCommercialBreak44.bind(this))}c&&(d&&d.setTimeoutHandler(c,this.$VideoWithCommercialBreak46.bind(this)));d&&d.send();this.$VideoWithCommercialBreak1.emit("commercialBreak/toast",b("AdBreakToastEvent").FETCH_AD);this.$VideoWithCommercialBreak26=Date.now()};a.prototype.$VideoWithCommercialBreak45=function(a){"use strict";this.$VideoWithCommercialBreak43(JSON.parse(b("Base64").decode(a.getPayload())))};a.prototype.$VideoWithCommercialBreak46=function(a){"use strict";this.$VideoWithCommercialBreak9.getCurrentInstreamPlacement()===b("InstreamPlacement").PRE_ROLL&&(this.$VideoWithCommercialBreak47(b("PreRollStatus").FETCH_TIMEOUT),this.$VideoWithCommercialBreak9.logMarauderEvent(b("CommercialBreakMobileEvent").COMMERCIAL_BREAK_PRE_ROLL_FETCH_SUCCESS_LATE),this.reset());return};a.prototype.$VideoWithCommercialBreak44=function(){"use strict";b("ghlTestUBT")(function(a){this.$VideoWithCommercialBreak9.logMarauderEvent(b("CommercialBreakMobileEvent").VIDEO_FETCH_FAILURE,{is_ad_block_enabled:a})}.bind(this)),this.$VideoWithCommercialBreak9.getCurrentInstreamPlacement()===b("InstreamPlacement").PRE_ROLL&&(this.$VideoWithCommercialBreak47(b("PreRollStatus").FETCH_FAIL),this.reset()),this.$VideoWithCommercialBreak1.emit("commercialBreak/toast",b("AdBreakToastEvent").FETCH_AD_FAIL)};a.prototype.$VideoWithCommercialBreak43=function(a){"use strict";__p&&__p();if(!this.$VideoWithCommercialBreak4.isBroadcast&&this.$VideoWithCommercialBreak5===b("CommercialBreakState").ENTERING_TRANSITION)return;if(this.$VideoWithCommercialBreak5!==b("CommercialBreakState").AD_REQUEST_SENT&&this.$VideoWithCommercialBreak5!==b("CommercialBreakState").CB_SCHEDULED&&this.$VideoWithCommercialBreak5!==b("CommercialBreakState").ENTERING_TRANSITION)return;var c=a.isEmpty,d=a.instreamVideoAdBreakIndex,e=a.instreamVideoAdType,f=a.instreamPlacement,g=a.videoAdStory,i=a.instreamVideoAdBreakVideoID,j=a.instreamVideoOptionMenuURI;if(g){this.$VideoWithCommercialBreak9.logMarauderEvent(b("CommercialBreakMobileEvent").VIDEO_FETCH_SUCCESS,{is_empty:c,commercial_break_ad_client_token:a.instreamVideoAdBreakClientToken,client_side_ads_query_consumed_time_in_ms:this.$VideoWithCommercialBreak26>0?Date.now()-this.$VideoWithCommercialBreak26:null});var k=this.$VideoWithCommercialBreak9.getCurrentInstreamVideoAdType(),l=this.$VideoWithCommercialBreak9.getCurrentInstreamPlacement();e===k&&f===l||h(0,undefined);this.$VideoWithCommercialBreak11=c?null:d;e=c?null:i;this.$VideoWithCommercialBreak22=a.callToAction;this.$VideoWithCommercialBreak23=a.contextCardTrackingWrapper;this.$VideoWithCommercialBreak25=a.infoCardNuxID;this.emit("commercialBreak/videoAdStoryFetched",g,c,d,e,a.instreamVideoAdBreakClientToken);c||this.emit("commercialBreak/runFraudDetector",a.instreamAdImpressionIdentifier);this.$VideoWithCommercialBreak1.emit("commercialBreak/toast",b("AdBreakToastEvent").FETCH_AD_SUCCEED,{isEmpty:c,disabledReason:a.disabledReason});b("CommercialBreakExperiments").instreamAdsNFXOnContextCard&&!c&&(this.$VideoWithCommercialBreak16=j);l===b("InstreamPlacement").PRE_ROLL&&(!c?this.$VideoWithCommercialBreak48(d,f):(this.$VideoWithCommercialBreak47(b("PreRollStatus").FETCH_NOTHING),this.$VideoWithCommercialBreak9.logMarauderEvent(b("CommercialBreakMobileEvent").COMMERCIAL_BREAK_START_SHOW_NOTHING,{instream_placement:b("InstreamPlacement").PRE_ROLL}),this.reset()))}else this.$VideoWithCommercialBreak9.logMarauderEvent(b("CommercialBreakMobileEvent").VIDEO_FETCH_FAILURE)};a.prototype.$VideoWithCommercialBreak48=function(a,c){"use strict";if(b("Visibility").isHidden()){this.$VideoWithCommercialBreak47(b("PreRollStatus").SKIPPED);this.reset();return}this.onStartCommand(a,c,0)};a.prototype.$VideoWithCommercialBreak47=function(a){"use strict";this.$VideoWithCommercialBreak30=a;a=this.$VideoWithCommercialBreak1;if(!a.isState("destroyed")&&!a.isState("fallback")){var c=b("ViewportTrackingHelper").isVisible(a.getRootNode(),0);c&&a.play(b("VideoPlayerReason").USER)}};a.prototype.getCallToAction=function(){"use strict";return this.$VideoWithCommercialBreak22};a.prototype.getContextCardTrackingWrapper=function(){"use strict";return this.$VideoWithCommercialBreak23};a.prototype.getInfoCardNuxID=function(){"use strict";return this.$VideoWithCommercialBreak25};a.prototype.onStartCommand=function(a,c,d){"use strict";__p&&__p();this.$VideoWithCommercialBreak7=d;if(this.$VideoWithCommercialBreak5!==b("CommercialBreakState").INIT&&this.$VideoWithCommercialBreak5!==b("CommercialBreakState").PREPARE&&this.$VideoWithCommercialBreak5!==b("CommercialBreakState").AD_REQUEST_SENT)return;this.$VideoWithCommercialBreak9.setCurrentInstreamVideoAdBreakIndex(a);this.$VideoWithCommercialBreak9.setCurrentInstreamPlacement(c);this.$VideoWithCommercialBreak5===b("CommercialBreakState").INIT&&this.onIntentCommand(a,c,this.$VideoWithCommercialBreak4.commercialBreakLengthMs);this.$VideoWithCommercialBreak38(b("CommercialBreakState").CB_SCHEDULED);this.$VideoWithCommercialBreak3=this.$VideoWithCommercialBreak1.addListener("updateStatus",function(){return this.$VideoWithCommercialBreak49()}.bind(this));this.$VideoWithCommercialBreak49();b("gkx")("AT4fxT_P9fBfxsu2MfXCu6IPEPwOIRtBY5TV1399nFWMSIErLDgCmHlzYDNAKYlnGOtOMP7mP_aoMPX0Fj3hraJg")&&b("Arbiter").inform("commercialBreak/start",this)};a.prototype.onLiveStartCommand=function(a){"use strict";__p&&__p();var c=parseInt(a.commercial_break_start_time_ms,10);this.$VideoWithCommercialBreak7=c;var d=this.$VideoWithCommercialBreak50();this.$VideoWithCommercialBreak8=d;this.$VideoWithCommercialBreak21=Object.prototype.hasOwnProperty.call(a,"commercial_break_drop_live_stream")?a.commercial_break_drop_live_stream:null;var e=Object.prototype.hasOwnProperty.call(a,"index")?parseInt(a.index,10):0;this.$VideoWithCommercialBreak9.logMarauderEvent(b("CommercialBreakMobileEvent").RECEIVE_START_MSG,{topic:this.$VideoWithCommercialBreak4.skywalkerTopic,commercial_break_start_time_ms:c,ad_break_index:e});if(c<d-this.$VideoWithCommercialBreak4.allowedStartTimeDeltaMs){this.$VideoWithCommercialBreak5!==b("CommercialBreakState").INIT&&b("BanzaiODS").bumpEntityKey("instreamads","receive_start_after_break");return}if(this.$VideoWithCommercialBreak5!==b("CommercialBreakState").INIT&&this.$VideoWithCommercialBreak5!==b("CommercialBreakState").PREPARE&&this.$VideoWithCommercialBreak5!==b("CommercialBreakState").AD_REQUEST_SENT)return;this.$VideoWithCommercialBreak9.setCurrentInstreamVideoAdBreakIndex(e);this.$VideoWithCommercialBreak9.setCurrentInstreamPlacement(b("InstreamPlacement").MID_ROLL);if(this.$VideoWithCommercialBreak5===b("CommercialBreakState").INIT){c=a.commercial_break_length_ms?parseInt(a.commercial_break_length_ms,10):null;this.$VideoWithCommercialBreak6=c?c:this.$VideoWithCommercialBreak4.commercialBreakLengthMs;this.onLiveIntentCommand(a)}this.$VideoWithCommercialBreak38(b("CommercialBreakState").CB_SCHEDULED);this.$VideoWithCommercialBreak10.addSubscriptions(this.$VideoWithCommercialBreak1.addListener("streamInterrupted",this.$VideoWithCommercialBreak49.bind(this,!0)));this.$VideoWithCommercialBreak3=this.$VideoWithCommercialBreak1.addListener("updateStatus",function(){return this.$VideoWithCommercialBreak49()}.bind(this));this.$VideoWithCommercialBreak49()};a.prototype.$VideoWithCommercialBreak49=function(a){__p&&__p();a===void 0&&(a=!1);if(this.$VideoWithCommercialBreak5!==b("CommercialBreakState").CB_SCHEDULED){this.$VideoWithCommercialBreak3.remove();return}var c=this.$VideoWithCommercialBreak50(),d=this.$VideoWithCommercialBreak7-c,e=d>0&&d<=this.$VideoWithCommercialBreak4.startFromStreamDryDeltaMs&&this.$VideoWithCommercialBreak1.isBuffering()&&this.$VideoWithCommercialBreak1.isState(b("VideoPlayerStates").PLAYING);if(!this.$VideoWithCommercialBreak4.isLive||this.$VideoWithCommercialBreak9.getCurrentInstreamPlacement()===b("InstreamPlacement").PRE_ROLL||Math.abs(d)<=this.$VideoWithCommercialBreak4.allowedStartTimeDeltaMs||e||a){this.$VideoWithCommercialBreak3.remove();var f=l.NORMAL;e?f=l.STALL_STREAM:a&&(f=l.STREAM_DRY_OUT);e=this.$VideoWithCommercialBreak7-this.$VideoWithCommercialBreak8;this.$VideoWithCommercialBreak9.logMarauderEvent(b("CommercialBreakMobileEvent").COMMERCIAL_BREAK_START,{timestamp_delta_ms:parseInt(d,10),timestamp_latency_ms:parseInt(e,10),playback_trigger_event:f,viewer_count:this.$VideoWithCommercialBreak51()});this.$VideoWithCommercialBreak38(b("CommercialBreakState").ENTERING_TRANSITION);this.$VideoWithCommercialBreak9.logMarauderEvent(b("CommercialBreakMobileEvent").COMMERCIAL_BREAK_TRANSIT);a=this.$VideoWithCommercialBreak4.isBroadcast?this.$VideoWithCommercialBreak4.beginningTransitionTimeMs:this.$VideoWithCommercialBreak4.beginningNonLiveTransitionTimeMs;setTimeout(this.$VideoWithCommercialBreak52.bind(this),a)}else c>this.$VideoWithCommercialBreak7&&(this.$VideoWithCommercialBreak3.remove(),this.reset())};a.prototype.$VideoWithCommercialBreak52=function(){"use strict";__p&&__p();if(this.$VideoWithCommercialBreak5!==b("CommercialBreakState").CB_SCHEDULED&&this.$VideoWithCommercialBreak5!==b("CommercialBreakState").ENTERING_TRANSITION&&this.$VideoWithCommercialBreak5!==b("CommercialBreakState").PLAY_AD)return;if(!this.$VideoWithCommercialBreak4.isLive||this.$VideoWithCommercialBreak9.getCurrentInstreamPlacement()===b("InstreamPlacement").PRE_ROLL){this.$VideoWithCommercialBreak38(b("CommercialBreakState").PLAY_AD,{countdownDurationMsecs:0});return}if(this.$VideoWithCommercialBreak21==="false"){this.$VideoWithCommercialBreak38(b("CommercialBreakState").PLAY_AD,{countdownDurationMsecs:0});return}var a=this.$VideoWithCommercialBreak6-this.$VideoWithCommercialBreak4.beginningTransitionTimeMs,c=a-this.$VideoWithCommercialBreak4.endingTransitionTimeMs;this.$VideoWithCommercialBreak20=c;this.$VideoWithCommercialBreak38(b("CommercialBreakState").PLAY_AD,{countdownDurationMsecs:this.$VideoWithCommercialBreak4.isLive?c:0});this.$VideoWithCommercialBreak12=!0;setTimeout(function(){this.$VideoWithCommercialBreak12=!1}.bind(this),c-j.SHORT_AD_COUNTDOWN_MS);setTimeout(this.$VideoWithCommercialBreak53.bind(this),c);this.$VideoWithCommercialBreak13=!1;setTimeout(this.$VideoWithCommercialBreak54.bind(this),a);setTimeout(this.$VideoWithCommercialBreak55.bind(this),a+this.$VideoWithCommercialBreak4.maxOverduePlayingTimeMs)};a.prototype.leaveAdBreak=function(){"use strict";__p&&__p();var a=this.$VideoWithCommercialBreak36(),c=this.$VideoWithCommercialBreak9.getCurrentInstreamPlacement();if(!this.$VideoWithCommercialBreak4.isLive||c===b("InstreamPlacement").PRE_ROLL){this.$VideoWithCommercialBreak15=a?this.$VideoWithCommercialBreak18==b("InstreamNFXHideType").HIDE_AD_BREAKS?k.HIDE_AD_BREAKS:k.HIDE_AD:k.PLAYBACK_FINISHED;this.$VideoWithCommercialBreak9.logMarauderEvent(b("CommercialBreakMobileEvent").COMMERCIAL_BREAK_TRANSIT);this.$VideoWithCommercialBreak38(b("CommercialBreakState").LEAVING_TRANSITION);var d=this.$VideoWithCommercialBreak4.isBroadcast&&c!==b("InstreamPlacement").PRE_ROLL?this.$VideoWithCommercialBreak4.endingTransitionTimeMs:this.$VideoWithCommercialBreak4.endingNonLiveTransitionTimeMs;this.$VideoWithCommercialBreak4.isLive&&c===b("InstreamPlacement").PRE_ROLL&&this.$VideoWithCommercialBreak56();setTimeout(function(){this.$VideoWithCommercialBreak57()}.bind(this),d);return}if(this.$VideoWithCommercialBreak21==="false"){this.$VideoWithCommercialBreak15=a?k.HIDE_AD:k.PLAYBACK_FINISHED;this.$VideoWithCommercialBreak9.logMarauderEvent(b("CommercialBreakMobileEvent").COMMERCIAL_BREAK_TRANSIT);this.$VideoWithCommercialBreak38(b("CommercialBreakState").LEAVING_TRANSITION);setTimeout(this.$VideoWithCommercialBreak54.bind(this),this.$VideoWithCommercialBreak4.endingTransitionTimeMs);return}this.$VideoWithCommercialBreak5===b("CommercialBreakState").PLAY_AD&&(!this.$VideoWithCommercialBreak9.getIsAdActive()?(this.$VideoWithCommercialBreak15=k.NONE,this.$VideoWithCommercialBreak9.logMarauderEvent(b("CommercialBreakMobileEvent").COMMERCIAL_BREAK_TRANSIT),this.$VideoWithCommercialBreak38(b("CommercialBreakState").LEAVING_TRANSITION)):((this.$VideoWithCommercialBreak9.isState(b("VideoPlayerStates").FINISHED)||this.$VideoWithCommercialBreak9.isState(b("VideoPlayerStates").DESTROYED))&&!this.$VideoWithCommercialBreak12||a)&&(this.$VideoWithCommercialBreak15=a?k.HIDE_AD:k.PLAYBACK_FINISHED,this.$VideoWithCommercialBreak13?(this.$VideoWithCommercialBreak39(),this.reset()):(this.$VideoWithCommercialBreak9.logMarauderEvent(b("CommercialBreakMobileEvent").COMMERCIAL_BREAK_TRANSIT),this.$VideoWithCommercialBreak38(b("CommercialBreakState").LEAVING_TRANSITION))))};a.prototype.$VideoWithCommercialBreak57=function(){"use strict";this.$VideoWithCommercialBreak9.getCurrentInstreamPlacement()===b("InstreamPlacement").PRE_ROLL&&this.$VideoWithCommercialBreak47(b("PreRollStatus").PLAYBACK_FINISHED),this.$VideoWithCommercialBreak39(),this.reset()};a.prototype.$VideoWithCommercialBreak33=function(event,a){"use strict";a!==this&&this.reset()};a.prototype.$VideoWithCommercialBreak54=function(){"use strict";this.$VideoWithCommercialBreak5===b("CommercialBreakState").LEAVING_TRANSITION?(this.$VideoWithCommercialBreak39(),this.reset()):this.$VideoWithCommercialBreak5===b("CommercialBreakState").PLAY_AD&&(this.$VideoWithCommercialBreak13=!0)};a.prototype.$VideoWithCommercialBreak55=function(){"use strict";if(this.$VideoWithCommercialBreak36())return;this.$VideoWithCommercialBreak5===b("CommercialBreakState").PLAY_AD&&(this.$VideoWithCommercialBreak15=k.CUT_OFF,this.$VideoWithCommercialBreak39(),this.reset())};a.prototype.$VideoWithCommercialBreak53=function(){"use strict";if(this.$VideoWithCommercialBreak36())return;this.leaveAdBreak()};a.prototype.$VideoWithCommercialBreak39=function(){"use strict";this.$VideoWithCommercialBreak9.getIsVisibleForAutoplay()&&this.$VideoWithCommercialBreak9.logMarauderEvent(b("CommercialBreakMobileEvent").COMMERCIAL_BREAK_END,{ending_reason:this.$VideoWithCommercialBreak15})};a.prototype.$VideoWithCommercialBreak50=function(){"use strict";var a=this.$VideoWithCommercialBreak1.getCurrentTimePosition()*b("DateConsts").MS_PER_SEC;return a};a.prototype.$VideoWithCommercialBreak51=function(){"use strict";if(!this.$VideoWithCommercialBreak4.isLive)return null;var a=this.$VideoWithCommercialBreak1.getOption("VideoWithLiveBroadcast","viewCount");a=a&&JSON.parse(b("DataStore").get(a,"store",null));return a?a.viewerCount:null};a.prototype.$VideoWithCommercialBreak36=function(){"use strict";var a=this.$VideoWithCommercialBreak9.getAdController();return a&&a.isState(b("VideoPlayerStates").PAUSED)&&this.$VideoWithCommercialBreak5===b("CommercialBreakState").PLAY_AD&&this.$VideoWithCommercialBreak17};a.prototype.$VideoWithCommercialBreak56=function(){"use strict";var a=this.$VideoWithCommercialBreak1,b=a.getSeekableRanges();if(b){b=b.end(b.length()-1);a.seek(b)}};a.prototype.startBreakWithNoVideoAd=function(a,c,d){"use strict";this.$VideoWithCommercialBreak9.setCurrentInstreamVideoAdBreakIndex(d),this.$VideoWithCommercialBreak9.logMarauderEvent(b("CommercialBreakMobileEvent").COMMERCIAL_BREAK_START_SHOW_NOTHING,{commercial_break_no_ad_reason:a}),this.reset()};a.prototype.hasReceivedAdStory=function(a){"use strict";return a===this.$VideoWithCommercialBreak11};a.prototype.onPauseAdFromNFX=function(){"use strict";if(this.$VideoWithCommercialBreak5!==b("CommercialBreakState").PLAY_AD)return;this.$VideoWithCommercialBreak17=!0;b("EntstreamFeedObjectFollowup").addInstreamAdsFollowup(this.$VideoWithCommercialBreak1.getRootNode());var a=this.$VideoWithCommercialBreak9.getAdController();a&&(a.pause(b("VideoPlayerReason").USER),b("CSS").addClass(a.getVideoNode(),"_1_d3"),b("CSS").addClass(a.getRootNode(),"_4ap-"))};a.prototype.onPlayAdFromNFX=function(){"use strict";if(this.$VideoWithCommercialBreak5!==b("CommercialBreakState").PLAY_AD)return;var a=this.$VideoWithCommercialBreak9.getAdController();a&&(this.$VideoWithCommercialBreak17=!1,b("CSS").removeClass(a.getVideoNode(),"_1_d3"),b("CSS").removeClass(a.getRootNode(),"_4ap-"),this.$VideoWithCommercialBreak9.play(b("VideoPlayerReason").USER))};a.prototype.onLeaveAdFromNFX=function(a){"use strict";if(this.$VideoWithCommercialBreak5!==b("CommercialBreakState").PLAY_AD)return;this.$VideoWithCommercialBreak18=a;this.leaveAdBreak();this.$VideoWithCommercialBreak17=!1;this.$VideoWithCommercialBreak18=null};a.prototype.getLiveCountdownDurationMs=function(){"use strict";return this.$VideoWithCommercialBreak20};e.exports=a}),null);
__d("VideoWithInstreamVideo",["BanzaiODS","CommercialBreakMobileEvent","CommercialBreakShouldLogMarauderEvent","CommercialBreakUtil","DateConsts","EventEmitter","InstreamPlacement","InstreamVideoAdType","MarauderLogger","SubscriptionsHandler","VideoPlayerLoggerEventField","VideoPlayerReason","VideoPlayerStates","onViewportChanged"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(a){"use strict";g.constructor.call(this),this.$VideoWithInstreamVideo4=a}a.prototype.enable=function(a){"use strict";__p&&__p();if(this.$VideoWithInstreamVideo2)return;this.$VideoWithInstreamVideo2=a;this.$VideoWithInstreamVideo3=a;this.$VideoWithInstreamVideo13=!1;this.$VideoWithInstreamVideo14=this.getIsVisibleForAutoplay();b("onViewportChanged")(this.$VideoWithInstreamVideo18.bind(this));this.$VideoWithInstreamVideo1=new(b("SubscriptionsHandler"))();this.$VideoWithInstreamVideo1.engage();this.$VideoWithInstreamVideo15=[];this.$VideoWithInstreamVideo19();this.$VideoWithInstreamVideo2.registerOption("VideoWithInstreamVideo","enabled",function(){return!0});this.$VideoWithInstreamVideo2.registerOption("VideoWithInstreamVideo","controller",function(){return this}.bind(this))};a.prototype.disable=function(){"use strict"};a.prototype.$VideoWithInstreamVideo20=function(){"use strict";var a=["play","pause","mute","unmute","constructor","destroy","addListener","isMuted","isState","updateSource"],b=this.$VideoWithInstreamVideo2.constructor.prototype,c=Object.getOwnPropertyNames(b).filter(function(c){var d=b[c];return typeof d==="function"&&a.indexOf(c)<0});return c};a.prototype.$VideoWithInstreamVideo19=function(){"use strict";var a=this.$VideoWithInstreamVideo20(),b=function(a){this.constructor.prototype[a]=function(){return this.$VideoWithInstreamVideo2[a].apply(this.$VideoWithInstreamVideo2,arguments)}};a.forEach(b,this)};a.prototype.$VideoWithInstreamVideo21=function(){"use strict";var a=this.$VideoWithInstreamVideo20();a.forEach(function(a){return delete this.constructor.prototype[a]}.bind(this))};a.prototype.$VideoWithInstreamVideo22=function(){var a;(a=g.emit).call.apply(a,[this].concat(Array.prototype.slice.call(arguments)))};a.prototype.emit=function(){var a;(a=this.$VideoWithInstreamVideo2).emit.apply(a,arguments)};a.prototype.$VideoWithInstreamVideo23=function(event){"use strict";if(this.$VideoWithInstreamVideo15.indexOf(event)<0){this.$VideoWithInstreamVideo15.push(event);var a=function(event){return this.$VideoWithInstreamVideo22.bind(this,event)}.bind(this);this.$VideoWithInstreamVideo1.addSubscriptions(this.$VideoWithInstreamVideo2.addListener(event,a(event)))}};a.prototype.addListener=function(event){var a;this.$VideoWithInstreamVideo23(event);return(a=g.addListener).call.apply(a,[this].concat(Array.prototype.slice.call(arguments)))};a.prototype.registerInstreamVideo=function(a){"use strict";__p&&__p();this.$VideoWithInstreamVideo13||(this.$VideoWithInstreamVideo13=!0,this.$VideoWithInstreamVideo2.instreamVideoStart());if(this.$VideoWithInstreamVideo3===this.$VideoWithInstreamVideo2){this.$VideoWithInstreamVideo9=this.$VideoWithInstreamVideo2.isState(b("VideoPlayerStates").PLAYING);this.$VideoWithInstreamVideo11=this.$VideoWithInstreamVideo2.isMuted();this.$VideoWithInstreamVideo12=this.$VideoWithInstreamVideo2.getVolume();var c=this.getCurrentInstreamVideoAdType();if(c===b("InstreamVideoAdType").LIVE&&this.$VideoWithInstreamVideo6!==b("InstreamPlacement").PRE_ROLL)this.$VideoWithInstreamVideo2.mute();else if(c===b("InstreamVideoAdType").VOD||c===b("InstreamVideoAdType").NONLIVE||c===b("InstreamVideoAdType").LIVE&&this.$VideoWithInstreamVideo6===b("InstreamPlacement").PRE_ROLL){this.$VideoWithInstreamVideo2.setLogEntryPropertyGetters((c={},c[b("VideoPlayerLoggerEventField").INSTREAM_VIDEO_AD_BREAK_INDEX]=this.$VideoWithInstreamVideo5,c[b("VideoPlayerLoggerEventField").INSTREAM_VIDEO_AD_BREAK_VIDEO_ID]=this.$VideoWithInstreamVideo7?this.$VideoWithInstreamVideo7:-1,c));this.$VideoWithInstreamVideo2.pause(b("VideoPlayerReason").COMMERCIAL_BREAK)}}this.$VideoWithInstreamVideo3=a};a.prototype.resetInstreamVideo=function(){"use strict";this.$VideoWithInstreamVideo2.removeLogEntryPropertyGetters([b("VideoPlayerLoggerEventField").INSTREAM_VIDEO_AD_BREAK_INDEX,b("VideoPlayerLoggerEventField").INSTREAM_VIDEO_AD_BREAK_VIDEO_ID]);if(this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2){var a=this.getCurrentInstreamVideoAdType();a===b("InstreamVideoAdType").LIVE&&!this.$VideoWithInstreamVideo11&&this.$VideoWithInstreamVideo2.isMuted()?this.$VideoWithInstreamVideo2.unmute():(a===b("InstreamVideoAdType").VOD||a===b("InstreamVideoAdType").NONLIVE)&&this.$VideoWithInstreamVideo9&&!this.$VideoWithInstreamVideo2.isState(b("VideoPlayerStates").PLAYING)&&this.$VideoWithInstreamVideo2.play(b("VideoPlayerReason").COMMERCIAL_BREAK)}this.$VideoWithInstreamVideo3=this.$VideoWithInstreamVideo2;this.$VideoWithInstreamVideo13=!1;this.$VideoWithInstreamVideo2.instreamVideoEnd()};a.prototype.shouldPlayInstreamAd=function(){"use strict";if(this.$VideoWithInstreamVideo4.isLive&&this.$VideoWithInstreamVideo6===b("InstreamPlacement").PRE_ROLL)return!0;return this.$VideoWithInstreamVideo4.isLive&&!this.$VideoWithInstreamVideo9?!1:this.getIsVisibleForAutoplay()};a.prototype.playInstreamAd=function(){"use strict";__p&&__p();if(!this.$VideoWithInstreamVideo3||this.$VideoWithInstreamVideo3===this.$VideoWithInstreamVideo2){b("BanzaiODS").bumpEntityKey("instreamads","missing_ad_player");return}var a=this.$VideoWithInstreamVideo3;this.logMarauderEvent(b("CommercialBreakMobileEvent").COMMERCIAL_BREAK_START_AD);a.once("beginPlayback",function(){this.$VideoWithInstreamVideo16={adClientToken:a.getAdClientToken(),adStartPlayingTimeMs:Date.now(),adPositionInVideoMs:this.$VideoWithInstreamVideo2.getCurrentTimePosition()*b("DateConsts").MS_PER_SEC,playerOrigin:this.$VideoWithInstreamVideo2.getPlayerOrigin(),playerSubOrigin:b("CommercialBreakUtil").getVideoPlayerSubOrigin(this.$VideoWithInstreamVideo2),playerFormat:b("CommercialBreakUtil").getVideoPlayerFormat(this.$VideoWithInstreamVideo2)}}.bind(this));this.$VideoWithInstreamVideo11?a.mute():(a.unmute(),a.setVolume(this.$VideoWithInstreamVideo12));this.$VideoWithInstreamVideo10=!1;a.play(b("VideoPlayerReason").AUTOPLAY)};a.prototype.play=function(a){"use strict";this.$VideoWithInstreamVideo9=!0;if(this.$VideoWithInstreamVideo3&&(this.$VideoWithInstreamVideo3===this.$VideoWithInstreamVideo2||this.$VideoWithInstreamVideo3.isState(b("VideoPlayerStates").PAUSED)||this.$VideoWithInstreamVideo3.isState(b("VideoPlayerStates").PLAYING))){var c=this.$VideoWithInstreamVideo3;this.$VideoWithInstreamVideo2.getOption("VideoWithCommercialBreak","isInstreamPausedByNFX")||(this.$VideoWithInstreamVideo10&&c!==this.$VideoWithInstreamVideo2?c.once("pausePlayback",function(){return c.play(a)}):c.play(a))}this.$VideoWithInstreamVideo4.isLive&&this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2&&this.$VideoWithInstreamVideo2.play(a)};a.prototype.pause=function(a){"use strict";__p&&__p();if(a===b("VideoPlayerReason").USER&&this.$VideoWithInstreamVideo3===this.$VideoWithInstreamVideo2&&this.$VideoWithInstreamVideo2.getOption("VideoWithInstreamVideo","disableClickToPause"))return;this.$VideoWithInstreamVideo9=!1;if(this.$VideoWithInstreamVideo3&&(this.$VideoWithInstreamVideo3===this.$VideoWithInstreamVideo2||this.$VideoWithInstreamVideo3.isState(b("VideoPlayerStates").PLAYING))){var c=this.$VideoWithInstreamVideo3;c!==this.$VideoWithInstreamVideo2&&(this.$VideoWithInstreamVideo10=!0,c.once("pausePlayback",function(){return this.$VideoWithInstreamVideo10=!1}.bind(this)));c.pause(a)}this.$VideoWithInstreamVideo4.isLive&&this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2&&this.$VideoWithInstreamVideo2.pause(a)};a.prototype.mute=function(){"use strict";this.$VideoWithInstreamVideo11=!0,this.$VideoWithInstreamVideo3&&this.$VideoWithInstreamVideo3.mute()};a.prototype.unmute=function(){"use strict";this.$VideoWithInstreamVideo11=!1,this.$VideoWithInstreamVideo3&&this.$VideoWithInstreamVideo3.unmute()};a.prototype.isMuted=function(){"use strict";return this.$VideoWithInstreamVideo3?this.$VideoWithInstreamVideo3.isMuted():this.$VideoWithInstreamVideo2.isMuted()};a.prototype.isState=function(a){"use strict";return this.$VideoWithInstreamVideo3?this.$VideoWithInstreamVideo3.isState(a):this.$VideoWithInstreamVideo2.isState(a)};a.prototype.destroy=function(){"use strict";this.$VideoWithInstreamVideo3&&this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2&&this.$VideoWithInstreamVideo3.destroy(),this.$VideoWithInstreamVideo2.destroy()};a.prototype.updateSource=function(a){"use strict";this.$VideoWithInstreamVideo3&&this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2&&this.$VideoWithInstreamVideo3.updateSource(a),this.$VideoWithInstreamVideo2.updateSource(a)};a.prototype.getConfig=function(){"use strict";return this.$VideoWithInstreamVideo4};a.prototype.setCurrentInstreamVideoAdBreakIndex=function(a){"use strict";this.$VideoWithInstreamVideo5=a};a.prototype.setCurrentInstreamPlacement=function(a){"use strict";this.$VideoWithInstreamVideo6=a};a.prototype.setCurrentInstreamVideoAdBreakVideoID=function(a){"use strict";this.$VideoWithInstreamVideo7=a};a.prototype.setCurrentInstreamVideoAdBreakClientToken=function(a){"use strict";this.$VideoWithInstreamVideo8=a};a.prototype.setThumbnailURLForPreview=function(a){"use strict";this.$VideoWithInstreamVideo17=a};a.prototype.getPreferredThumbnailURI=function(){"use strict";return this.$VideoWithInstreamVideo4.isComposerPreviewing?this.$VideoWithInstreamVideo17:this.$VideoWithInstreamVideo4.preferredThumbnailURI};a.prototype.getCurrentInstreamVideoAdType=function(){"use strict";if(this.$VideoWithInstreamVideo4.isLive)return b("InstreamVideoAdType").LIVE;else if(this.$VideoWithInstreamVideo4.isBroadcast)return b("InstreamVideoAdType").VOD;else return b("InstreamVideoAdType").NONLIVE};a.prototype.getCurrentInstreamPlacement=function(){"use strict";return this.$VideoWithInstreamVideo6};a.prototype.getCurrentInstreamVideoAdBreakVideoID=function(){"use strict";return this.$VideoWithInstreamVideo7};a.prototype.getCurrentInstreamVideoAdBreakIndex=function(){"use strict";return this.$VideoWithInstreamVideo5};a.prototype.getIsAdActive=function(){"use strict";return this.$VideoWithInstreamVideo3&&this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2};a.prototype.getAdController=function(){"use strict";return this.getIsAdActive()?this.$VideoWithInstreamVideo3:null};a.prototype.$VideoWithInstreamVideo18=function(){"use strict";__p&&__p();var a=this.getIsVisibleForAutoplay();if(this.$VideoWithInstreamVideo14!==a){if(this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2){var c=null,d=this.$VideoWithInstreamVideo3;d&&d.getPlaybackDuration()>0&&(c=b("DateConsts").MS_PER_SEC*(d.getPlaybackDuration()-d.getCurrentTimePosition()));this.logMarauderEvent(a?b("CommercialBreakMobileEvent").COMMERCIAL_BREAK_SCROLLED_INTO:b("CommercialBreakMobileEvent").COMMERCIAL_BREAK_SCROLLED_AWAY,{remaining_ad_duration_ms:c})}this.$VideoWithInstreamVideo2.emit(a?"commercialBreak/scrollInto":"commercialBreak/scrollAway")}this.$VideoWithInstreamVideo14=a};a.prototype.getIsVisibleForAutoplay=function(){"use strict";var a=this.$VideoWithInstreamVideo2.getOption("FeedAutoplay","isVisibleForAutoplay");return a||a===undefined};a.prototype.getMostRecentAdInfo=function(){"use strict";return this.$VideoWithInstreamVideo16};a.prototype.logMarauderEvent=function(a,c){__p&&__p();c===void 0&&(c={});if(!Object.prototype.hasOwnProperty.call(b("CommercialBreakShouldLogMarauderEvent"),a)||!b("CommercialBreakShouldLogMarauderEvent")[a])return;c.host_video_id=this.$VideoWithInstreamVideo4.hostVideoID;c.instream_video_ad_type=this.getCurrentInstreamVideoAdType();Object.prototype.hasOwnProperty.call(c,"ad_break_index")||(c.ad_break_index=this.$VideoWithInstreamVideo5);Object.prototype.hasOwnProperty.call(c,"instream_placement")||(c.instream_placement=this.$VideoWithInstreamVideo6);c.is_sponsored=this.$VideoWithInstreamVideo4.isSponsored;c.is_visible=this.getIsVisibleForAutoplay();c.player_origin=this.$VideoWithInstreamVideo4.playerOrigin;Object.prototype.hasOwnProperty.call(c,"commercial_break_ad_client_token")||(c.commercial_break_ad_client_token=this.$VideoWithInstreamVideo8);b("MarauderLogger").log(a,"commercial_break",c)};e.exports=a}),null);
__d("VodWithCommercialBreak",["CommercialBreakExperiments","CommercialBreakNoAdReason","DateConsts","UFIVideoPlayerRegistry","VideoPlayerStates","Visibility"],(function(a,b,c,d,e,f){__p&&__p();var g=Object.freeze({RECHECK_START_MS:300});function a(a){__p&&__p();var b=a.videoPlayerController;a=a.adBreaks;this.$1=a;this.$4=b;this.$7=!1;this.$9=-1;this.$12=0;this.$13=0;this.$8=!1;this.$3=b.addListener("optionsChange",function(){return this.$14()}.bind(this));this.$14()}a.prototype.setAdBreaks=function(a){"use strict";this.$15(),this.$1=a};a.prototype.$15=function(){"use strict";this.$10&&clearTimeout(this.$10),this.$11&&clearTimeout(this.$11),this.$10=null,this.$11=null,this.$9=-1};a.prototype.$14=function(){"use strict";__p&&__p();this.$5=this.$4.getOption("VideoWithInstreamVideo","controller");this.$6=this.$4.getOption("VideoWithCommercialBreak","controller");if(!this.$5||!this.$6)return;this.$3.remove();this.$2=this.$5.getConfig();this.$4.isState(b("VideoPlayerStates").PLAYING)&&this.$16();this.$4.addListener("beginPlayback",this.$16.bind(this));this.$4.addListener("pausePlayback",this.$17.bind(this))};a.prototype.$16=function(){"use strict";__p&&__p();this.$7||(this.$7=!0);this.$12===0&&(this.$12=Date.now());var a=this.$18();if(a===0){this.$4.once("updateStatus",this.$16.bind(this));return}var b=this.$19(a);b===this.$9&&(b+=1);this.$20(b,a)};a.prototype.$17=function(){"use strict";this.$12>0&&(this.$13+=Date.now()-this.$12),this.$12=0,this.$15()};a.prototype.$19=function(a){"use strict";var b=this.$1.length;for(var c=this.$1.length-1;c>=0;c--){var d=this.$1[c].getTimeOffsetInMs();if(d&&d>a+this.$2.vodAllowStartTimeDeltaMs)b=c;else break}return b};a.prototype.$20=function(a,b){"use strict";__p&&__p();this.$15();if(a>=this.$1.length)return;var c=this.$1[a].getTimeOffsetInMs();if(!c)return;c=c-b;b=c-this.$2.vodPrefetchTimeMs;if(c<0){this.$16();return}b<=this.$2.vodAllowIntentTimeDeltaMs?this.$21(a):this.$10=setTimeout(function(){return this.$21(a)}.bind(this),b);this.$2.isBroadcast||(c-=this.$2.startingIndicatorMs);c<=this.$2.vodAllowStartTimeDeltaMs?this.$22(a):this.$11=setTimeout(function(){return this.$22(a)}.bind(this),c)};a.prototype.$21=function(a){"use strict";__p&&__p();var c=this.$18(),d=this.$1[a],e=d.getTimeOffsetInMs();if(!e)return;var f=e-this.$2.vodPrefetchTimeMs;f=f-c;if(f>this.$2.vodAllowIntentTimeDeltaMs){this.$10=setTimeout(function(){return this.$21(a)}.bind(this),f);return}f=this.$13+e-c;this.$12>0&&(f+=Date.now()-this.$12);e=!this.$6.hasReceivedAdStory(d.getIndex())&&f>=this.$2.vodMinWatchTimeSeconds*b("DateConsts").MS_PER_SEC;e&&(this.$6.reset(),this.$6.onIntentCommand(d.getIndex(),d.getInstreamPlacement(),d.getAdBreakDurationInMs()));this.$10=null};a.prototype.$22=function(a){"use strict";__p&&__p();var c=this.$18(),d=this.$1[a],e=d.getTimeOffsetInMs();if(!e)return;c=e-c;var f=this.$13+c;this.$12>0&&(f+=Date.now()-this.$12);var h=null;if(f<this.$2.vodMinWatchTimeSeconds*b("DateConsts").MS_PER_SEC)h=b("CommercialBreakNoAdReason").TIME_SPENT_INSUFFICIENT;else if(!this.$6.hasReceivedAdStory(d.getIndex()))h=b("CommercialBreakNoAdReason").NO_VIDEO_AD;else if(b("Visibility").isHidden()&&b("CommercialBreakExperiments").skipInstreamAdWhenInvisible)h=b("CommercialBreakNoAdReason").INACTIVE_TAB;else if(this.$2.skipAdsWhileCommenting&&!this.$8){f=b("UFIVideoPlayerRegistry").getAvailableUFIController(this.$4);f&&!f.getIsCurrentCommentEmpty()&&(h=b("CommercialBreakNoAdReason").IS_COMMENTING)}!h&&!this.$2.isBroadcast&&(this.$4.emit("commercialBreak/vodBreakStarting",e),this.$8=!0);if(c>this.$2.vodAllowStartTimeDeltaMs){this.$2.isBroadcast||(c=Math.min(c,g.RECHECK_START_MS));this.$11=setTimeout(function(){return this.$22(a)}.bind(this),c);return}!h?(this.$6.onStartCommand(d.getIndex(),d.getInstreamPlacement(),e),this.$12=0,this.$13=0):this.$6.startBreakWithNoVideoAd(h,e,d.getIndex());this.$9=a;this.$11=null;this.$8=!1};a.prototype.$18=function(){"use strict";return this.$4.getCurrentTimePosition()*b("DateConsts").MS_PER_SEC};e.exports=a}),null);
__d("MountedContextMenu.react",["cx","ContextualLayer.react","DOMQuery","Event","Focus","LayerHideOnEscape","PopoverMenu.react","PopoverMenuInterface","React","ReactDOM","SubscriptionsHandler","isNode","getContextualLayerCursorOffset"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=Object.prototype.hasOwnProperty;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={shown:!1,lastOpenedX:0,lastOpenedY:0,offsetX:0,offsetY:0},this.$6=function(a){var b=a.clientX,c=a.clientY;a.preventDefault();a.stopPropagation();this.showAt(b,c)}.bind(this),this.$7=function(a){var c=this.$3();c=c&&b("DOMQuery").contains(c,a.target);a=a.button===0;c&&a||this.hide()}.bind(this),this.$8=function(){this.props.disableFocusOutline&&b("Focus").setWithoutOutline(this.$2())}.bind(this),this.$9=function(){var a=this.$2();this.props.disableFocusOutline?b("Focus").setWithoutOutline(a):b("Focus").set(a);this.state.shown&&this.hide()}.bind(this),this.$10=function(){this.hide()}.bind(this),c}a.prototype.getDefaultProps=function(){return{disableFocusOutline:!1}};a.prototype.$2=function(){return this.props.mountedTriggerElem};a.prototype.$3=function(){var a=this.refs.popover.getMenu();return a&&a.getRoot()};a.prototype.$4=function(){return this.refs.menuLayer.layer};a.prototype.renderLayers=function(){return b("React").createElement(b("ContextualLayer.react"),{alignment:"right",behaviors:[b("LayerHideOnEscape")],contextRef:function(){return this.$2()}.bind(this),offsetX:this.state.offsetX,offsetY:this.state.offsetY,position:"below",ref:"menuLayer",shown:this.state.shown,key:"menu"},b("React").createElement(b("PopoverMenu.react"),{alignh:"left",menu:this.props.menu,position:"below",ref:"popover"},b("React").createElement("div",{className:"_4345",ref:"fakeTrigger"})))};a.prototype.render=function(){return this.props.mountedTriggerElem?b("React").createElement("span",null,this.renderLayers()):null};a.prototype.$5=function(a,c){var d=this.$4();a=b("getContextualLayerCursorOffset")(d,a,c);c=a.offsetX;a=a.offsetY;d.setOffsetX(c).setOffsetY(a);this.setState({offsetX:c,offsetY:a})};a.prototype.componentDidMount=function(){var a=this.$2(),c=b("ReactDOM").findDOMNode(this.refs.fakeTrigger),d=this.$4(),e=this.refs.popover;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("Event").listen(a,"contextmenu",this.$6),b("Event").listen(document.body,"mousedown",this.$7),b("Event").listen(a,"focus",this.$8),b("Event").listen(c,"focus",this.$9),b("Event").listen(window,"blur",this.$10),d.subscribe("show",function(){var a=this.state.lastOpenedX,b=this.state.lastOpenedY;this.$5(a,b);e.showPopover()}.bind(this)),d.subscribe("hide",function(){e.hidePopover()}))};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.release()};a.prototype.show=function(){this.setState({shown:!0})};a.prototype.showAt=function(a,b){this.setState({lastOpenedX:a,lastOpenedY:b}),this.show()};a.prototype.hide=function(){this.setState({shown:!1})};a.propTypes={disableFocusOutline:c.bool,menu:function(a,c,d){if(!i.call(a,c))return new Error(d+"."+c+" is required");d=a[c];a=d&&d.type;return!(a&&a.prototype instanceof b("PopoverMenuInterface"))?new Error(c+" must implement PopoverMenuInterface"):null},mountedTriggerElem:function(a,c,d){if(!i.call(a,c))return new Error(d+"."+c+" is required");else if(!b("isNode")(a[c]))return new Error(d+"."+c+" must be a raw DOM node");return null}};e.exports=a}),null);
__d("VideoComponentCommercialBreakVideoAdOverlay.react",["cx","CommercialBreakVideoAdOverlay","React","VideoComponent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.enable=function(a){this.$1=new(b("CommercialBreakVideoAdOverlay"))({root:this.refs.root}),this.$1.enable(a)};a.prototype.disable=function(){this.$1&&this.$1.stopAdWithoutTransition(),this.$1=null};a.prototype.componentDidUpdate=function(a,b){this.props.adsStopped&&!a.adsStopped&&this.$1&&this.$1.stopAdWithoutTransition()};a.prototype.shouldComponentUpdate=function(a,b){return!1};a.prototype.render=function(){var a="_4wd3 _50m2 _167h _4ubd _2lwf";return b("React").createElement("div",{ref:"root",className:a})};function a(){h.apply(this,arguments)}e.exports=b("VideoComponent").createContainer(a)}),null);
__d("LiveVideoPlayerActions",["LiveVideoPlayerDispatcher"],(function(a,b,c,d,e,f){a={setIsRewound:function(a,c){c={type:"SET_IS_REWOUND",isRewound:c,vpc:a};b("LiveVideoPlayerDispatcher").dispatch(c)},dismissRewindCommentOverlay:function(a){a={type:"DISMISS_REWIND_COMMENT_OVERLAY",playerID:a};b("LiveVideoPlayerDispatcher").dispatch(a)}};e.exports=a}),null);
__d("LiveVideoRewindLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({GO_TO_LIVE:"go_to_live",GO_TO_BEGINNING:"go_to_beginning",BACK_BUTTON:"back_button",FORWARD_BUTTON:"forward_button",SCRUBBER:"scrubber",PAUSE:"pause",PLAY:"play",RENDER_REWIND_CONTROLS:"render_rewind_controls"})}),null);
__d("LiveRewindUtils",["LiveVideoPlayerActions","LiveVideoRewindLoggerEvent","LiveVideoRewindTypedLogger","TimeRanges","VideoPlayerController","VideoPlayerReason","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=5,h=new Map(),i=250;function j(a){var b=0;for(var c=0;c<a.length();c++)b+=a.end(c)-a.start(c);return b>g?b-g:0}function a(a,b){__p&&__p();var c=a;if(b.length()<1)return 0;if(a<=0)return b.start(0);for(var a=0;a<b.length();a++){var d=b.end(a)-b.start(a);if(c<d)return b.start(a)+c;c-=d}return b.end(b.length()-1)}function k(a,b){__p&&__p();var c=a;if(b.length()<1)return c;var d=0;for(var e=0;e<b.length();e++){var f=b.start(e),g=f-d;c-=g;if(a<f){g=f-a;return c+g}if(a<=b.end(e))return c;d=b.end(e)}return c}function l(a,b,c,d){__p&&__p();if(c.length()<1)return 0;d==null&&(d=n(a,c));a<c.start(d)&&(a=c.start(d));a>c.end(d)&&(a=c.end(d));var e=a+b,f=c.end(c.length()-1),g=c.start(0);if(e<=g)return g;if(e>=f)return f;if(e>=c.start(d)&&e<=c.end(d))return e;if(e<c.start(d)){if(d<1)return g;g=a-c.start(d);g=b+g;var h=c.end(d-1);return l(h,g,c,d-1)}if(e>c.start(d)){if(d>=c.length()-1)return f;h=c.end(d)-a;g=b-h;e=c.start(d+1);return l(e,g,c,d+1)}return 0}function m(a,b){b==null&&(b=g);var c=a.end(a.length()-1);return l(c,-1*b,a)}function n(a,b){if(b.length()<1)return 0;var c=0;while(c<b.length()-1){if(a<b.end(c))return c;c++}return c}function c(a){var c=h.get(a);if(c==null){var d=b("uuid")();h.set(a,{sessionID:d,currentSequenceNumber:0});return d}return c.sessionID}function d(a){var c=h.get(a);if(c==null){h.set(a,{sessionID:b("uuid")(),currentSequenceNumber:0});return 0}a=++c.currentSequenceNumber;return a}function f(a){var c=a.getSeekableRanges();if(c){var d=k(a.getCurrentTimePosition(),c);c=c.start(0);s(a,c);b("LiveVideoPlayerActions").setIsRewound(a,!0);r(b("LiveVideoRewindLoggerEvent").GO_TO_BEGINNING,a,d,null,0,null)}}function o(a){var c=a.getSeekableRanges();if(!c)return;var d=a.getCurrentTimePosition(),e=k(d,c);d=l(d,-10,c);s(a,d);b("LiveVideoPlayerActions").setIsRewound(a,!0);r(b("LiveVideoRewindLoggerEvent").BACK_BUTTON,a,e,null,null,d)}function p(a){var c=a.getSeekableRanges();if(!c)return;var d=a.getCurrentTimePosition(),e=k(d,c);d=l(d,10,c);s(a,d);c=m(c);a.isState("playing")&&c-d<1&&b("LiveVideoPlayerActions").setIsRewound(a,!1);r(b("LiveVideoRewindLoggerEvent").FORWARD_BUTTON,a,e,null,null,d)}function q(a){__p&&__p();var c=a.getSeekableRanges();if(c){var d=a.getCurrentTimePosition();d=k(d,c);c=c.end(c.length()-1);s(a,c);a.isState("paused")&&a.play(b("VideoPlayerReason").USER);b("LiveVideoPlayerActions").setIsRewound(a,!1);r(b("LiveVideoRewindLoggerEvent").GO_TO_LIVE,a,d,null,null,c)}}function r(event,a,c,d,e,f){var g=a.getSeekableRanges(),h=g?j(g):0;c==null&&d!=null&&g!=null&&(c=k(d,g));e==null&&f!=null&&g!=null&&(e=k(f,g));new(b("LiveVideoRewindTypedLogger"))().setEvent(event).setPositionBefore(c).setPositionAfter(e).setVideoDuration(h).setVideoID(a.getVideoID()).setSessionID(t.getLoggingSessionID(a.getVideoPlayerID())).setActionSequenceNumber(t.getLoggingSequenceNumber(a.getVideoPlayerID())).log()}function s(a,c){var d=a.getState()==="paused";a.pause(b("VideoPlayerReason").SEEK);setTimeout(function(){a.seek(c),d||a.play(b("VideoPlayerReason").SEEK)},i)}var t={getSeekTime:l,getAbsolutePosition:a,getLiveHeadTimestamp:m,getLoggingSessionID:c,getLoggingSequenceNumber:d,getRelativePosition:k,getTotalDuration:j,goToBeginning:f,goToLive:q,logLiveRewindEvent:r,seekBack:o,seekForward:p,LIVE_HEAD_BUFFER_S:g};e.exports=t}),null);
__d("VideoClipButton.react",["ix","cx","fbt","AbstractButton.react","Image.react","React","TooltipData","XUISpinner.react","XUIText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=i._("Create a clip from the last 30 seconds"),l=i._("Generating clip...");c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.state={isClipping:!1},this.$1=function(){this.setState({isClipping:!1})}.bind(this),b}a.prototype.render=function(){return this.state.isClipping?b("React").createElement(b("XUIText.react"),{className:"_zbd _25cu","data-hover":"tooltip","data-tooltip-content":l},b("React").createElement(b("XUISpinner.react"),{className:"_rwt",background:"light",size:"small",paused:!1})):b("React").createElement(b("AbstractButton.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(k,"above"),{className:"_zbd",image:b("React").createElement(b("Image.react"),{className:"_rwt",src:g("468574")}),label:k,labelIsHidden:!0,onClick:function(){this.setState({isClipping:!0}),this.props.onClipVideo(this.$1)}.bind(this),tabIndex:"0"}))};e.exports=a}),null);
__d("VideoFBIconControl.react",["ix","cx","fbt","AbstractButton.react","Image.react","React","TooltipData","URI","VideoPlayerExperiments","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=2;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(a){j.constructor.call(this,a),this.state={iconColor:"white"}}a.prototype.onMouseOut=function(a){this.setState({iconColor:"white"})};a.prototype.onMouseOver=function(a){this.setState({iconColor:"blue"})};a.prototype.$1=function(){return new(b("URI"))(this.props.permalinkURL).addQueryData("t",Math.max(0,Math.floor(this.props.playbackPosTimestamp)-k))};a.prototype.render=function(){var a=this.state.iconColor==="blue"?g("390907"):g("390910"),c=null;c=b("React").createElement(b("Image.react"),{className:"_rwt",src:a});a=b("VideoPlayerExperiments").embeddedPlayerEnhancements?this.$1():this.props.permalinkURL;return b("React").createElement(b("AbstractButton.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(this.props.label,"above"),{className:"_zbd",href:a,image:c,label:this.props.label,labelIsHidden:this.props.labelIsHidden,onMouseOut:this.onMouseOut.bind(this),onMouseOver:this.onMouseOver.bind(this),ref:"button",tabIndex:"0",target:"_blank",type:"button"}))};a.defaultProps={label:i._("Click to watch on Facebook"),labelIsHidden:!0};e.exports=a}),null);
__d("VideoWebDriverIDs",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FEED_VIDEO:"feed_video",FULLSCREEN_CONTROL:"fullscreen_control",MUTE_UNMUTE_CONTROL:"mute_unmute_control",PLAY_PAUSE_CONTROL:"play_pause_control",WNS_CONTROL:"wns_control",REPLAY_CONTROL:"replay_control",CTA_BUTTON:"video_cta"})}),null);
__d("VideoFullscreenControl.react",["ix","cx","fbt","AbstractVideoFullscreenControl.react","Image.react","React","ReactDOM","VideoPlayerExperiments","VideoWebDriverIDs","asset","shallowCompare"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};a.prototype.onMouseOut=function(a){b("ReactDOM").findDOMNode(this.refs.button).blur()};a.prototype.render=function(){var a;!b("VideoPlayerExperiments").fourArrowFullScreen?a=this.props.isFullscreen?g("463022"):g("407577"):a=this.props.isFullscreen?g("463031"):g("412613");a=b("React").createElement(b("Image.react"),{className:"_rwt",src:a});var c=this.props.isFullscreen?i._("Exit Fullscreen"):i._("Enter Fullscreen");return b("React").createElement(b("AbstractVideoFullscreenControl.react"),babelHelpers["extends"]({},this.props,{className:"_zbd _39ip","data-testid":b("VideoWebDriverIDs").FULLSCREEN_CONTROL,disabled:this.props.disabled,image:a,onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button",label:c,labelIsHidden:!0}))};function a(){j.apply(this,arguments)}a.propTypes={isFullscreen:c.bool,onToggleFullscreen:c.func,tabIndex:c.string};e.exports=a}),null);
__d("XTahoeVideoDataAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/tahoe/video_data/",{video_ids:{type:"FBIDSet",required:!0}})}),null);
__d("VideoControlsVideoInfoOverlay.react",["cx","AsyncRequest","Image.react","Layout.react","LineClamp.react","Link.react","React","URI","XTahoeVideoDataAsyncController","XUIText.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("Layout.react").Column,j=b("Layout.react").FillColumn,k=90,l=160;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={mouseOnOverlay:!1,videoData:{},displayed:!1},b}a.prototype.componentDidUpdate=function(){(!this.state.videoData.id||this.props.videoID!==this.state.videoData.id.toString())&&this.$1(),this.props.mouseOnBtn&&!this.state.displayed&&this.setState({displayed:!0})};a.prototype.render=function(){var a=this.state.videoData,c=a.thumbURI,d=a.title,e=a.permalink;return!c||!d||!e?null:b("React").createElement("div",{className:"_6buh",onMouseEnter:function(){this.state.mouseOnOverlay||this.setState({mouseOnOverlay:!0})}.bind(this),onMouseLeave:function(){this.state.mouseOnOverlay&&this.setState({mouseOnOverlay:!1})}.bind(this)},b("React").createElement("div",{className:"_6bui"},b("React").createElement(b("Layout.react"),{className:b("joinClasses")((this.state.displayed?"":"_6k70")+" _6buj"+(!this.state.mouseOnOverlay&&!this.props.mouseOnBtn?" _6buk":""),this.props.customClassName)},b("React").createElement(i,null,b("React").createElement(b("Link.react"),{onClick:function(){return this.$2(e)}.bind(this)},b("React").createElement(b("Image.react"),{src:c,height:k,width:l}))),b("React").createElement(j,{className:"_6bul"},b("React").createElement("div",{className:"_6bum"},b("React").createElement("div",{className:"_6bun"},b("React").createElement(b("Link.react"),{onClick:function(){return this.$2(e)}.bind(this)},b("React").createElement(b("XUIText.react"),{weight:"bold"},this.props.label))),d?b("React").createElement("div",{className:"_2pim"},b("React").createElement(b("LineClamp.react"),{lines:3,enableTooltipOnOverflow:!0},b("React").createElement("div",{className:"_6buo"},d))):null)))))};a.prototype.$1=function(){this.props.videoID&&new(b("AsyncRequest"))(b("XTahoeVideoDataAsyncController").getURIBuilder().setFBIDSet("video_ids",[this.props.videoID]).getURI()).setHandler(function(a){a=(a=a)!=null?(a=a.payload)!=null?a.videosData:a:a;a&&a.length>0&&this.setState({videoData:a[0]})}.bind(this)).send()};a.prototype.$2=function(a){this.props.logOverlayClick();this.setState({videoData:{}});a=a;a&&b("URI").go(a)};e.exports=a}),null);
__d("NextVideoControlOverlay.react",["cx","fbt","React","TahoeLoggerEvent","TahoeTypedLogger","VideoControlsVideoInfoOverlay.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){return b("React").createElement(b("VideoControlsVideoInfoOverlay.react"),{videoID:this.props.nextVideoID,mouseOnBtn:this.props.mouseOnBtn,logOverlayClick:this.$1.bind(this),label:h._("NEXT"),customClassName:"_6eam"})};a.prototype.$1=function(){new(b("TahoeTypedLogger"))().setEvent(b("TahoeLoggerEvent").UP_NEXT_CONTROL_CLICK).setMediaID(this.props.currentVideoID).log()};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("VideoNextControl.react",["ix","cx","fbt","AbstractButton.react","AsyncRequest","Image.react","NextVideoControlOverlay.react","React","Tahoe","TahoeConstants","TahoeLoggerEvent","TahoeTypedLogger","TahoeV2Config","URI","XTahoeVideoDataAsyncController","asset","gkx","upNextVideoStateStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=500;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.state={nextVideoID:this.$1(),mouseOnBtn:!1},b}a.prototype.shouldComponentUpdate=function(a,b){return this.state.mouseOnBtn===b.mouseOnBtn&&this.state.nextVideoID===b.nextVideoID?!1:!0};a.prototype.render=function(){var a=b("React").createElement(b("Image.react"),{className:"_rwt",src:g("597341")}),c=b("React").createElement(b("NextVideoControlOverlay.react"),{currentVideoID:this.props.videoID,nextVideoID:this.state.nextVideoID,mouseOnBtn:this.state.mouseOnBtn});return b("React").createElement("div",{className:"_6bup _6eec"},b("React").createElement(b("AbstractButton.react"),{className:"_zbd _6auz",image:a,label:i._("Next"),labelIsHidden:!0,onMouseEnter:this.$2.bind(this),onMouseLeave:this.$3.bind(this),onClick:this.$4.bind(this),type:"button"}),c)};a.prototype.$2=function(){new(b("TahoeTypedLogger"))().setEvent(b("TahoeLoggerEvent").UP_NEXT_CONTROL_OVERLAY_SHOWN).setMediaID(this.props.videoID).log(),this.setState({nextVideoID:this.$1()}),this.state.mouseOnBtn||this.setState({mouseOnBtn:!0})};a.prototype.$3=function(){this.state.mouseOnBtn&&setTimeout(function(){this.setState({mouseOnBtn:!1})}.bind(this),k)};a.prototype.$4=function(){new(b("TahoeTypedLogger"))().setEvent(b("TahoeLoggerEvent").UP_NEXT_CONTROL_CLICK).setMediaID(this.props.videoID).log(),new(b("AsyncRequest"))(b("XTahoeVideoDataAsyncController").getURIBuilder().setFBIDSet("video_ids",[this.state.nextVideoID]).getURI()).setHandler(function(a){a=(a=a)!=null?(a=a.payload)!=null?a.videosData:a:a;if(a&&a.length>0&&a[0]){a=a[0].permalink;a&&b("URI").go(a)}}).send()};a.prototype.$1=function(){if(b("TahoeV2Config").showMoreUpNext){var a=b("upNextVideoStateStore").getState().upNextVideoBuffer;return a.length>0?a[0].id.substring(b("TahoeConstants").UP_NEXT_UNIT_ID_PREFIX.length):""}else{a=b("Tahoe").get();a=a&&a.getView();a=a&&a.getUpNextVideoIDs();return a&&a.length>0?a[0]:""}};e.exports=a}),null);
__d("VideoPlaybackControl.react",["ix","cx","fbt","AbstractButton.react","Image.react","React","ReactDOM","TooltipData","VideoPlayerExperiments","VideoWebDriverIDs","asset","shallowCompare"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(a){j.constructor.call(this,a),this.state={awaitingUpdate:!1,isPlayingOverwrite:!1}}a.prototype.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};a.prototype.isPlaying=function(){return this.state.awaitingUpdate?this.state.isPlayingOverwrite:this.props.isPlaying};a.prototype.onButtonClick=function(){var a=this.isPlaying();this.setState({awaitingUpdate:!0,isPlayingOverwrite:!a});a?this.props.onPause&&this.props.onPause():this.props.onPlay&&this.props.onPlay()};a.prototype.UNSAFE_componentWillReceiveProps=function(){this.setState({awaitingUpdate:!1})};a.prototype.onMouseOut=function(a){b("ReactDOM").findDOMNode(this.refs.button).blur()};a.prototype.render=function(){var a=null,c="";this.props.finishedPlaying?(this.props.useDarkTheme?a=g("463014"):a=g("463019"),c=i._("Replay")):this.props.isLiveVideo?a=this.isPlaying()?g("463008"):g("431972"):(this.props.useDarkTheme?a=this.isPlaying()?g("463003"):g("462853"):a=this.isPlaying()?g("463005"):g("374088"),c=this.isPlaying()?i._("Pause"):i._("Play"));a=b("React").createElement(b("Image.react"),{className:"_rwt",src:a});var d=(this.props.isLiveVideo?"":"_zbd")+(this.props.isLiveVideo?" _rx5":"")+" _2sm1";if(b("VideoPlayerExperiments").embeddedPlayerEnhancements)return b("React").createElement(b("AbstractButton.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(c,"above"),{className:d,"data-testid":b("VideoWebDriverIDs").PLAY_PAUSE_CONTROL,image:a,label:c,labelIsHidden:!0,onClick:this.onButtonClick.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button"}));else return b("React").createElement(b("AbstractButton.react"),{className:d,"data-testid":b("VideoWebDriverIDs").PLAY_PAUSE_CONTROL,image:a,label:c,labelIsHidden:!0,onClick:this.onButtonClick.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button"})};a.propTypes={finishedPlaying:c.bool,isPlaying:c.bool,onPlay:c.func,onPause:c.func,tabIndex:c.string};a.defaultProps={useDarkTheme:!1};e.exports=a}),null);
__d("VideoPlaybackRateControl.react",["cx","fbt","AbstractButton.react","React","VideoPlayerExperiments","shallowCompare"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=b("React").PropTypes;function j(a){return a.toFixed(2).replace(/\.0+/,".0")+"x"}d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={isMenuOpen:!1,isFocusTriggeredByMouse:!1,rate:1},this.onFocus=function(){this.state.isFocusTriggeredByMouse||this.setState({isMenuOpen:!0})}.bind(this),this.onBlur=function(){this.state.isFocusTriggeredByMouse?this.setState({isFocusTriggeredByMouse:!1}):this.setState({isMenuOpen:!1})}.bind(this),this.onMouseDown=function(){return this.setState({isFocusTriggeredByMouse:!0})}.bind(this),this.onMouseOverButton=function(){return this.setState({isMenuOpen:!0})}.bind(this),this.onMouseLeave=function(){return this.setState({isMenuOpen:!1})}.bind(this),b}a.prototype.shouldComponentUpdate=function(a,c){"use strict";return b("shallowCompare")(this,a,c)};a.prototype.createRateItem=function(a,c,d){"use strict";var e=function(a){d(),a.preventDefault()},f=null;c&&(f=b("React").createElement("div",{className:"_2iw1"}));c=b("React").createElement("div",{className:"_2iw3",style:{backgroundColor:"inherit"}},f);return b("React").createElement("a",{href:"#",key:a,className:"_2iw4",onClick:e,tabIndex:this.props.tabIndex},c,b("React").createElement("div",{className:"_2iw5 _2iw6"},a))};a.prototype.render=function(){"use strict";__p&&__p();var a=j(this.state.rate),c=null;if(!this.props.disabled){var d=[.5,1,1.25,1.5,1.75,2,2.5,3];d=d.map(function(a){return this.createRateItem(j(a),this.state.rate==a,function(){this.props.onSelectPlaybackRate&&this.props.onSelectPlaybackRate(a),this.setState({rate:a})}.bind(this))}.bind(this));c=b("React").createElement("div",{className:"_67bw"+(this.state.isMenuOpen?" _2iw8":"")},b("React").createElement("div",{className:"_2i_w"},b("React").createElement("div",{className:"_2i_x"},b("React").createElement("div",{className:"_2iw5"},h._("Play Speed")),d,b("React").createElement("div",{className:"_ukl"}))))}d="_zbd _66_y"+(!b("VideoPlayerExperiments").embeddedPlayerEnhancements||!this.props.isEmbedded?" _66_z":"");d=b("React").createElement(b("AbstractButton.react"),{className:d,label:a,onMouseDown:this.onMouseDown,onMouseOver:this.onMouseOverButton,ref:"button",tabIndex:this.props.tabIndex,type:"button"});return b("React").createElement("div",{className:"_2j04",onFocus:this.onFocus,onBlur:this.onBlur,onMouseLeave:this.onMouseLeave},d,c)};a.propTypes={isEmbedded:c.bool,onSelectPlaybackRate:c.func,tabIndex:c.string};a.defaultProps={tabIndex:"-1"};e.exports=a}),null);
__d("VideoPlaybackTimer.react",["cx","DateConsts","React","VideoPlayerExperiments","joinClasses","shallowCompare"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(a){"use strict";h.constructor.call(this,a),this.state={displayRemainingTime:!this.props.displayElapsedTime,displayPreferenceSet:!1}}a.prototype.shouldComponentUpdate=function(a,c){"use strict";return b("shallowCompare")(this,a,c)};a.prototype.UNSAFE_componentWillReceiveProps=function(a){"use strict";this.state.displayPreferenceSet||this.setState({displayRemainingTime:!a.displayElapsedTime})};a.prototype.getClock=function(a){"use strict";__p&&__p();var c="";isNaN(a)?a=0:a<0&&(a*=-1,c="-");var d=Math.floor(a/b("DateConsts").SEC_PER_HOUR),e=Math.floor((a-d*b("DateConsts").SEC_PER_HOUR)/b("DateConsts").SEC_PER_MIN),f=null;!this.props.displayMilliseconds?f=Math.round(a-d*b("DateConsts").SEC_PER_HOUR-e*b("DateConsts").SEC_PER_MIN):f=Math.floor(a-d*b("DateConsts").SEC_PER_HOUR-e*b("DateConsts").SEC_PER_MIN);f===b("DateConsts").SEC_PER_MIN&&(f=0,e++);e===b("DateConsts").MIN_PER_HOUR&&(e=0,d++);a=a-d*b("DateConsts").SEC_PER_HOUR-e*b("DateConsts").SEC_PER_MIN-f;a=Math.round(a*b("DateConsts").MS_PER_SEC);var g=("0"+e).slice(-2);f=("0"+f).slice(-2);a=("00"+a).slice(-3);c=c;d===0?c+=e+":"+f:c+=d+":"+g+":"+f;this.props.displayMilliseconds&&(c+="."+a);return c};a.prototype.onButtonClick=function(){"use strict";this.setState({displayRemainingTime:!this.state.displayRemainingTime,displayPreferenceSet:!0})};a.prototype.render=function(){"use strict";__p&&__p();var a=this.state.displayPreferenceSet?this.state.displayRemainingTime:!this.props.displayElapsedTime;a=a?this.props.remainingTimestamp:this.props.playbackPosTimestamp;var c="_66_y"+((!b("VideoPlayerExperiments").embeddedPlayerEnhancements||!this.props.isEmbedded)&&!this.props.displayBothTimes?" _66_z":"");this.props.isInScrubberPreview&&(c="_66_-");var d=Object.assign({},this.props);delete d.displayElapsedTime;delete d.displayMilliseconds;delete d.isInScrubberPreview;delete d.playbackPosTimestamp;delete d.remainingTimestamp;delete d.isEmbedded;return this.props.displayBothTimes?b("React").createElement("div",babelHelpers["extends"]({},d,{className:b("joinClasses")(this.props.className,c)}),b("React").createElement("span",{className:"_66_z"},this.getClock(this.props.playbackPosTimestamp)),b("React").createElement("span",null," / "),b("React").createElement("span",null,this.getClock(this.props.playbackDurationTimestamp))):b("React").createElement("div",babelHelpers["extends"]({},d,{className:b("joinClasses")(this.props.className,c),onClick:this.props.isLiveVideo?undefined:this.onButtonClick.bind(this),role:"button",tabIndex:"0"}),this.getClock(a))};a.propTypes={isEmbedded:c.bool,isInScrubberPreview:c.bool,playbackDurationTimestamp:c.number,playbackPosTimestamp:c.number,remainingTimestamp:c.number,displayElapsedTime:c.bool,displayMilliseconds:c.bool,displayBothTimes:c.bool,useDarkTheme:c.bool};a.defaultProps={isInScrubberPreview:!1,playbackDurationTimestamp:0,playbackPosTimestamp:0,remainingTimestamp:0,displayElapsedTime:!1,displayMilliseconds:!1,displayBothTimes:!1,useDarkTheme:!1};e.exports=a}),null);
__d("PrevVideoControlOverlay.react",["cx","fbt","React","TahoeLoggerEvent","TahoeTypedLogger","VideoControlsVideoInfoOverlay.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){return b("React").createElement(b("VideoControlsVideoInfoOverlay.react"),{videoID:this.props.prevVideoID,mouseOnBtn:this.props.mouseOnBtn,logOverlayClick:this.$1.bind(this),label:h._("PREVIOUS"),customClassName:"_6eeb"})};a.prototype.$1=function(){new(b("TahoeTypedLogger"))().setEvent(b("TahoeLoggerEvent").PREV_CONTROL_CLICK).setMediaID(this.props.currentVideoID).log()};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("VideoPrevControl.react",["ix","cx","fbt","AbstractButton.react","AsyncRequest","Image.react","PrevVideoControlOverlay.react","React","TahoeLoggerEvent","TahoeTypedLogger","URI","XTahoeVideoDataAsyncController","asset","prevNextControlStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=500;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.state={mouseOnBtn:!1},b}a.prototype.componentDidMount=function(){b("prevNextControlStore").subscribe(this.forceUpdate.bind(this))};a.prototype.shouldComponentUpdate=function(a,b){return this.state.mouseOnBtn!==b.mouseOnBtn};a.prototype.render=function(){var a=b("React").createElement(b("Image.react"),{className:"_rwt",src:g("597342")}),c=b("prevNextControlStore").getState().videoIdQueue,d=b("React").createElement(b("PrevVideoControlOverlay.react"),{currentVideoID:this.props.videoID,prevVideoID:c[c.length-1],mouseOnBtn:this.state.mouseOnBtn});return b("React").createElement("div",{className:"_6bup _6eal"},b("React").createElement(b("AbstractButton.react"),{className:"_zbd _6auz"+(c.length===0?" _132h":""),image:a,label:i._("PREVIOUS"),labelIsHidden:!0,onMouseEnter:this.$1.bind(this),onMouseLeave:this.$2.bind(this),onClick:this.$3.bind(this),type:"button"}),d)};a.prototype.$2=function(){this.state.mouseOnBtn&&setTimeout(function(){this.setState({mouseOnBtn:!1})}.bind(this),k)};a.prototype.$1=function(){new(b("TahoeTypedLogger"))().setEvent(b("TahoeLoggerEvent").PREV_CONTROL_OVERLAY_SHOWN).setMediaID(this.props.videoID).log(),this.state.mouseOnBtn||this.setState({mouseOnBtn:!0})};a.prototype.$3=function(){__p&&__p();new(b("TahoeTypedLogger"))().setEvent(b("TahoeLoggerEvent").PREV_CONTROL_CLICK).setMediaID(this.props.videoID).log();var a=b("prevNextControlStore").getState().videoIdQueue;if(a.length>0){a=a[a.length-1];new(b("AsyncRequest"))(b("XTahoeVideoDataAsyncController").getURIBuilder().setFBIDSet("video_ids",[a]).getURI()).setHandler(function(a){a=(a=a)!=null?(a=a.payload)!=null?a.videosData:a:a;if(a&&a.length>0&&a[0]){a=a[0].permalink;a&&b("URI").go(a)}}).send()}};e.exports=a}),null);
__d("AdBreakInsertionDisabledReason",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BRANDED_CONTENT:"branded_content",BROADCAST:"broadcast",HAS_LIVE_AD_BREAKS:"has_live_ad_breaks",NO_PERMISSION:"no_permission",NOT_ONBOARDED:"not_onboarded",NOT_ORGANIC_UPLOAD:"not_organic_upload",TRIMMED_VIDEO_TOO_SHORT:"trimmed_video_too_short",VIDEO_TOO_SHORT:"video_too_short"})}),null);
__d("VideoInstreamUtils",["fbt","AdBreakInsertionDisabledReason","DateConsts","VideoInstreamAdsConstants"],(function(a,b,c,d,e,f,g){__p&&__p();var h={convertFormattedTimeToSeconds:function(a){__p&&__p();var c=0;a=a.split(".");if(a.length>2)return null;if(a.length===2){if(a[1].length===0)return null;var d=a[1];while(d.length<3)d+="0";d=Number(d);if(isNaN(d)||d<0||d>=b("DateConsts").MS_PER_SEC)return null;c+=d/b("DateConsts").MS_PER_SEC}d=a[0].split(":");if(d.length>3)return null;for(var a=0;a<d.length;a++){if(d[a].length===0)return null;var e=Number(d[a]);if(isNaN(e)||e<0||e>=60)return null;c+=e*Math.pow(60,d.length-a-1)}return c},convertTimestampToFormattedString:function(a){__p&&__p();a=Math.round(a*b("DateConsts").MS_PER_SEC)/b("DateConsts").MS_PER_SEC;var c=Math.floor(a/b("DateConsts").SEC_PER_HOUR);a=a-c*b("DateConsts").SEC_PER_HOUR;var d=Math.floor(a/b("DateConsts").SEC_PER_MIN),e=Math.floor(a-d*b("DateConsts").SEC_PER_MIN);a=Math.round(a*b("DateConsts").MS_PER_SEC);var f=("0"+c).slice(-2);d=("0"+d).slice(-2);e=("0"+e).slice(-2);a=("00"+a).slice(-3);var g="";c>0&&(g+=f+":");return g+=d+":"+e+"."+a},getMaxPossibleAdBreaks:function(a,c){a=Math.ceil(a)*b("DateConsts").MS_PER_SEC;if(a<b("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH_MS)return 0;if(!c)return b("VideoInstreamAdsConstants").AD_INSERTION_MAXIMUM_NUMBER_OF_AD_BREAKS;c=(a-b("VideoInstreamAdsConstants").AD_INSERTION_END_TIME_OFFSET_MS-b("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS)/b("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS;return Math.max(0,Math.floor(c)+1)},getEligibleTimeSegments:function(a,c,d){__p&&__p();var e=h.getMaxPossibleAdBreaks(c,d);if(e===0||!d&&a.length>=e)return[];var f=b("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS/b("DateConsts").MS_PER_SEC,g=c-b("VideoInstreamAdsConstants").AD_INSERTION_END_TIME_OFFSET_MS/b("DateConsts").MS_PER_SEC,i=b("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS/b("DateConsts").MS_PER_SEC;if(a.length===0||!d)return[{start:f,end:g}];var j=[];a.forEach(function(b,c){__p&&__p();if(c===0){var d=b.timeOffset-i;d>=f&&j.push({start:f,end:d})}if(c-1>=0){d=a[c-1].timeOffset+i;var e=b.timeOffset-i;d<=e&&j.push({start:d,end:e})}if(c===a.length-1){d=b.timeOffset+i;d<=g&&j.push({start:d,end:g})}});return j},isInEligibleTimeSegments:function(a,b,c,d){if(a===null||a===undefined)return!1;c=h.getEligibleTimeSegments(c,b,d);for(var b=0;b<c.length;b++)if(a>=c[b].start&&a<=c[b].end)return!0;return!1},isAdBreakViolatingInsertionRules:function(a,c,d,e){__p&&__p();var f=a[c];if(f.timeOffset*b("DateConsts").MS_PER_SEC<b("VideoInstreamAdsConstants").AD_INSERTION_START_TIME_OFFSET_MS)return!0;if((d-f.timeOffset)*b("DateConsts").MS_PER_SEC<b("VideoInstreamAdsConstants").AD_INSERTION_END_TIME_OFFSET_MS)return!0;if(e)for(var d=0;d<a.length;d++){if(d===c||a[d].timeOffset>=f.timeOffset)continue;if((f.timeOffset-a[d].timeOffset)*b("DateConsts").MS_PER_SEC<b("VideoInstreamAdsConstants").AD_INSERTION_INTERVAL_MS)return!0}return!1},getAdBreakTabState:function(a,c,d,e){a=new Set(a);h.getMaxPossibleAdBreaks(d,e)===0&&a.add(b("AdBreakInsertionDisabledReason").VIDEO_TOO_SHORT);c&&a.add(b("AdBreakInsertionDisabledReason").BRANDED_CONTENT);return this._getAdBreakTabStateFromDisabledReasons(a)},_getAdBreakTabStateFromDisabledReasons:function(a){if(a.size===0)return{disabled:!1,errorMessageHeader:null,errorMessageContent:null};else if(a.has(b("AdBreakInsertionDisabledReason").VIDEO_TOO_SHORT))return{disabled:!0,errorMessageHeader:g._({"*":"Videos Must Be {insertion interval} Seconds or Longer"},[g._param("insertion interval",b("VideoInstreamAdsConstants").AD_INSERTION_MINIMUM_VIDEO_LENGTH,[0])]),errorMessageContent:g._("Your video is too short to include ad breaks.")};else if(a.has(b("AdBreakInsertionDisabledReason").NOT_ORGANIC_UPLOAD))return{disabled:!0,errorMessageHeader:g._("Ad Breaks Not Available"),errorMessageContent:g._("Ad breaks can only be placed in original videos, not crossposted or reshared videos.")};else if(a.has(b("AdBreakInsertionDisabledReason").BRANDED_CONTENT))return{disabled:!0,errorMessageHeader:g._("Ad Breaks Not Available"),errorMessageContent:g._("Ad breaks can't be used in this video because it contains tagged business partners.")};return{disabled:!0,errorMessageHeader:g._("Ad Breaks Not Available"),errorMessageContent:null}}};e.exports=h}),null);
__d("VideoScrubberAnnotatedMomentOfInterest.react",["cx","React","ShimButton.react","SUIAtlasChromeTheme","SUITooltip.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){"use strict";var a=this.props.timestamp;if(a<0||a>this.props.playbackDuration)return b("React").createElement("div",null);var c=a*100/this.props.playbackDuration+"%",d=this.props.annotation;return b("React").createElement("div",{style:{marginLeft:c}},b("React").createElement("div",{className:"_2egj"},b("React").createElement(b("SUITooltip.react"),{alignment:"center",tooltip:d,theme:b("SUIAtlasChromeTheme"),offset:10,maxWidth:150},b("React").createElement(b("ShimButton.react"),{className:"_2egk _2egl",onClick:function(b){return this.props.onPointOfInterestSelect(a)}.bind(this),style:{left:c}}))))};function a(){"use strict";h.apply(this,arguments)}a.propTypes={annotation:c.string.isRequired,playbackDuration:c.number.isRequired,timestamp:c.number.isRequired,onPointOfInterestSelect:c.func.isRequired};e.exports=a}),null);
__d("VideoScrubberAnnotatedMomentOfInterestBar.react",["cx","React","VideoScrubberAnnotatedMomentOfInterest.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.$1=function(a,c){"use strict";return b("React").createElement(b("VideoScrubberAnnotatedMomentOfInterest.react"),{key:"poi"+a,annotation:c,playbackDuration:this.props.playbackDuration,timestamp:a,onPointOfInterestSelect:this.props.onPointOfInterestSelect})};a.prototype.render=function(){"use strict";return b("React").createElement("div",{className:"_3fh5"},b("React").createElement("div",{className:"_3fh8"},Object.entries(this.props.pointsOfInterest).map(function(a){var b=a[0];a=a[1];return this.$1(parseInt(b,10),String(a))}.bind(this))))};function a(){"use strict";h.apply(this,arguments)}a.propTypes={playbackDuration:c.number.isRequired,onPointOfInterestSelect:c.func.isRequired,pointsOfInterest:c.object.isRequired};e.exports=a}),null);
__d("VideoScrubberPointOfInterestBar.react",["cx","React","ShimButton.react","VideoPlaybackTimer.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i;c=b("React").PropTypes;d=babelHelpers.inherits(j,b("React").PureComponent);h=d&&d.prototype;function j(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={visibility:"hidden"},b}j.prototype.render=function(){"use strict";var a=this.props.timestamp,c=a*100/this.props.playbackDuration+"%",d=b("React").createElement(b("VideoPlaybackTimer.react"),{className:"_zs-",isInScrubberPreview:!0,playbackPosTimestamp:0,remainingTimestamp:a,style:{left:c,visibility:this.state.visibility}});return b("React").createElement("div",null,b("React").createElement(b("ShimButton.react"),{className:"_zt2"+(this.props.isActive?" _zt3":""),onClick:function(b){return this.props.onPointOfInterestSelect(a)}.bind(this),onMouseEnter:function(a){return this.setState({visibility:"visible"})}.bind(this),onMouseLeave:function(a){return this.setState({visibility:"hidden"})}.bind(this),style:{left:c}}),this.props.showPointOfInterestTimestamps&&d)};j.propTypes={playbackDuration:c.number.isRequired,timestamp:c.number.isRequired,isActive:c.bool.isRequired,showPointOfInterestTimestamps:c.bool.isRequired,onPointOfInterestSelect:c.func.isRequired};f=babelHelpers.inherits(a,b("React").Component);i=f&&f.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){return b("React").createElement(j,{key:"poi"+a,playbackDuration:this.props.playbackDuration,timestamp:a,isActive:a===this.props.currentPointOfInterest,onPointOfInterestSelect:this.props.onPointOfInterestSelect,showPointOfInterestTimestamps:!!this.props.showPointOfInterestTimestamps})}.bind(this),c}a.prototype.shouldComponentUpdate=function(a,b){"use strict";return a.tabIndex!=this.props.tabIndex||a.currentPointOfInterest!==this.props.currentPointOfInterest||a.playbackDuration!=this.props.playbackDuration||a.pointsOfInterest.length!=this.props.pointsOfInterest.length||a.pointsOfInterest.some(function(a,b){return this.props.pointsOfInterest[b]!=a}.bind(this))};a.prototype.render=function(){"use strict";return b("React").createElement("div",{className:"_zud",tabIndex:this.props.tabIndex},b("React").createElement("div",{className:"_zue"},this.props.pointsOfInterest.map(this.$1,this)))};a.propTypes={tabIndex:c.string.isRequired,playbackDuration:c.number.isRequired,onPointOfInterestSelect:c.func.isRequired,currentPointOfInterest:c.number,pointsOfInterest:c.array.isRequired,showPointOfInterestTimestamps:c.bool};e.exports=a}),null);
__d("VideoScrubberPreviewSpriteCalculation",[],(function(a,b,c,d,e,f){__p&&__p();a={getImageCoordinatesInSpriteByTime:function(a,b){var c=this.getTotalTimeInSprite(b.maxImagesPerSprite,b.timeIntervalBetweenImages);a=Math.floor(a%c/b.timeIntervalBetweenImages);c=Math.floor(a/b.imagesPerRow);a=a%b.imagesPerRow;return{x:a*b.previewScrubberWidth,y:c*b.previewScrubberHeight}},getSpriteIndex:function(a,b,c){b=this.getTotalTimeInSprite(b,c);return Math.floor(a/b)+1},getTotalTimeInSprite:function(a,b){return a*b}};e.exports=a}),null);
__d("VideoScrubber.react",["cx","fbt","BootloadedComponent.react","DateConsts","EventListener","JSResource","Keys","ProfileTile.react","React","ReactDOM","Tooltip.react","VideoInstreamAdsConstants","VideoInstreamUtils","VideoPlaybackTimer.react","VideoScrubberAnnotatedMomentOfInterestBar.react","VideoScrubberPointOfInterestBar.react","VideoScrubberPreviewSpriteCalculation","VideoStereoFormat","emptyFunction","getElementPosition","gkx","joinClasses","shallowCompare"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(a){"use strict";i.constructor.call(this,a),this.$6=new Map(),this.$6.set(0,""),this.$9=0,this.state={awaitingUpdate:!1,barCoords:{x:0,y:0,height:0,width:0},mouseOver:!1,nubEngaged:!1,previewRatio:0,scrubRatio:0,timecodeRatio:0,timecodeTimestamp:0,scrubberPreviewSpriteIndex:0,scrubberPreviewBackgroundPosition:{x:0,y:0},previewThumbnailInformation:{timeIntervalBetweenImages:0,maxImagesPerSprite:0,imagesPerRow:0,imagesPerColumn:0,previewScrubberWidth:0,previewScrubberHeight:0,stereoMode:null,scrubberVideoURI:null,useScrubberVideo:!1},lastSpriteDimension:{numRow:0,numColumn:0},shouldIgnoreClipStartTS:!1}}a.prototype.shouldComponentUpdate=function(a,c){"use strict";return b("shallowCompare")(this,a,c)};a.prototype.onDragNubBeginImpl=function(a,b){"use strict";this.setState({nubEngaged:!0,scrubRatio:this.getPositionRatio(b,this.state.barCoords)}),this.props.onScrubBegin&&this.props.onScrubBegin(),a.stopPropagation(),a.preventDefault()};a.prototype.onDragNubBeginClick=function(a){"use strict";if(a.button!==0)return;this.onDragNubBeginImpl(a,a.clientX)};a.prototype.onDragNubBeginTouch=function(a){"use strict";if(this.props.alwaysShowThumbnail)return;a.persist();var c=b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.bar));this.setState({barCoords:c},function(){return this.onDragNubBeginImpl(a,a.touches[0].clientX)}.bind(this))};a.prototype.UNSAFE_componentWillReceiveProps=function(a){"use strict";this.setState({awaitingUpdate:!1});if(this.props.alwaysShowThumbnail){var c=b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.bar));this.setState({barCoords:c});this.$8=null;this.$7=null;this.timecodeUpdate(c.x+c.width*this.getPlayedRatio(a.playbackDuration,a.playbackPosition))}};a.prototype.componentDidUpdate=function(a,c){"use strict";!c.nubEngaged&&this.state.nubEngaged?(this.$1=b("EventListener").listen(document,"mousemove",function(a){this.onDragNubUpdate(a.clientX),this.onTimecodeUpdate(a,a.clientX)}.bind(this)),this.$2=b("EventListener").listen(document,"mouseup",this.onDragNubRelease.bind(this)),this.$4=b("EventListener").listen(document,"touchmove",function(a){this.onDragNubUpdate(a.touches[0].clientX),this.onTimecodeUpdate(a,a.touches[0].clientX)}.bind(this)),this.$3=b("EventListener").listen(document,"touchend",this.onDragNubRelease.bind(this))):c.nubEngaged&&!this.state.nubEngaged&&(this.$1&&this.$1.remove(),this.$2&&this.$2.remove(),this.$4&&this.$4.remove(),this.$3&&this.$3.remove()),!c.mouseOver&&this.state.mouseOver?this.$5=b("EventListener").listen(document,"mousemove",function(a){return this.onTimecodeUpdate(a,a.clientX)}.bind(this)):c.mouseOver&&!this.state.mouseOver&&(this.$5&&this.$5.remove())};a.prototype.timecodeUpdate=function(a){"use strict";__p&&__p();var c=this.props.playbackDuration;if(!c)return;var d=this.getPositionRatio(a,this.state.barCoords)*c,e=this.$7?this.$7:b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.timecode));this.$7=e;if(!this.props.hasScrubberPreview){c=this.getPositionRatio(a,this.state.barCoords)-Math.ceil(e.width/2)/this.state.barCoords.width;this.setState({timecodeTimestamp:d,timecodeRatio:c})}else this.props.previewThumbnailInformation&&(this.state.previewThumbnailInformation.previewScrubberWidth===0&&this.retrievePreviewThumbnailInfo(),b("ReactDOM").unstable_batchedUpdates(function(){this.state.previewThumbnailInformation.useScrubberVideo&&this.state.previewThumbnailInformation.scrubberVideoURI!==null?this.updatePreviewThumbnailVideo(d,e,a):this.props.scrubberPreviewSprites&&this.updatePreviewThumbnail(this.props.scrubberPreviewSprites,d,e,a)}.bind(this)))};a.prototype.onTimecodeUpdate=function(a,b){"use strict";this.timecodeUpdate(b),a.preventDefault(),a.stopPropagation()};a.prototype.updatePreviewThumbnail=function(a,b,c,d){"use strict";__p&&__p();this.setState({timecodeTimestamp:b});b=Math.floor(b);var e=this.$6;this.isSpriteMapURIFetched()||(this.$6=a);if(this.state.previewThumbnailInformation){a=this.state.previewThumbnailInformation;this.updatePreviewThumbnailImage(b,a,e)}this.updatePreviewThumbnailLocation(c,d)};a.prototype.updatePreviewThumbnailVideo=function(a,c,d){"use strict";this.setState({timecodeTimestamp:a});var e=b("ReactDOM").findDOMNode(this.refs.previewThumbnailVideo);e.currentTime=a/30;this.updatePreviewThumbnailLocation(c,d)};a.prototype.updatePreviewThumbnailLocation=function(a,c){"use strict";var d=this.$8?this.$8:this.$8=b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.previewThumbnailContainer));this.$8=d;c=this.getPositionRatio(c,this.state.barCoords)-Math.ceil(d.width/2)/this.state.barCoords.width;a=(d.width-a.width)/(2*d.width);this.setState({timecodeRatio:a,previewRatio:c})};a.prototype.updatePreviewThumbnailImage=function(a,c,d){"use strict";__p&&__p();d=b("VideoScrubberPreviewSpriteCalculation").getImageCoordinatesInSpriteByTime(a,c);a=b("VideoScrubberPreviewSpriteCalculation").getSpriteIndex(a,c.maxImagesPerSprite,c.timeIntervalBetweenImages);if(a==this.getNumberOfSprites()&&this.state.lastSpriteDimension.numRow==0&&this.$6){c=this.$6.get(a);var e=new Image(),f=this.onLastImageLoad.bind(this);e.onload=function(){f(this.width,this.height)};e.src=c}this.setState({scrubberPreviewSpriteIndex:a,scrubberPreviewBackgroundPosition:d})};a.prototype.onLastImageLoad=function(a,b){"use strict";this.setState({lastSpriteDimension:{numRow:b/this.state.previewThumbnailInformation.previewScrubberHeight,numColumn:a/this.state.previewThumbnailInformation.previewScrubberWidth}})};a.prototype.retrievePreviewThumbnailInfo=function(){"use strict";this.setState({previewThumbnailInformation:this.props.previewThumbnailInformation})};a.prototype.isSpriteMapURIFetched=function(){"use strict";if(this.$6)return this.$6.size>1;else return!1};a.prototype.getPositionRatio=function(a,b){"use strict";a=a-b.x;a=a/b.width;return Math.min(Math.max(0,a),1)};a.prototype.onDragNubUpdate=function(a){"use strict";this.setState({scrubRatio:this.getPositionRatio(a,this.state.barCoords)})};a.prototype.onDragNubRelease=function(a){"use strict";__p&&__p();var c=this.props.playbackDuration;if(!c)return;var d=this.state.awaitingUpdate;c=this.state.scrubRatio*c;this.props.onScrubEnd&&(this.props.onScrubEnd(c),d=!0);var e=this.props.videoClipInfo;e&&e.start_time_in_ms!==null&&(c<=e.start_time_in_ms/b("DateConsts").MS_PER_SEC&&this.setState({shouldIgnoreClipStartTS:!0}));this.setState({nubEngaged:!1,awaitingUpdate:d});a.preventDefault();a.stopPropagation()};a.prototype.getPlayedRatio=function(a,b){"use strict";if(this.state.nubEngaged||this.state.awaitingUpdate)return this.state.scrubRatio;if(!a||!b)return 0;b=b/a;return this.getRangeLimitedRatio(b)};a.prototype.getBufferedRatio=function(){"use strict";var a=this.props.playbackDuration,b=this.props.bufferedPosition;if(!a||!b)return 0;b=b/a;return this.getRangeLimitedRatio(b)};a.prototype.getRangeLimitedRatio=function(a){"use strict";return isNaN(a)||a<0||a>1?0:a};a.prototype.getNumberOfSprites=function(){"use strict";return this.$6?this.$6.size:0};a.prototype.getAdBreakIndicators=function(){"use strict";__p&&__p();if(!this.props.playbackDuration||!this.props.adBreaks)return null;var a=[];for(var c=0;c<this.props.adBreaks.length;c++){var d=this.props.adBreaks[c],e=d.getTimeOffsetInMs();if(e===null||e===undefined)continue;e/=b("DateConsts").MS_PER_SEC;var f=this.props.playbackDuration;if(e<0||e>f)continue;e={left:e/f*100+"%"};f=[];this.props.adBreaksDisableReasons&&(f=this.props.adBreaksDisableReasons[c]);var g="[FB Only] The ad break is disabled for "+f.join(", ")+".";a.push(b("React").createElement("div",{key:"ad_break_indicator_"+c,style:e,className:(f.length===0?"_1p4l":"")+(f.length>0?" _1p4m":"")+(d.getIsAdBreakAutoInserted()&&f.length===0?" _1p4n":"")+(d.getIsAdBreakAutoInserted()&&f.length>0?" _1p4o":"")},f.length>0?b("React").createElement(b("Tooltip.react"),{tooltip:g},"X"):null))}return b("React").createElement("div",null,a)};a.prototype.getInsertedAdBreaks=function(){"use strict";__p&&__p();if(!this.props.playbackDuration||!this.props.insertedAdBreaks)return null;var a=[];this.props.insertedAdBreaks.map(function(c,d){c=c.timeOffset;var e=this.props.playbackDuration;c={left:"calc("+c/e*100+"% - 2px)"};a.push(b("React").createElement("div",{key:"inserted_ad_break"+d,style:c,className:(this.props.isAdBreakInsertionWithoutGapRule?"":"_1p4q")+(this.props.isAdBreakInsertionWithoutGapRule?" _1p4r":"")+(this.props.isAdBreakDisabled?" _1p4s":"")},this.props.isAdBreakInsertionWithoutGapRule?null:d+1))}.bind(this));return b("React").createElement("div",null,a)};a.prototype.getEligibleAdBreaksTimeSegments=function(){"use strict";__p&&__p();if(!this.props.playbackDuration||!this.props.insertedAdBreaks)return null;if(this.props.isAdBreakInsertionWithoutGapRule&&this.props.insertedAdBreaks&&this.props.insertedAdBreaks.length>=b("VideoInstreamAdsConstants").AD_INSERTION_MAXIMUM_NUMBER_OF_AD_BREAKS)return null;var a=0;this.state.awaitingUpdate?a=this.$9:a=this.props.playbackPosition;var c=this.props.playbackDuration,d=b("VideoInstreamUtils").getEligibleTimeSegments(this.props.insertedAdBreaks,c,!this.props.isAdBreakInsertionWithoutGapRule);this.state.nubEngaged?this.$9=this.state.timecodeTimestamp:this.$9=a;var e=[];d.forEach(function(a,d){var f=(a.end-a.start)/c*100,g=this.$9>=a.start&&this.$9<=a.end;a={left:"calc("+a.start/c*100+"% - 2px)",width:f+"%"};e.push(b("React").createElement("span",{key:"time_segment"+d,className:"_1p4t"+(g?" _1p4u":""),style:a}))}.bind(this));return b("React").createElement("div",{className:"_1p50"},e)};a.prototype.onMouseEnter=function(a){"use strict";if(this.props.alwaysShowThumbnail)return;a=b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.bar));this.setState({mouseOver:!0,barCoords:a})};a.prototype.onMouseLeave=function(a){"use strict";if(this.props.alwaysShowThumbnail)return;b("ReactDOM").findDOMNode(this.refs.bar).blur();b("ReactDOM").unstable_batchedUpdates(function(){this.setState({mouseOver:!1}),this.state.nubEngaged||this.setState({scrubberPreviewSpriteIndex:0,scrubberPreviewBackgroundPosition:{x:0,y:0}})}.bind(this));this.$8=null;this.$7=null};a.prototype.onMouseEnterOnThumbnailOrTimecode=function(a){"use strict";if(this.state.nubEngaged||this.props.alwaysShowThumbnail)return;this.props.hasScrubberPreview?a=this.refs.previewThumbnailContainer:a=this.refs.timecode;a=b("ReactDOM").findDOMNode(a);a.style.visibility="hidden"};a.prototype.onMouseLeaveOnThumbnailOrTimecode=function(a){"use strict";if(this.state.nubEngaged||this.props.alwaysShowThumbnail)return;this.props.hasScrubberPreview?a=this.refs.previewThumbnailContainer:a=this.refs.timecode;a=b("ReactDOM").findDOMNode(a);a.style.visibility="visible"};a.prototype.onKeyDown=function(a){"use strict";__p&&__p();var c=this.props.playbackDuration,d=this.props.playbackPosition;if(!c||!d)return;d=d;if(a.keyCode===b("Keys").RIGHT){a.preventDefault();a.stopPropagation();if(this.props.isLiveVideo&&this.props.onLiveRewindSeekForward){this.props.onLiveRewindSeekForward();return}d+=5;d>=c&&(d=c-.01)}else if(a.keyCode===b("Keys").LEFT){a.preventDefault();a.stopPropagation();if(this.props.isLiveVideo&&this.props.onLiveRewindSeekBack){this.props.onLiveRewindSeekBack();return}d-=5;d<0&&(d=0)}else if(a.keyCode===b("Keys").HOME){a.preventDefault();a.stopPropagation();if(this.props.isLiveVideo&&this.props.onLiveRewindToBeginning){this.props.onLiveRewindToBeginning();return}d=0}else if(a.keyCode===b("Keys").END){a.preventDefault();a.stopPropagation();if(this.props.isLiveVideo&&this.props.onLiveRewindToLive){this.props.onLiveRewindToLive();return}d=c-.01}else return;this.props.onScrubEnd&&this.props.onScrubEnd(d)};a.prototype.canShowHeatmap=function(){"use strict";return this.props.interestLevels!=null&&this.props.isPlaying!=null&&this.props.controlsHidden!=null&&this.props.drawer!=null};a.prototype.render=function(){"use strict";__p&&__p();var a=b("joinClasses")(this.props.className,"_2yu5"+(this.state.nubEngaged?" _2yu6":"")),c=(this.props.hasScrubberPreview?"_3iit":"")+(this.props.hasScrubberPreview?"":" _3iiu"),d={width:this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)*100+"%"},e={width:this.getBufferedRatio()*100+"%"},f=this.props.videoClipInfo,g="0%";if(f){var i=this.getRangeLimitedRatio(f.start_time_in_ms/b("DateConsts").MS_PER_SEC/this.props.playbackDuration);g=i*100+"%";this.state.shouldIgnoreClipStartTS||(d={width:this.getRangeLimitedRatio(this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)-i)*100+"%",marginLeft:g},e={width:this.getRangeLimitedRatio(this.getBufferedRatio()-i)*100+"%",marginLeft:g})}i={left:this.state.timecodeRatio*100+"%"};var j={},k={},l=null,m=null,n=null;if(this.state.mouseOver||this.state.nubEngaged||this.props.alwaysShowThumbnail){n=b("React").createElement(b("VideoPlaybackTimer.react"),{className:c,isInScrubberPreview:!0,onMouseEnter:this.onMouseEnterOnThumbnailOrTimecode.bind(this),onMouseLeave:this.onMouseLeaveOnThumbnailOrTimecode.bind(this),playbackPosTimestamp:0,ref:"timecode",remainingTimestamp:this.state.timecodeTimestamp,style:i});if(this.props.hasScrubberPreview&&this.state.previewThumbnailInformation){c=this.state.previewThumbnailInformation.previewScrubberWidth;i=this.state.previewThumbnailInformation.previewScrubberHeight;var o=100,p=100;this.getNumberOfSprites()!==this.state.scrubberPreviewSpriteIndex?(o*=this.state.previewThumbnailInformation.imagesPerRow,p*=this.state.previewThumbnailInformation.imagesPerColumn):this.state.lastSpriteDimension.numRow&&(o*=this.state.lastSpriteDimension.numRow,p*=this.state.lastSpriteDimension.numColumn);var q=this.state.previewThumbnailInformation.stereoMode;q===b("VideoStereoFormat").LEFT_RIGHT?(c/=2,o*=2):q===b("VideoStereoFormat").TOP_BOTTOM&&(i/=2,p*=2);q=1;this.props.isFullscreen?q=1.5:this.props.isInTahoe&&(q=1.2);if(this.state.previewThumbnailInformation.useScrubberVideo&&this.state.previewThumbnailInformation.scrubberVideoURI!==null)j={width:c*q+"px",height:i*q+"px"},m=b("React").createElement("video",{muted:"true",preload:"auto",ref:"previewThumbnailVideo",src:this.state.previewThumbnailInformation.scrubberVideoURI,style:j});else if(this.$6){var r="";if(this.state.scrubberPreviewSpriteIndex){var s=this.$6.get(this.state.scrubberPreviewSpriteIndex);s&&(r="url("+s+")")}var t;o>100?t=o+"% "+p+"%":r="";j={width:c*q+"px",height:i*q+"px",backgroundImage:r,backgroundPosition:"-"+this.state.scrubberPreviewBackgroundPosition.x*q+"px -"+this.state.scrubberPreviewBackgroundPosition.y*q+"px",backgroundSize:t};m=b("React").createElement("div",{className:"_3iiw",ref:"previewThumbnail",style:j})}k={left:this.state.previewRatio*100+"%",display:this.props.alwaysShowThumbnail?"block":undefined};l=b("React").createElement("div",{onMouseEnter:this.onMouseEnterOnThumbnailOrTimecode.bind(this),onMouseLeave:this.onMouseLeaveOnThumbnailOrTimecode.bind(this),className:"_3iiv",ref:"previewThumbnailContainer",style:k},m,n)}}s=null;this.props.pointsOfInterest.length>0&&(s=b("React").createElement(b("VideoScrubberPointOfInterestBar.react"),{tabIndex:this.props.tabIndex,playbackDuration:this.props.playbackDuration,onPointOfInterestSelect:this.props.onPointOfInterestSelect,currentPointOfInterest:this.props.currentPointOfInterest,pointsOfInterest:this.props.pointsOfInterest,showPointOfInterestTimestamps:this.props.showPointOfInterestTimestamps}));o=null;p=b("gkx")("AT7Y9hnWd5pbilzcl7lFh32-HD7EMVlcWgz9JemtXl1pgkaX7DJkV5ufEAhC7zBlQbW0rRmqr3VoprtLWKzJrk02");Object.keys(this.props.annotatedMomentsOfInterest).length>0&&p&&(o=b("React").createElement(b("VideoScrubberAnnotatedMomentOfInterestBar.react"),{playbackDuration:this.props.playbackDuration,onPointOfInterestSelect:this.props.onAnnotatedMomentOfInterestSelect,pointsOfInterest:this.props.annotatedMomentsOfInterest}));c=this.getAdBreakIndicators();i=null;if(this.canShowHeatmap()){r=this.props.hasScrubberPreview?l:n;q=null;r!=null&&(q=this.refs[r.ref]);i=b("React").createElement("div",{className:"_27ew"},b("React").createElement("div",{className:"_5h19",style:d},b("React").createElement("div",{className:"_2yua _4sxb",ref:"nub"})),b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("LiveHeatmap.react").__setRef("VideoScrubber.react"),bootloadPlaceholder:b("React").createElement("div",null),controlsHidden:this.props.controlsHidden,drawer:this.props.drawer,interestLevels:this.props.interestLevels,isPlaying:this.props.isPlaying,playedRatio:this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition),bufferedRatio:this.getBufferedRatio(),nubEngaged:this.state.nubEngaged,scrubberPreviewElement:q,ref:"bar",tabIndex:this.props.tabIndex,"aria-label":h._("Change Position")}),r,c)}j=this.props.playbackDuration>500?10:1;k=Math.round(this.getPlayedRatio(this.props.playbackDuration,this.props.playbackPosition)*100*j)/j;m=k+"%";p=this.props.isFullscreen||this.props.isInTahoe;q=b("React").createElement("div",{className:a,onKeyDown:this.onKeyDown.bind(this),onMouseDown:this.onDragNubBeginClick.bind(this),onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this),onTouchStart:this.onDragNubBeginTouch.bind(this)},i?i:b("React").createElement("div",{tabIndex:this.props.tabIndex,role:"slider","aria-orientation":"horizontal","aria-valuemin":"0","aria-valuemax":this.props.playbackDuration,"aria-valuenow":this.props.playbackPosition,"aria-valuetext":m,"aria-label":h._("Change Position"),className:"_2yu7",ref:"bar"},b("React").createElement("div",{className:"_2yu8",style:e}),b("React").createElement("div",{style:d,className:(this.props.isLiveVideo?"":"_2yu9")+(this.props.isLiveVideo&&!this.props.isLiveRewound?" _1p51":"")+(this.props.isLiveRewound?" _1p52":"")},b("React").createElement("div",{className:"_2yua _4sxb",ref:"nub"})),f?b("React").createElement("div",{className:"_355j",style:{width:g}},b("React").createElement(b("ProfileTile.react"),{id:f.sharer_id,size:p?32:24,imageProps:{className:"_355k"},tileProps:{className:"_355n",style:{marginTop:p?-16:-10}}})):null,this.props.hasScrubberPreview?l:n,c,this.getInsertedAdBreaks(),this.getEligibleAdBreaksTimeSegments()));return b("React").createElement("div",null,o,q,s)};a.propTypes={alwaysShowThumbnail:c.bool,annotatedMomentsOfInterest:c.object,bufferedPosition:c.number.isRequired,hasScrubberPreview:c.bool,isFullscreen:c.bool,onAnnotatedMomentOfInterestSelect:c.func,onScrubBegin:c.func.isRequired,onPointOfInterestSelect:c.func,onScrubEnd:c.func.isRequired,playbackDuration:c.number.isRequired,playbackPosition:c.number.isRequired,pointsOfInterest:c.array,previewThumbnailInformation:c.object,scrubberPreviewSprites:c.object,showPointOfInterestTimestamps:c.bool,tabIndex:c.string.isRequired};a.defaultProps={alwaysShowThumbnail:!1,annotatedMomentsOfInterest:{},hasScrubberPreview:!1,pointsOfInterest:[],onAnnotatedMomentOfInterestSelect:b("emptyFunction"),onPointOfInterestSelect:b("emptyFunction"),onScrubBegin:b("emptyFunction"),onScrubEnd:b("emptyFunction"),showPointOfInterestTimestamps:!1};e.exports=a}),null);
__d("VideoSidepaneToggleControl.react",["ix","cx","fbt","AbstractButton.react","Image.react","React","TooltipData","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);j=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.onButtonClick=function(){this.props.onSidePaneToggle()}.bind(this),b}a.prototype.render=function(){var a=this.props.isSidePaneOpen?i._("Click to hide details"):i._("Click to show details"),c=this.props.isSidePaneOpen?g("114795"):g("114783");return b("React").createElement(b("AbstractButton.react"),babelHelpers["extends"]({className:"_zbd"},b("TooltipData").propsFor(a,"above"),{image:b("React").createElement(b("Image.react"),{className:"_23j0",src:c}),label:this.props.label,labelIsHidden:this.props.labelIsHidden,onClick:this.onButtonClick,ref:"button",tabIndex:this.props.tabIndex,type:"button"}))};a.defaultProps={label:i._("Toggle details"),labelIsHidden:!0};a.propTypes={isSidePaneOpen:c.bool,label:c.string,onSidePaneToggle:c.func,tabIndex:c.string};e.exports=a}),null);
__d("SpatialAudioFeedNUX.react",["ix","cx","fbt","AsyncRequest","Image.react","React","XBasicFBNuxDismissController","XUIAmbientNUX.react","XUIText.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=i._("Experience more with Audio 360"),l=i._("Hear sound from all directions when you wear headphones"),m=4576;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(a){j.constructor.call(this,a),this.$1=function(){this.setState({showNux:!1});var a=b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",m).getURI();new(b("AsyncRequest"))().setURI(a).send()}.bind(this),this.state={showNux:!0}}a.prototype.render=function(){return b("React").createElement(b("XUIAmbientNUX.react"),{contextRef:this.props.contextRef,shown:this.state.showNux,position:"below",alignment:"right",onCloseButtonClick:this.$1,width:"auto"},b("React").createElement("div",{className:"_4r0v"},b("React").createElement("div",{className:"_4r0w"},b("React").createElement("div",{className:"_4r0x"},b("React").createElement(b("Image.react"),{src:g("114375")}))),b("React").createElement("div",{className:"_4r0y"},b("React").createElement(b("XUIText.react"),{size:"header4",className:"_4r0z"},k),b("React").createElement(b("XUIText.react"),{size:"meta1",className:"_4r0-"},l))))};e.exports=a}),null);
__d("VideoVolumeSlider.react",["cx","EventListener","React","ReactDOM","getElementPosition","shallowCompare"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(a){"use strict";h.constructor.call(this,a),this.state={awaitingUpdate:!1,engaged:!1,volume:a.volume}}a.prototype.shouldComponentUpdate=function(a,c){"use strict";return b("shallowCompare")(this,a,c)};a.prototype.UNSAFE_componentWillReceiveProps=function(a){"use strict";this.setState({awaitingUpdate:!1})};a.prototype.componentDidUpdate=function(a,c){"use strict";!this.state.engaged&&c.engaged?(this.$2&&this.$2.remove(),this.$1&&this.$1.remove(),this.$3&&this.$3.remove(),this.$4&&this.$4.remove()):this.state.engaged&&!c.engaged&&(this.$1=b("EventListener").listen(document,"mousemove",this.onMouseMove.bind(this)),this.$2=b("EventListener").listen(document,"mouseup",this.onMouseUpImpl.bind(this)),this.$3=b("EventListener").listen(document,"touchmove",this.onTouchMove.bind(this)),this.$4=b("EventListener").listen(document,"touchend",this.onMouseUpImpl.bind(this)))};a.prototype.onMouseDownImpl=function(a,b,c){"use strict";this.props.onVolumeChangeBegin&&this.props.onVolumeChangeBegin(this.state.volume),this.props.isHorizontal?this.setState({engaged:!0,volume:this.getClampedClickPositionVolume(b)}):this.setState({engaged:!0,volume:this.getClampedClickPositionVolume(c)}),a.preventDefault(),a.stopPropagation()};a.prototype.onMouseDown=function(a){"use strict";if(a.button!==0)return;this.onMouseDownImpl(a,a.clientX,a.clientY)};a.prototype.onTouchDown=function(a){"use strict";this.onMouseDownImpl(a,a.touches[0].clientX,a.touches[0].clientY)};a.prototype.getClampedClickPositionVolume=function(a){"use strict";var c=b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.slider)),d=b("getElementPosition")(b("ReactDOM").findDOMNode(this.refs.nub)).height;if(this.props.isHorizontal){var e=a+d/2-c.x;return Math.max(0,Math.min(1,e/c.width))}else{e=c.y-a+c.height+d/2;return Math.max(0,Math.min(1,e/c.height))}};a.prototype.onMouseUpImpl=function(a){"use strict";this.props.onVolumeChangeEnd&&this.props.onVolumeChangeEnd(this.state.volume),this.setState({engaged:!1,awaitingUpdate:!0}),a.preventDefault(),a.stopPropagation()};a.prototype.onMouseMoveImpl=function(a,b,c){"use strict";this.props.isHorizontal?this.setState({volume:this.getClampedClickPositionVolume(b)}):this.setState({volume:this.getClampedClickPositionVolume(c)}),this.props.onVolumeChange&&this.props.onVolumeChange(this.state.volume),a.preventDefault(),a.stopPropagation()};a.prototype.onMouseMove=function(a){"use strict";this.onMouseMoveImpl(a,a.clientX,a.clientY)};a.prototype.onTouchMove=function(a){"use strict";this.onMouseMoveImpl(a,a.touches[0].clientX,a.touches[0].clientY)};a.prototype.getVolume=function(){"use strict";return this.state.engaged||this.state.awaitingUpdate?this.state.volume:this.props.volume};a.prototype.render=function(){"use strict";var a=this.props.isHorizontal||!1,c=a?{width:Math.round(this.getVolume()*100)+"%"}:{height:Math.round(this.getVolume()*100)+"%"};a="_3pao"+(a?" _4sx9":"")+(this.state.engaged?" _2yu6":"");return b("React").createElement("div",{className:a,onMouseDown:this.onMouseDown.bind(this),onTouchStart:this.onTouchDown.bind(this)},b("React").createElement("div",{className:"_4sxa"},b("React").createElement("div",{className:"_3paq",ref:"slider"},b("React").createElement("div",{className:"_3par",style:c},b("React").createElement("div",{className:"_3pas _4sxb",ref:"nub"})))),b("React").createElement("div",{className:"_3pat"}))};a.propTypes={volume:c.number,onVolumeChangeBegin:c.func,onVolumeChangeEnd:c.func,onVolumeChange:c.func};a.defaultProps={volume:0,onVolumeChange:function(a){},onVolumeChangeBegin:function(a){},onVolumeChangeEnd:function(a){}};e.exports=a}),null);
__d("VideoVolumeControl.react",["ix","cx","fbt","invariant","AbstractButton.react","Image.react","Keys","React","ReactDOM","SpatialAudioFeedNUX.react","VideoPlayerVolumeSettings","VideoVolumeSlider.react","VideoWebDriverIDs","asset","shallowCompare"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);k=d&&d.prototype;function a(a){"use strict";k.constructor.call(this,a),this.state={nubEngaged:!1,focused:!1,lastVolumeBeforeMute:1}}a.prototype.shouldComponentUpdate=function(a,c){"use strict";return b("shallowCompare")(this,a,c)};a.prototype.onButtonClick=function(){"use strict";this.checkLastVolumeBeforeMuteInvariant();if(this.props.volume===0)return this.onSliderVolumeChange(this.state.lastVolumeBeforeMute);this.props.onToggleMuted&&this.props.onToggleMuted()};a.prototype.onButtonFocus=function(){"use strict";this.setState({focused:!0})};a.prototype.onButtonBlur=function(){"use strict";this.setState({focused:!1})};a.prototype.onKeyDown=function(a){"use strict";var c=this.props.volume;if(a.keyCode===b("Keys").UP)a.preventDefault(),a.stopPropagation(),c+=.05,c>1&&(c=1);else if(a.keyCode===b("Keys").DOWN)a.preventDefault(),a.stopPropagation(),c-=.05,c<0&&(c=0);else return;this.onSliderVolumeChangeEnd(c)};a.prototype.onMouseOut=function(a){"use strict";b("ReactDOM").findDOMNode(this.refs.button).blur()};a.prototype.getVolume=function(){"use strict";return this.props.isMuted?0:this.props.volume};a.prototype.onSliderVolumeChangeBegin=function(){"use strict";var a=this.props.volume;a>0&&(this.setState({nubEngaged:!0,lastVolumeBeforeMute:a}),b("VideoPlayerVolumeSettings").saveLastVolumeBeforeMute(a))};a.prototype.onSliderVolumeChangeEnd=function(a){"use strict";a>0?(this.setState({lastVolumeBeforeMute:a}),b("VideoPlayerVolumeSettings").saveLastVolumeBeforeMute(a),this.onSliderVolumeChange(a)):(this.props.onVolumeChange(this.state.lastVolumeBeforeMute),this.props.isMuted||this.props.onToggleMuted&&this.props.onToggleMuted()),this.setState({nubEngaged:!1})};a.prototype.onSliderVolumeChange=function(a){"use strict";(a>0&&this.props.isMuted||a===0&&!this.props.isMuted)&&(this.props.onToggleMuted&&this.props.onToggleMuted()),this.props.onVolumeChange&&this.props.onVolumeChange(a)};a.prototype.checkLastVolumeBeforeMuteInvariant=function(){"use strict";this.state.lastVolumeBeforeMute>0&&this.state.lastVolumeBeforeMute<=1||j(0,undefined)};a.prototype.render=function(){"use strict";__p&&__p();if(this.props.isAudioBlocked){var a=b("React").createElement("div",{className:"_6t0i"},i._("Audio unavailable"));return b("React").createElement("div",null,a,b("React").createElement(b("Image.react"),{className:"_rwt",src:g("660433")}))}a=Math.round(this.getVolume()*100);var c=null;if(a==0)c=b("React").createElement(b("Image.react"),{className:"_rwt",src:this.props.useDarkTheme?g("462991"):g("462993")});else{var d=null;a<=33?d=this.props.useDarkTheme?g("462983"):g("462984"):a<=66?d=this.props.useDarkTheme?g("462987"):g("462988"):d=this.props.useDarkTheme?g("462971"):g("443962");c=b("React").createElement("div",{className:"_1age"},b("React").createElement("div",{className:"_1agf"},b("React").createElement(b("Image.react"),{className:"_rwt",src:d})))}a="_2swo"+(this.state.nubEngaged?" _2yu6":"")+(this.state.focused?" _2iw8":"");d="_zbd _1agg";var e=this.getVolume()?i._("Mute"):i._("Unmute"),f=b("React").createElement(b("VideoVolumeSlider.react"),{onVolumeChangeBegin:this.onSliderVolumeChangeBegin.bind(this),onVolumeChangeEnd:this.onSliderVolumeChangeEnd.bind(this),onVolumeChange:this.onSliderVolumeChange.bind(this),isHorizontal:this.props.isHorizontal||!1,volume:this.getVolume()});d=b("React").createElement(b("AbstractButton.react"),{className:d,"data-testid":b("VideoWebDriverIDs").MUTE_UNMUTE_CONTROL,image:c,label:e,labelIsHidden:!0,onBlur:this.onButtonBlur.bind(this),onClick:this.onButtonClick.bind(this),onFocus:this.onButtonFocus.bind(this),onKeyDown:this.onKeyDown.bind(this),onMouseOut:this.onMouseOut.bind(this),ref:"button",tabIndex:this.props.tabIndex,type:"button"});c=this.props.showSpatialAudioNUX?b("React").createElement(b("SpatialAudioFeedNUX.react"),{contextRef:function(){return this.refs.button}.bind(this)}):null;return this.props.isHorizontal?b("React").createElement("div",{className:a},d,f,c):b("React").createElement("div",{className:a},f,d,c)};a.propTypes={isAudioBlocked:c.bool,isMuted:c.bool,onVolumeChange:c.func,onToggleMuted:c.func,tabIndex:c.string,volume:c.number,useDarkTheme:c.bool};a.defaultProps={isAudioBlocked:!1,useDarkTheme:!1};e.exports=a}),null);
__d("VideoControls.react",["cx","fbt","ix","AbstractButton.react","BootloadedComponent.react","Image.react","JSResource","LiveVideoRewindLoggerEvent","LiveVideoRewindTypedLogger","React","TooltipData","VideoClipButton.react","VideoFBIconControl.react","VideoFullscreenControl.react","VideoNextControl.react","VideoPlaybackControl.react","VideoPlaybackRateControl.react","VideoPlaybackTimer.react","VideoPlayerExperiments","VideoPrevControl.react","VideoScrubber.react","VideoSidepaneToggleControl.react","VideoVolumeControl.react","asset","gkx","joinClasses","shallowCompare"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j;c=b("React").PropTypes;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.shouldComponentUpdate=function(a,c){"use strict";return b("shallowCompare")(this,a,c)};a.prototype.isHidden=function(){"use strict";return this.props.hidden};a.prototype.isTransparent=function(){"use strict";return this.props.transparent};a.prototype.render=function(){"use strict";__p&&__p();var a=b("VideoPlayerExperiments").inlineSoundVisible,c=b("gkx")("AT7ApUZVTaeaFVAZosDCyoYg5jewu8k9nTInty9zhgPcbA_qZ0Wekm54rZEtV5zN2fziN-IbrpdI7b9TIq2nwd-2KJh-lL261Q2BabnaLjE70g")&&this.props.isInTahoe&&!this.props.isLive,d="_1c7d"+(this.isHidden()?" _1c7e":"")+(this.isTransparent()&&!a?" _2oy-":""),e="_2w_u"+(this.props.showSidePaneToggle?" _vr5":"")+(this.props.useDarkTheme?" _vr6":"")+(b("gkx")("AT7ApUZVTaeaFVAZosDCyoYg5jewu8k9nTInty9zhgPcbA_qZ0Wekm54rZEtV5zN2fziN-IbrpdI7b9TIq2nwd-2KJh-lL261Q2BabnaLjE70g")?" _w7n":""),f="_1c7f _1c7g"+(this.isTransparent()&&a?" _2oy-":""),g="_1c7f _2pvx"+(this.isTransparent()&&a?" _2oy-":""),j="_1c7f _1c7h"+(this.isTransparent()&&a?" _2oy-":""),k="_1c7f _w7o"+(this.isTransparent()&&(!this.props.isInline||this.props.isFullscreen||!this.props.isPlaying)?" _2oy-":""),l="_2w_w",m=!1;this.props.isLive&&this.props.isInTahoe&&(m=!0);m="_1otk _3t1r _4ubd"+(m?" _w7y":"");var n="_3t1r _4ubd _3t1s"+(this.props.isCommentAttachment?"":" hidden_elem"),o=null;if(!this.props.isLive&&!this.props.hideRemainingTime&&!this.props.isInWatchAndScroll){var p=this.props.playbackPosition-this.props.playbackDuration;o=b("React").createElement(b("VideoPlaybackTimer.react"),{className:"_5qsr"+(this.props.displayMilliseconds?" _w7-":""),isEmbedded:this.props.isEmbedded,playbackPosTimestamp:this.props.playbackPosition,playbackDurationTimestamp:this.props.playbackDuration,remainingTimestamp:p,displayElapsedTime:this.props.displayElapsedTime,displayMilliseconds:this.props.displayMilliseconds,displayBothTimes:b("gkx")("AT7ApUZVTaeaFVAZosDCyoYg5jewu8k9nTInty9zhgPcbA_qZ0Wekm54rZEtV5zN2fziN-IbrpdI7b9TIq2nwd-2KJh-lL261Q2BabnaLjE70g")})}p=null;var q=null,r=null,s=null,t;this.props.isInTahoe&&this.props.isLive&&!this.props.isFullscreen&&(t=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoQuietModeControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:b("React").createElement("span",null),videoID:this.props.videoID,gamesVideoQuietModeGK:this.props.gamesVideoQuietModeGK}));(!this.props.isLive||this.props.hasHD)&&(!this.props.hideSettings&&!this.props.isInWatchAndScroll&&(b("VideoPlayerExperiments").redesign&&(r=b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoSettingsControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:b("React").createElement("span",null),disabled:this.props.isCasting,hasHD:this.props.hasHD,hasSubtitles:this.props.hasSubtitles,isHD:this.props.isHD,isInline:this.props.isInline,isLive:this.props.isLive,isSphericalVideo:this.props.isSphericalVideo,areSubtitlesActive:this.props.areSubtitlesActive,areSubtitlesAutogenerated:this.props.areSubtitlesAutogenerated,onSettingsClick:this.props.onSettingsClick,onToggleHD:this.props.onToggleHD,onToggleSubtitles:this.props.onToggleSubtitles,tabIndex:"0",availableQualities:this.props.availableQualities,selectedQuality:this.props.selectedQuality,preferredQuality:this.props.preferredQuality,canAutoSelectVideoQuality:this.props.canAutoSelectVideoQuality,onSelectQuality:this.props.onSelectQuality,showQualitySelector:this.props.showQualitySelector,qualitySelectorMinStreams:this.props.qualitySelectorMinStreams,streamingFormat:this.props.streamingFormat,videoID:this.props.videoID}))));this.props.isLive&&(b("VideoPlayerExperiments").hlsButton&&(s=b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("span",null),bootloadLoader:b("JSResource")("VideoToHLSControl.react").__setRef("VideoControls.react"),areHLSActive:this.props.areHLSActive,onToggleHLS:this.props.onToggleHLS,tabIndex:"0"})));var u=this.props.gamesVideoCreatorClipping&&(this.props.isInTahoe||this.props.isInline)?b("React").createElement(b("VideoClipButton.react"),{onClipVideo:this.props.onClipVideo}):null,v=null;if(this.props.allowFullscreen)if(this.props.doesFullscreenEnterTahoe&&(this.props.isInline||this.props.isInWatchAndScroll)){var w=b("React").createElement(b("Image.react"),{className:"_rwt",src:i("407577")}),x=h._("Click to enlarge");v=b("React").createElement(b("AbstractButton.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(x,"above"),{className:"_zbd _400z _1vek",image:w,label:x,labelIsHidden:!0,onClick:this.props.onEnterTahoe,tabIndex:"0"}))}else{w=this.props.isFullscreen?h._("Click to exit fullscreen"):h._("Click to enter fullscreen");v=b("React").createElement(b("VideoFullscreenControl.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(w,"above"),{disabled:this.props.isCasting&&!this.props.isFullscreen,isFullscreen:this.props.isFullscreen,onToggleFullscreen:this.props.onToggleFullscreen,tabIndex:"0"}))}x=null;this.props.hasWatchAndScroll&&!this.props.isFullscreen&&!this.props.isInWatchAndScroll&&(x=b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("span",null),bootloadLoader:b("JSResource")("VideoWatchAndScrollControl.react").__setRef("VideoControls.react"),disabled:this.props.isCasting,onEnterWatchAndScroll:this.props.onEnterWatchAndScroll,isSlidingWNSEligible:this.props.isSlidingWNSEligible,onWNSNUXClose:this.props.onWNSNUXClose,showWNSNUX:this.props.showWNSNUX}));w=null;this.props.allowCasting&&this.props.hasFoundReceiver&&(w=b("React").createElement(b("BootloadedComponent.react"),{bootloadPlaceholder:b("React").createElement("span",null),bootloadLoader:b("JSResource")("VideoCastingControl.react").__setRef("VideoControls.react"),hasFoundReceiver:this.props.hasFoundReceiver,isCasting:this.props.isCasting,isCastingSupported:this.props.isCastingSupported,onStartCast:this.props.onStartCast,onStopCast:this.props.onStopCast}));var y=null;if(b("VideoPlayerExperiments").embeddedPlayerEnhancements)y=this.props.permalinkURL?b("React").createElement(b("VideoFBIconControl.react"),{permalinkURL:this.props.permalinkURL,playbackPosTimestamp:this.props.playbackPosition}):null;else{var z=null;this.props.permalinkURL&&(z=b("React").createElement(b("Image.react"),{className:"_rwt",src:i("390910")}),y=b("React").createElement(b("AbstractButton.react"),{className:"_zbd",href:this.props.permalinkURL,image:z,label:h._("Open in a new tab"),labelIsHidden:!0,ref:"button",tabIndex:"0",target:"_blank",type:"button"}))}z=null;var A=null,B=null,C=null,D=null;if(this.props.isLive&&this.props.showPlayButtonForLive&&!this.props.isLiveRewindEnabled)A=b("React").createElement(b("VideoPlaybackControl.react"),{finishedPlaying:this.props.finishedPlaying,isPlaying:this.props.isPlaying,onPause:this.props.onPause,onPlay:this.props.onPlay,useDarkTheme:this.props.useDarkTheme,tabIndex:"0"});else if(!this.props.isLive&&!this.props.hidePlaybackControl){A=b("React").createElement(b("VideoPlaybackControl.react"),{finishedPlaying:this.props.finishedPlaying,isPlaying:this.props.isPlaying,onPause:this.props.onPause,onPlay:this.props.onPlay,useDarkTheme:this.props.useDarkTheme,tabIndex:"0"});c&&this.props.videoID&&(C=b("React").createElement(b("VideoNextControl.react"),{videoID:this.props.videoID}),D=b("React").createElement(b("VideoPrevControl.react"),{videoID:this.props.videoID}));if(this.props.showPlaybackRateControl&&this.props.onSetVideoPlaybackRate){c=h._("Playback Rate");B=b("React").createElement(b("VideoPlaybackRateControl.react"),babelHelpers["extends"]({},b("TooltipData").propsFor(c,"above"),{isEmbedded:this.props.isEmbedded,tabIndex:"0",onSelectPlaybackRate:this.props.onSetVideoPlaybackRate}))}this.props.hidePlaybackScrubber||(z=b("React").createElement(b("VideoScrubber.react"),{adBreaks:this.props.adBreaks,adBreaksDisableReasons:this.props.adBreaksDisableReasons,annotatedMomentsOfInterest:this.props.annotatedMomentsOfInterest,bufferedPosition:this.props.bufferedPosition,controlsHidden:this.props.hidden,hasScrubberPreview:this.props.hasScrubberPreview,interestLevels:this.props.interestLevels,drawer:this.props.drawer,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakDisabled:this.props.isAdBreakDisabled,isAdBreakInsertionWithoutGapRule:this.props.isAdBreakInsertionWithoutGapRule,isFullscreen:this.props.isFullscreen,isPlaying:this.props.isPlaying,onScrubBegin:this.props.onScrubBegin,onScrubEnd:this.props.onScrubEnd,playbackDuration:this.props.playbackDuration,playbackPosition:this.props.playbackPosition,onAnnotatedMomentOfInterestSelect:this.props.onAnnotatedMomentOfInterestSelect,previewThumbnailInformation:this.props.previewThumbnailInformation,scrubberPreviewSprites:this.props.scrubberPreviewSprites,onPointOfInterestSelect:this.props.onPointOfInterestSelect,currentPointOfInterest:this.props.currentPointOfInterest,pointsOfInterest:this.props.pointsOfInterest,showPointOfInterestTimestamps:this.props.showPointOfInterestTimestamps,tabIndex:"0",isInTahoe:this.props.isInTahoe,videoClipInfo:this.props.videoClipInfo}))}c=null;this.props.showSidePaneToggle&&(c=b("React").createElement(b("VideoSidepaneToggleControl.react"),{isSidePaneOpen:this.props.isSidePaneOpen,onSidePaneToggle:this.props.onSidePaneToggle,tabIndex:"0"}));var E=null;this.props.hideGradient||(E=b("React").createElement("div",{className:"_w80"+(this.isTransparent()?" _2oy-":"")}));var F=b("React").createElement(b("VideoVolumeControl.react"),{isAudioBlocked:this.props.isAudioBlocked,isMuted:this.props.isMuted,onToggleMuted:this.props.onToggleMuted,onVolumeChange:this.props.onVolumeChange,volume:this.props.volume,tabIndex:"0",showSpatialAudioNUX:this.props.showSpatialAudioNUX,useDarkTheme:this.props.useDarkTheme}),G,H,I,J,K,L,M,N=this.props,O=N.onLiveRewindToBeginning,P=N.onLiveRewindSeekBack,Q=N.onLiveRewindSeekForward;N=N.onLiveRewindToLive;if(this.props.isLiveRewindEnabled&&!this.props.isEmbedded){if(this.props.liveRelativePlaybackPosition!=null){var R=this.props.liveRelativePlaybackPosition>this.props.playbackDuration?this.props.playbackDuration:this.props.liveRelativePlaybackPosition;M=this.props.isInWatchAndScroll?null:b("React").createElement(b("VideoPlaybackTimer.react"),{className:"_3ek9 _5qsr"+(this.props.displayMilliseconds?" _w7-":""),displayElapsedTime:!0,displayMilliseconds:this.props.displayMilliseconds,isEmbedded:this.props.isEmbedded,isLiveVideo:!0,playbackPosTimestamp:R,remainingTimestamp:-1*(this.props.playbackDuration-R)});L=b("React").createElement(b("VideoScrubber.react"),{adBreaks:this.props.adBreaks,adBreaksDisableReasons:this.props.adBreaksDisableReasons,bufferedPosition:this.props.bufferedPosition,className:"_3ek9",controlsHidden:this.props.hidden,currentPointOfInterest:this.props.currentPointOfInterest,drawer:this.props.drawer,hasScrubberPreview:this.props.hasScrubberPreview,interestLevels:this.props.interestLevels,insertedAdBreaks:this.props.insertedAdBreaks,isAdBreakDisabled:this.props.isAdBreakDisabled,isAdBreakInsertionWithoutGapRule:this.props.isAdBreakInsertionWithoutGapRule,isFullscreen:this.props.isFullscreen,isInTahoe:this.props.isInTahoe,isLiveRewound:this.props.isLiveRewound,isLiveVideo:!0,isPlaying:this.props.isPlaying,playbackDuration:this.props.playbackDuration,playbackPosition:this.props.isLiveRewound?R:this.props.playbackDuration,pointsOfInterest:this.props.pointsOfInterest,previewThumbnailInformation:this.props.previewThumbnailInformation,scrubberPreviewSprites:this.props.scrubberPreviewSprites,showPointOfInterestTimestamps:this.props.showPointOfInterestTimestamps,tabIndex:"0",onLiveRewindToBeginning:this.props.onLiveRewindToBeginning,onLiveRewindSeekBack:this.props.onLiveRewindSeekBack,onLiveRewindSeekForward:this.props.onLiveRewindSeekForward,onLiveRewindToLive:this.props.onLiveRewindToLive,onPointOfInterestSelect:this.props.onPointOfInterestSelect,onScrubBegin:this.props.onScrubBegin,onScrubEnd:this.props.onScrubEnd});new(b("LiveVideoRewindTypedLogger"))().setEvent(b("LiveVideoRewindLoggerEvent").RENDER_REWIND_CONTROLS).setVideoID(this.props.videoID).log()}G=O&&!this.props.isInWatchAndScroll&&!this.props.isInline?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoLiveRewindControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:b("React").createElement("span",null),asset:i("465766"),tooltip:h._("Go to beginning"),onButtonClick:O}):null;H=P&&!this.props.isInWatchAndScroll?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoLiveRewindControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:b("React").createElement("span",null),asset:i("465767"),tooltip:h._("Skip back"),onButtonClick:P}):null;R=this.props.isLiveRewound?h._("Skip ahead"):undefined;I=Q&&!this.props.isInWatchAndScroll&&!this.props.isInline?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoLiveRewindControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:b("React").createElement("span",null),asset:i("465768"),disabled:!this.props.isLiveRewound,tooltip:R,onButtonClick:Q}):null;O=this.props.isLiveRewound?i("467224"):i("467223");P=this.props.isLiveRewound?h._("Live view"):undefined;J=N?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("VideoLiveRewindControl.react").__setRef("VideoControls.react"),bootloadPlaceholder:b("React").createElement("span",null),asset:O,tooltip:P,onButtonClick:N}):null;K=this.props.isInWatchAndScroll?null:b("React").createElement(b("VideoPlaybackControl.react"),{finishedPlaying:this.props.finishedPlaying,isLiveVideo:!0,isPlaying:this.props.isPlaying,onPause:this.props.onPause,onPlay:this.props.onPlay,useDarkTheme:this.props.useDarkTheme,tabIndex:"0"})}R=null;if(this.props.useTwoRows){Q=b("React").createElement(b("VideoVolumeControl.react"),{isAudioBlocked:this.props.isAudioBlocked,isMuted:this.props.isMuted,onToggleMuted:this.props.onToggleMuted,onVolumeChange:this.props.onVolumeChange,volume:this.props.volume,isHorizontal:!0,tabIndex:"0"});R=b("React").createElement("div",{className:n},b("React").createElement("div",{className:l},b("React").createElement("div",{className:d},b("React").createElement("div",{className:f}),b("React").createElement("div",{className:g},z),b("React").createElement("div",{className:j},o))),b("React").createElement("div",{className:l},b("React").createElement("div",{className:d},b("React").createElement("div",{className:f},A,B,Q),b("React").createElement("div",{className:g}),b("React").createElement("div",{className:j},q,s,p,r,x,w,v,y,u))))}O=null;if(b("VideoPlayerExperiments").embeddedPlayerEnhancements&&this.props.isEmbedded){P=b("joinClasses")(d,b("VideoPlayerExperiments").embeddedPlayerEnhancements?"_w83":"");N=b("joinClasses")(d,"_w86");O=b("React").createElement("div",{className:P},b("React").createElement("div",{className:l},b("React").createElement("div",{className:N},b("React").createElement("div",{className:f},A,B),b("React").createElement("div",{className:g},z),b("React").createElement("div",{className:j},o)),b("React").createElement("div",{className:d},b("React").createElement("div",{className:f}),b("React").createElement("div",{className:g}),b("React").createElement("div",{className:j},a||F,q,s,p,t,r,x,w,c,v,y,u),b("React").createElement("div",{className:k},!a||F))))}else O=!this.props.useTwoRows||!this.props.isCommentAttachment?b("React").createElement("div",{className:m},b("React").createElement("div",{className:l},b("React").createElement("div",{className:d},b("React").createElement("div",{className:f},D,A,B,C,G,H,K,I,J,M,b("gkx")("AT7ApUZVTaeaFVAZosDCyoYg5jewu8k9nTInty9zhgPcbA_qZ0Wekm54rZEtV5zN2fziN-IbrpdI7b9TIq2nwd-2KJh-lL261Q2BabnaLjE70g")?o:null),b("React").createElement("div",{className:g},z,L),b("React").createElement("div",{className:j},b("gkx")("AT7ApUZVTaeaFVAZosDCyoYg5jewu8k9nTInty9zhgPcbA_qZ0Wekm54rZEtV5zN2fziN-IbrpdI7b9TIq2nwd-2KJh-lL261Q2BabnaLjE70g")?null:o,a||F,q,s,p,t,r,x,w,c,v,y,u),b("React").createElement("div",{className:k},!a||F)))):null;return b("React").createElement("div",{className:e},E,O,R)};function a(){"use strict";j.apply(this,arguments)}a.propTypes={adBreaks:c.array,adBreaksDisableReasons:c.array,allowFullscreen:c.bool,areHLSActive:c.bool,areSubtitlesActive:c.bool,areSubtitlesAutogenerated:c.bool,availableQualities:c.array,canAutoSelectVideoQuality:c.bool,displayElapsedTime:c.bool,displayMilliseconds:c.bool,annotatedMomentsOfInterest:c.object,finishedPlaying:c.bool,hasHD:c.bool,hasScrubberPreview:c.bool,hasSubtitles:c.bool,hasWatchAndScroll:c.bool,hidden:c.bool,hideGradient:c.bool,hidePlaybackControl:c.bool,hidePlaybackScrubber:c.bool,hideRemainingTime:c.bool,hideSettings:c.bool,isAudioBlocked:c.bool,isCommentAttachment:c.bool,isEmbedded:c.bool,isFullscreen:c.bool,isHD:c.bool,isInline:c.bool,isInWatchAndScroll:c.bool,isLive:c.bool,isLiveRewindEnabled:c.bool,isMuted:c.bool,isPlaying:c.bool,isSidePaneOpen:c.bool,isSlidingWNSEligible:c.bool,isSphericalVideo:c.bool,onEnterWatchAndScroll:c.func,onLiveRewindSeekBack:c.func,onLiveRewindSeekForward:c.func,onLiveRewindToBeginning:c.func,onLiveRewindToLive:c.func,onPause:c.func,onPlay:c.func,onPointOfInterestSelect:c.func,onSeek:c.func,onSelectQuality:c.func,onSetVideoPlaybackRate:c.func,onToggleFullscreen:c.func,onToggleHD:c.func,onToggleHLS:c.func,onToggleMuted:c.func,onToggleSubtitles:c.func,onVolumeChange:c.func,permalinkURL:c.string,playbackDuration:c.number,playbackPosition:c.number,pointsOfInterest:c.array,preferredQuality:c.string,previewThumbnailInformation:c.object,qualitySelectorMinStreams:c.number,scrubberPreviewSprites:c.object,selectedQuality:c.string,showPointOfInterestTimestamps:c.bool,showQualitySelector:c.bool,showSidePaneToggle:c.bool,showWNSNUX:c.bool,streamingFormat:c.string,transparent:c.bool,useDarkTheme:c.bool,useTwoRows:c.bool,volume:c.number,videoClipInfo:c.object};a.defaultProps={allowCasting:!1,bufferedPosition:0,displayElapsedTime:!1,displayMilliseconds:!1,hasFoundReceiver:!1,hidden:!1,hideGradient:!1,hidePlaybackControl:!1,hidePlaybackScrubber:!1,hideRemainingTime:!1,hideSettings:!1,isAudioBlocked:!1,isCasting:!1,isCastingSupported:!1,isCommentAttachment:!1,isMuted:!1,isPlaying:!1,isSphericalVideo:!1,onSidePaneToggle:function(){},onStartCast:function(){},onStopCast:function(){},playbackDuration:0,playbackPosition:0,showPlaybackRateControl:!1,showSidePaneToggle:!1,showWNSNUX:!1,transparent:!1,useDarkTheme:!1,useTwoRows:!1,volume:0};e.exports=a}),null);
__d("VideoControls",["csx","cx","Arbiter","AsyncRequest","Bootloader","ClippingApi","CSS","DeferredComponent.react","EventListener","FullScreen","LiveRewindUtils","LiveVideoPlayerActions","LiveVideoRewindLoggerEvent","Parent","React","ReactDOM","SubscriptionsHandler","VideoChainingCaller","VideoChannelViewVariables","VideoPlayerExperiments","VideoPlayerLoggerEvent","VideoPlayerLoggerSource","VideoPlayerReason","VideoPlayerUIComponentDrawer","VideoPlayerVersions","VideoWatchAndScrollController","XBasicFBNuxGenShouldShowController","cancelAnimationFrame","containsNode","destroyOnUnload","getActiveElement","logVideosClickTracking","promiseDone","requestAnimationFrame","shouldWNSRenderToRHC","throttle"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=b("VideoChannelViewVariables").channelRedesign,j=new Set([b("VideoPlayerLoggerSource").EMBEDDED,b("VideoPlayerLoggerSource").EMBEDDED_VIDEO,b("VideoPlayerLoggerSource").EMBEDDED_VIDEO_PREVIEW,b("VideoPlayerLoggerSource").EMBEDDED_PAGE_PLUGIN,b("VideoPlayerLoggerSource").EMBEDDED_VIDEO_FROM_UFI]),k=200,l=4936,m=b("VideoPlayerExperiments").persistentWNSEnabled;function a(a,c,d){"use strict";__p&&__p();this.$14=function(){this.$10=!1,this.scheduleRenderReactComponent()}.bind(this);this.$15=a;this.$80=c;this.$9=0;this.$74=0;this.$73=0;this.$27=0;this.$106=!1;this.$81=!1;this.$43=d.hideOnEvents.autoplay;this.$44=d.hideOnEvents.finish;this.$38=d.hideOnEvents.pause;this.$89=d.unhideOnHover;this.$39=d.hidePlaybackControl;this.$40=d.hidePlaybackScrubber;this.$90=d.showPlaybackRateControl;this.$41=d.hideRemainingTime;this.$42=d.hideSettings;this.$103=d.useTwoRows;this.$50=d.isCommentAttachment;this.$75=d.pointsOfInterestConfig||{};this.$17=d.displayElapsedTime||!1;this.$18=d.displayMilliseconds||!1;this.$19=d.displayDurationLimit;this.$20=d.displayTimeOffset;this.$1=d.adBreaks;this.$2=d.adBreaksDisableReasons;this.$93=d.showSpatialAudioNUX;this.$60=!1;this.$88=d.shouldShowWNSNUX;this.$10=!1;this.$33=!1;this.$45=d.insertedAdBreaks;this.$46=d.isAdBreakDisabled;this.$47=d.isAdBreakInsertionWithoutGapRule;this.$55=d.isLiveRewindEnabled;this.$56=!1;this.$67=null;this.$91=d.showPlayButtonForLive;this.$104=d.videoClipInfo;this.$87=!!d.videoClipInfo;this.$12=null;a=a.isHtml5Player();this.$35=d.showButtons.watchandscroll&&a;this.$3=d.showButtons.casting;this.$4=d.showButtons.fullscreen&&!!b("FullScreen").isSupported();this.$71=d.permalinkURL;this.$54=d.isLive;this.$61=d.isSphericalVideo;this.$28=d.forceVisible||!1;this.$37=d.hideGradient||!1;this.$102=d.useDarkTheme||!1;this.$48=!1;this.$36=!1;this.$59=!1;this.$92=d.showQualitySelector;this.$77=d.qualitySelectorMinStreams;this.$65=this.liveRewindToBeginning.bind(this);this.$63=this.liveRewindSeekBack.bind(this);this.$64=this.liveRewindSeekForward.bind(this);this.$66=this.liveRewindToLive.bind(this);this.$13=this.clipVideo.bind(this);this.$24=this.enterWatchAndScroll.bind(this);this.$23=this.enterTahoe.bind(this);this.$72=this.play.bind(this);this.$70=this.pause.bind(this);this.$82=this.scrubBegin.bind(this);this.$83=this.scrubEnd.bind(this);this.$94=this.startCasting.bind(this);this.$95=this.stopCasting.bind(this);this.$97=this.toggleFullscreen.bind(this);this.$98=this.toggleHD.bind(this);this.$99=this.toggleHLS.bind(this);this.$100=this.toggleMuted.bind(this);this.$101=this.toggleSubtitles.bind(this);this.$11=this.changeVolume.bind(this);this.$86=this.setVideoPlaybackRate.bind(this);this.$85=this.setPreferredVideoQuality.bind(this);this.$22=this.$15.registerDrawer(b("VideoPlayerUIComponentDrawer").priorities.EmbeddedControls,36);this.$69=d.needsInitialVideoInfoUpdate;this.$16=this.$15.getSource();this.$29=!!d.gamesVideoQuietModeGK;this.$30=!!d.gamesVideoCreatorClippingGK&&!j.has(this.$16);this.$6=d.annotatedMomentsOfInterest||{};m||b("destroyOnUnload")(function(){return b("ReactDOM").unmountComponentAtNode(c)});a=this.$15.getRootNode();b("EventListener").listen(this.$80,"focusin",function(){this.$26=!0,this.scheduleRenderReactComponent()}.bind(this));b("EventListener").listen(this.$80,"focusout",function(){b("containsNode")(this.$80,b("getActiveElement")())||(this.$26=!1,this.scheduleRenderReactComponent())}.bind(this));b("EventListener").listen(a,"click",function(a){if(this.$26&&a.detail){a=b("getActiveElement")();a&&a.blur()}}.bind(this));b("EventListener").listen(a,"mouseleave",function(){this.$68=!1,this.scheduleRenderReactComponent()}.bind(this));b("EventListener").listen(a,"mouseenter",function(){this.$68=!0,this.scheduleRenderReactComponent()}.bind(this));this.$15.registerOption("VideoControls","acquireForceHideLock",function(){this.$27++;return{release:function(){this.$27--,this.scheduleRenderReactComponent()}.bind(this)}}.bind(this));this.$15.registerOption("VideoControls","hideOnFinish",function(){return this.$44}.bind(this),function(a){this.$44=a}.bind(this));this.$15.registerOption("VideoControls","hideOnPause",function(){return this.$38}.bind(this),function(a){this.$38=a}.bind(this));this.$15.registerOption("VideoControls","unhideOnHover",function(){return this.$89}.bind(this),function(a){this.$89=a}.bind(this));this.$15.registerOption("VideoControls","available",function(){return!0});this.$15.registerOption("VideoControls","areControlsVisible",this.areControlsVisible.bind(this));["mousemove","mousedown","keydown"].forEach(function(a){b("EventListener").listen(this.$15.getRootNode(),a,b("throttle")(this.flashControls.bind(this),200))}.bind(this));this.$96=new(b("SubscriptionsHandler"))();this.scheduleRenderReactComponent();d=["changeVolume","loadedSubtitles","muteVideo","pausePlayback","stateChange","toggleFullscreen","toggleSubtitles","updateMetadata","unmuteVideo","qualityChange","casting/receiverStateChange","casting/supportStateChange","casting/castingStateChange","casting/playStateChange"];d.forEach(function(event){return this.$96.addSubscriptions(this.$15.addListener(event,function(){return this.scheduleRenderReactComponentWithVideoInfoUpdate()}.bind(this)))}.bind(this));this.$96.addSubscriptions(this.$15.addListener("pauseRequested",function(a){this.$107(a)}.bind(this)),this.$15.addListener("playRequested",function(a){this.$108(a)}.bind(this)),this.$15.addListener("beginPlayback",function(){return this.$109()}.bind(this)),this.$15.addListener("updateStatus",function(a){if(this.$55){var c=this.$15.getSeekableRanges();c&&(this.$62=b("LiveRewindUtils").getRelativePosition(a.position,c))}this.$74=a.position;this.$20&&(this.$74-=this.$20);this.scheduleRenderReactComponent()}.bind(this)),this.$15.addListener("casting/updateStatus",function(a){if(this.$55){var c=this.$15.getSeekableRanges();c&&(this.$62=b("LiveRewindUtils").getRelativePosition(a.position,c))}this.$74=a.position;this.scheduleRenderReactComponent()}.bind(this)),this.$15.addListener("seekRangeChanged",function(a){if(this.$55){a=this.$15.getSeekableRanges();a&&(this.$73=b("LiveRewindUtils").getTotalDuration(a))}}.bind(this)),this.$15.addListener("updateBuffer",function(a){this.$9=a.duration+a.offset,this.scheduleRenderReactComponent()}.bind(this)),this.$15.addListener("optionsChange",function(a){this.$110()}.bind(this)),this.$15.addListener("resumeAutoplay",function(a){this.$111(),this.scheduleRenderReactComponentWithVideoInfoUpdate()}.bind(this)),this.$15.addListener("turnOffAutoplay",function(a){this.$49=!1}.bind(this)),this.$15.addListener("LivePlayer/isRewoundChanged",function(a){a=this.$15.getOption("LivePlayer","isRewound");this.$56!==a&&(this.$56=a,this.scheduleRenderReactComponent())}.bind(this)),this.$15.addListener("blockAudio",function(a){this.$48=!0}.bind(this)),this.$15.addListener("unblockAudio",function(a){this.$48=!1}.bind(this)));this.$88&&this.$96.addSubscriptions(this.$15.addListener("VideoWithStallRecovery/bufferingStateOn",function(){this.$33||this.$112(l)}.bind(this)),this.$15.addListener("VideoWithStallRecovery/bufferingStateOff",function(){this.$10=!1}.bind(this)));this.$96.addSubscriptions(this.$15.addListener("finishPlayback",function(){this.scheduleRenderReactComponent(!0)}.bind(this)));this.$111();this.$113()}a.prototype.$114=function(){"use strict";return this.$15.isState("playing")&&this.$15.getOption("FeedAutoplay","isAutoplaying")};a.prototype.$113=function(){"use strict";this.$84=this.$15.getOption("VideoScrubberPreviewComponent","scrubberPreviewSprites"),this.$32=this.$15.getOption("VideoScrubberPreviewComponent","hasPreviewThumbnails"),this.$76=this.$15.getOption("VideoScrubberPreviewComponent","previewThumbnailInformation")};a.prototype.$111=function(){"use strict";this.$49=this.$15.getOption("FeedAutoplay","isAutoplaying")};a.prototype.$110=function(){"use strict";this.$111(),this.$113()};a.prototype.$107=function(a){"use strict";this.scheduleRenderReactComponentWithVideoInfoUpdate(),this.$55&&a===b("VideoPlayerReason").USER&&(!this.$56&&this.$67===null&&(this.$67=setTimeout(function(){this.$67=null,b("LiveVideoPlayerActions").setIsRewound(this.$15,!0)}.bind(this),k)))};a.prototype.$108=function(a){"use strict";this.$55&&a===b("VideoPlayerReason").USER&&this.$67!==null&&(clearTimeout(this.$67),this.$67=null)};a.prototype.$109=function(){"use strict";this.flashControls(),this.$58=!0,this.scheduleRenderReactComponentWithVideoInfoUpdate()};a.prototype.$112=function(a){"use strict";a=b("XBasicFBNuxGenShouldShowController").getURIBuilder().setInt("nux_id",a).getURI();new(b("AsyncRequest"))().setURI(a).setMethod("GET").setReadOnly(!0).setHandler(function(a){a=a.getPayload();this.$10=a.should_show_nux}.bind(this)).send()};a.prototype.updateConfig_DEPRECATED=function(a,b){"use strict";this.$71=a.permalinkURL||null,this.$3=a.showButtons?a.showButtons.casting:!1,this.$54=!!a.isLive,this.scheduleRenderReactComponent()};a.prototype.updateAdBreaksConfig=function(a){"use strict";this.$45=a.insertedAdBreaks,this.$46=a.isAdBreakDisabled,this.$47=a.isAdBreakInsertionWithoutGapRule,this.$28=!a.isPreviewingAdBreak,this.scheduleRenderReactComponent()};a.prototype.flashControls=function(){"use strict";this.$78||(this.$78=!0,this.scheduleRenderReactComponent()),clearTimeout(this.$25),this.$25=setTimeout(function(){this.$78=!1,this.scheduleRenderReactComponent()}.bind(this),3e3)};a.prototype.areControlsVisible=function(){"use strict";__p&&__p();if(!this.areControlsEnabled())return!1;if(this.$28||this.$10||this.$59)return!0;if(this.$15.isState("playing")){if(this.$87){this.$12||(this.$12=setTimeout(function(){this.$87=!1}.bind(this),5e3));return!0}else if(this.$43&&this.$49)return!1;return this.$26||this.$68&&this.$78}else if(this.$15.isState("finished")){var a=this.$15.getSource()===b("VideoPlayerLoggerSource").TAHOE;return this.$15.isFullscreen()||a||!this.$44}else if(this.$15.isState("paused"))return this.$15.isFullscreen()||!this.$38||this.$89&&(this.$26||this.$68&&this.$78);return!1};a.prototype.areControlsEnabled=function(){"use strict";var a=this.$15.getSource()===b("VideoPlayerLoggerSource").TAHOE;return this.$27>0||this.$15.isState("loading")||this.$15.isState("fallback")||this.$15.isState("finished")&&this.$44&&!this.$15.isFullscreen()&&!a?!1:!0};a.prototype.scheduleRenderReactComponentWithVideoInfoUpdate=function(){"use strict";this.$69=!0,this.scheduleRenderReactComponent(!0)};a.prototype.shouldRenderComponent=function(){"use strict";__p&&__p();if(this.$15.isState("loading")||this.$15.isState("fallback"))return!1;if(this.areControlsVisible()){this.$36=!1;return!0}if(!this.$36){this.$36=!0;return!0}return!1};a.prototype.scheduleRenderReactComponent=function(a){a===void 0&&(a=!1);if(!a&&!this.shouldRenderComponent())return;b("cancelAnimationFrame")(this.$79);this.$79=b("requestAnimationFrame")(this.renderReactComponent.bind(this))};a.prototype.renderReactComponent=function(){"use strict";__p&&__p();if(b("VideoPlayerExperiments").delayVideoControlRenderForApiReady&&this.$15.getState()==="loading"&&!this.$81){this.$81=!0;this.$15.runOnApiReady(function(){this.scheduleRenderReactComponent()}.bind(this));return}this.$69&&this.$115();var a=this.areControlsVisible();this.$106!==a&&(this.$15.emit("VideoControls/visibilityUpdate",{areControlsVisible:a}),a?this.$22.reserve():this.$22.release(),this.$15.isState("destroyed")||b("CSS").conditionClass(this.$15.getRootNode(),"_302m",!a));this.$106=a;var c=this.$15.getAvailableVideoQualities(),e=this.$15.getPreferredVideoQuality(),f=this.$15.getSelectedVideoQuality(),g=this.$15.canAutoSelectVideoQuality(),h=this.$15.getStreamingFormat(),k=null;this.$15.hasOption("LiveHeatmap","interestLevels")&&(k=this.$15.getOption("LiveHeatmap","interestLevels"));var l=this.$60;this.$60=b("VideoPlayerExperiments").slidingWNSv3&&this.$35&&b("VideoWatchAndScrollController").isSlidingEnabled(this.$15);l!==this.$60&&this.$15.logEvent(this.$60?b("VideoPlayerLoggerEvent").WATCH_AND_SCROLL_ICON_HIGHLIGHTED:b("VideoPlayerLoggerEvent").WATCH_AND_SCROLL_ICON_UNHIGHLIGHTED);l=this.$15.getSource()===b("VideoPlayerLoggerSource").TAHOE;var m=this.$15.getSource()===b("VideoPlayerLoggerSource").WATCH_SCROLL,n=this.$15.isFBIsLiveTemplated()||this.$15.isFBWasLive();n=this.$55&&n&&this.$15.getState()!=="finished";b("ReactDOM").render(b("React").createElement(b("DeferredComponent.react"),{deferredPlaceholder:b("React").createElement("span",null),deferredComponent:function(a){return d(["VideoControls.react"],a)},allowCasting:this.$3,allowFullscreen:this.$4,annotatedMomentsOfInterest:this.$6,areSubtitlesActive:this.$7,areSubtitlesAutogenerated:this.$8,areHLSActive:this.$5,bufferedPosition:this.$9,finishedPlaying:this.$15.isState("finished"),hasFoundReceiver:this.hasFoundReceiver(),hasHD:this.$31,hasSubtitles:this.$34,hasWatchAndScroll:this.$35&&!this.getIsInChannel(),hidden:!this.areControlsEnabled(),hideGradient:this.$37,isAudioBlocked:this.$48,isCasting:this.isCasting(),isCastingSupported:this.isCastingSupported(),isCommentAttachment:this.$50,isEmbedded:j.has(this.$16),isFullscreen:this.$51,isHD:this.$52,isInline:this.$53,isInTahoe:l,isInWatchAndScroll:m,isLive:this.$54,isLiveRewindEnabled:n,isLiveRewound:this.$56,isSphericalVideo:this.$61,isMuted:this.$57,isPlaying:this.$58,isSidePaneOpen:this.getIsInChannel()&&!!b("Parent").bySelector(this.$80,"._57bj"),isSlidingWNSEligible:this.$60,interestLevels:k,liveRelativePlaybackPosition:this.$62,drawer:this.$22,onAnnotatedMomentOfInterestSelect:function(a){this.$15.seek(a)}.bind(this),onEnterWatchAndScroll:this.$24,onEnterTahoe:this.$23,doesFullscreenEnterTahoe:this.$21,onLiveRewindToBeginning:this.$65,onLiveRewindSeekBack:this.$63,onLiveRewindSeekForward:this.$64,onLiveRewindToLive:this.$66,onWNSNUXClose:this.$14,onClipVideo:this.$13,onPause:this.$70,onPlay:this.$72,onScrubBegin:this.$82,onScrubEnd:this.$83,onSetVideoPlaybackRate:this.$86,onSettingsClick:function(){this.$59=!this.$59}.bind(this),onSidePaneToggle:function(){b("Arbiter").inform("VideoChannelView/sidePaneToggle",{})},onStartCast:this.$94,onStopCast:this.$95,onToggleFullscreen:this.$97,onToggleHD:this.$98,onToggleHLS:this.$99,onToggleMuted:this.$100,onToggleSubtitles:this.$101,onVolumeChange:this.$11,permalinkURL:this.$71,playbackDuration:this.$73,playbackPosition:this.$74,transparent:!a,hidePlaybackControl:this.$39,hidePlaybackScrubber:this.$40,showPlaybackRateControl:this.$90,showPlayButtonForLive:this.$91,hideRemainingTime:this.$41,hideSettings:this.$42,useTwoRows:this.$103,volume:this.$105,scrubberPreviewSprites:this.$84,hasScrubberPreview:this.$32&&!m,previewThumbnailInformation:this.$76,availableQualities:c,selectedQuality:f,preferredQuality:e,canAutoSelectVideoQuality:g,onSelectQuality:this.$85,showQualitySelector:this.$92,qualitySelectorMinStreams:this.$77,streamingFormat:h,showSpatialAudioNUX:this.$93,onPointOfInterestSelect:this.$75.onPointOfInterestSelect,currentPointOfInterest:this.$75.currentPointOfInterest,pointsOfInterest:this.$75.pointsOfInterest,showPointOfInterestTimestamps:this.$75.showPointOfInterestTimestamps,displayElapsedTime:this.$17,displayMilliseconds:this.$18,adBreaks:this.$1,adBreaksDisableReasons:this.$2,showSidePaneToggle:this.getIsInChannel()&&!this.$51&&i,showWNSNUX:this.$10&&this.areControlsEnabled()&&this.$88,insertedAdBreaks:this.$45,isAdBreakDisabled:this.$46,isAdBreakInsertionWithoutGapRule:this.$47,useDarkTheme:this.$102,videoID:this.$15.getVideoID(),videoClipInfo:this.$104?this.$104:undefined,gamesVideoQuietModeGK:this.$29,gamesVideoCreatorClipping:this.$30}),this.$80);this.$10&&this.areControlsEnabled()&&this.$88&&(this.$33=!0)};a.prototype.$115=function(){"use strict";__p&&__p();var a=this.$15.getVideoInfo_DEPRECATED();if(a){this.$7=a.areSubtitlesActive;this.$8=a.areSubtitlesAutogenerated;this.$34=a.hasSubtitles;this.$31=a.hasHD;this.$52=a.isHD;this.$57=a.isMuted;this.$58=a.isPlaying||this.isCastPlaying();if(this.$55){var c=this.$15.getSeekableRanges();c&&(this.$73=b("LiveRewindUtils").getTotalDuration(c))}else this.$19!==null&&this.$19!==undefined?this.$73=Math.min(a.playbackDuration,this.$19):this.$73=a.playbackDuration;this.$105=a.volume;c=this.$15.getOption("CommercialBreakVideoAdOverlay","videoController");c?this.$51=c.isFullscreen():this.$51=this.$15.isFullscreen();this.$53=this.$15.getSource()===b("VideoPlayerLoggerSource").INLINE||this.$15.getSource()===b("VideoPlayerLoggerSource").CONTINUE_WATCHING_RECOMMENDATION;this.$54=a.isLiveStream;this.$5=a.areHLSActive;this.$69=!1;this.$21=this.$15.listeners("enterTahoe").length!==0}};a.prototype.toggleHD=function(){"use strict";this.$15.toggleHD()};a.prototype.setPreferredVideoQuality=function(a){"use strict";a?this.$15.setPreferredVideoQuality(a):this.$15.unsetPreferredVideoQuality()};a.prototype.toggleHLS=function(){"use strict";this.$15.switchToStreamType("hls")};a.prototype.clipVideo=function(a){"use strict";b("promiseDone")(b("ClippingApi").clipVideo(this.$15.getVideoID(),this.$15.getCurrentTimePosition(),a).then())};a.prototype.enterWatchAndScroll=function(){"use strict";b("shouldWNSRenderToRHC")()?this.$15.emit("crossfadeWatchAndScroll"):this.$15.emit("enterWatchAndScroll")};a.prototype.enterTahoe=function(){"use strict";this.$15.getSource()===b("VideoPlayerLoggerSource").WATCH_SCROLL?(this.$15.logEvent(b("VideoPlayerLoggerEvent").WATCH_AND_SCROLL_CHANNEL_ENTERED),b("Bootloader").loadModules(["TahoeController","URI"],function(a,c){var d=new c(this.$15.getVideoURL());c=babelHelpers["extends"]({},c.getRequestURI().getQueryData(),{ref:"tahoe"});b("VideoWatchAndScrollController").onEnterTahoe();a.openFromVideoPlayer(this.$15,d.setQueryData(c),this.$15.getVideoChannelID(),b("VideoChainingCaller").WNS)}.bind(this),"VideoControls")):this.$15.emit("enterTahoe")};a.prototype.scrubBegin=function(){"use strict";this.isCasting()||this.$15.pause(b("VideoPlayerReason").SEEK)};a.prototype.scrubEnd=function(a){"use strict";__p&&__p();if(this.$55){var c=this.$15.getSeekableRanges();if(c){var d=this.$62;this.$62=a;a=b("LiveRewindUtils").getAbsolutePosition(a,c);c=b("LiveRewindUtils").getLiveHeadTimestamp(c);c=c-a<1;b("LiveVideoPlayerActions").setIsRewound(this.$15,!c);b("LiveRewindUtils").logLiveRewindEvent(b("LiveVideoRewindLoggerEvent").SCRUBBER,this.$15,d,null,null,a)}}this.$20&&(a+=this.$20);this.$15.seek(a);this.$74=a;c=this.$58||this.$15.isState("finished")&&!this.$44;!this.isCasting()&&c&&this.$15.play(b("VideoPlayerReason").SEEK)};a.prototype.toggleMuted=function(){"use strict";this.$15.isMuted()?(b("logVideosClickTracking")(this.$15.getVideoNode()),this.$15.unmute()):this.$15.mute()};a.prototype.toggleFullscreen=function(){"use strict";this.$15.isFullscreen()||b("logVideosClickTracking")(this.$15.getVideoNode()),this.$15.toggleFullscreen()};a.prototype.toggleSubtitles=function(){"use strict";this.$15.toggleSubtitles(),this.scheduleRenderReactComponent()};a.prototype.changeVolume=function(a){"use strict";this.$15.setVolume(a)};a.prototype.liveRewindToBeginning=function(){"use strict";b("LiveRewindUtils").goToBeginning(this.$15)};a.prototype.liveRewindSeekBack=function(){"use strict";b("LiveRewindUtils").seekBack(this.$15)};a.prototype.liveRewindSeekForward=function(){"use strict";b("LiveRewindUtils").seekForward(this.$15)};a.prototype.liveRewindToLive=function(){"use strict";b("LiveRewindUtils").goToLive(this.$15)};a.prototype.play=function(){"use strict";b("logVideosClickTracking")(this.$15.getVideoNode()),this.isCasting()?this.$15.setOption("casting","isPlaying",!0):this.$15.play(b("VideoPlayerReason").USER),this.$54&&this.$55&&b("LiveRewindUtils").logLiveRewindEvent(b("LiveVideoRewindLoggerEvent").PLAY,this.$15,this.$62,null,this.$62,null)};a.prototype.pause=function(){"use strict";this.isCasting()?this.$15.setOption("casting","isPlaying",!1):this.$15.pause(b("VideoPlayerReason").USER),this.$54&&this.$55&&(b("LiveVideoPlayerActions").setIsRewound(this.$15,!0),b("LiveRewindUtils").logLiveRewindEvent(b("LiveVideoRewindLoggerEvent").PAUSE,this.$15,this.$62,null,this.$62,null))};a.prototype.setVideoPlaybackRate=function(a){"use strict";this.$15.setPlaybackRate(a)};a.prototype.startCasting=function(){"use strict";this.$15.setOption("casting","isCasting",!0)};a.prototype.stopCasting=function(){"use strict";this.$15.setOption("casting","isCasting",!1)};a.prototype.isCastPlaying=function(){"use strict";return this.$15.getOption("casting","isPlaying")};a.prototype.hasFoundReceiver=function(){"use strict";return this.$15.getOption("casting","hasFoundReceiver")};a.prototype.isCasting=function(){"use strict";return this.$15.getOption("casting","isCasting")};a.prototype.isCastingSupported=function(){"use strict";return this.$15.getOption("casting","isSupported")};a.prototype.updatePointsOfInterestConfig=function(a){"use strict";Object.assign(this.$75,a),this.scheduleRenderReactComponent()};a.prototype.updateDisplayElapsedTime=function(a){"use strict";this.$17=a,this.scheduleRenderReactComponent()};a.prototype.updateDisplayTimeRangeConfig=function(a){"use strict";this.$19=a.displayDurationLimit,this.$20=a.displayTimeOffset,this.scheduleRenderReactComponentWithVideoInfoUpdate()};a.prototype.getIsInChannel=function(){"use strict";return this.$15.getIsInChannel()};a.prototype.unregister=function(){"use strict";b("cancelAnimationFrame")(this.$79),this.$96.release()};e.exports=a}),null);
__d("VideoComponentEmbeddedControls.react",["cx","React","ReactDOM","RelayModern","VideoBroadcastStatus","VideoComponent","VideoControls","VideoPlayerExperiments","joinClasses","shallowCompare","VideoComponentEmbeddedControlsQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;b("RelayModern").graphql;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.shouldComponentUpdate=function(a,c){return b("shallowCompare")(this,a,c)};a.prototype.componentDidUpdate=function(a){var c=this.embeddedControls,d=this.props,e=d.video;d=d.adBreaks;var f=this.props,g=f.displayDurationLimit;f=f.displayTimeOffset;c&&e&&e!==a.video&&c.updateConfig_DEPRECATED({permalinkURL:this.props.showPermalink?e.permalinkUrl:null,showButtons:{casting:e.canCastVideo&&b("VideoPlayerExperiments").chromecast},isLive:e.broadcastStatus===b("VideoBroadcastStatus").LIVE||e.broadcastStatus===b("VideoBroadcastStatus").PRE_LIVE||e.broadcastStatus===b("VideoBroadcastStatus").PREVIEW});c&&d&&d!==a.adBreaks&&c.updateAdBreaksConfig({insertedAdBreaks:d.insertedAdBreaks,isAdBreakDisabled:d.isAdBreakDisabled,isAdBreakInsertionWithoutGapRule:d.isAdBreakInsertionWithoutGapRule,isPreviewingAdBreak:d.isPreviewingAdBreak});c&&(g!=a.displayDurationLimit||f!=a.displayTimeOffset)&&c.updateDisplayTimeRangeConfig({displayDurationLimit:g,displayTimeOffset:f})};a.prototype.render=function(){return b("React").createElement("div",{ref:"playerControls",className:b("joinClasses")(this.props.classNames,(this.props.isCommercialBreak?"_2lwf":"")+(this.props.isCommercialBreak?" _167h":"")+" _170l _27db"+(this.props.adBreaks&&this.props.adBreaks.isPreviewingAdBreak?" _1ny5":""))})};a.prototype.disable=function(){this.embeddedControls&&(this.embeddedControls.unregister(),this.embeddedControls=null)};a.prototype.enable=function(a){this.embeddedControls=new(b("VideoControls"))(a,b("ReactDOM").findDOMNode(this.refs.playerControls),{hideOnEvents:{finish:this.props.hideControlsOnFinish,autoplay:this.props.hideControlsOnAutoplay,pause:this.props.hideControlsOnPause},unhideOnHover:this.props.unhideControlsOnHover,showButtons:{fullscreen:this.props.showFullscreenButton,watchandscroll:this.props.showWatchAndScrollButton,permalink:this.props.showPermalink},hideSettings:!this.props.showSettingsButton,shouldrendercontrols:this.props.shouldRenderControls,watchandscroll:this.props.detachable,redesign:this.props.redesign,hidePlaybackControl:this.props.hidePlaybackControl,hidePlaybackScrubber:this.props.hidePlaybackScrubber,hideRemainingTime:this.props.hideRemainingTime,isCommercialBreak:this.props.isCommercialBreak,isLiveRewindEnabled:!1,showQualitySelector:this.props.showQualitySelector,displayElapsedTime:this.props.displayElapsedTime,displayMilliseconds:this.props.displayMilliseconds,displayDurationLimit:this.props.displayDurationLimit,displayTimeOffset:this.props.displayTimeOffset,showPlaybackRateControl:this.props.showPlaybackRateControl})};function a(){h.apply(this,arguments)}a.defaultProps={showSettingsButton:!0,hideControlsOnFinish:!1,hideControlsOnAutoplay:!1,hideControlsOnPause:!1,unhideControlsOnHover:!1,showFullscreenButton:!0,showWatchAndScrollButton:!1,shouldRenderControls:!0,showPermalink:!1,detachable:!1,redesign:!1,hidePlaybackControl:!1,hidePlaybackScrubber:!1,hideRemainingTime:!1,isCommercialBreak:!1,showQualitySelector:!0,displayElapsedTime:!1,displayMilliseconds:!1,displayDurationLimit:null,displayTimeOffset:null,showPlaybackRateControl:!1};e.exports=b("VideoComponent").createContainer(a,{videoGraphQLQuery:function(){return b("VideoComponentEmbeddedControlsQuery.graphql")}})}),null);
__d("VideoPlayerFallbackEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ENTER:"VideoPlayerFallbackEvents/enter",RECOVER:"VideoPlayerFallbackEvents/recover"})}),null);
__d("SphericalVideoFallback",["cx","CSS","VideoPlayerFallbackEvents","VideoPlayerLoggerEvent","VideoPlayerStates"],(function(a,b,c,d,e,f,g){__p&&__p();a={setup:function(a,c){__p&&__p();var d=c.fallbackUriList,e=c.fallbackType,f=function(){__p&&__p();a.emit(b("VideoPlayerFallbackEvents").ENTER);var c=a.getLastError();if(c&&c.error!=="SPHERICAL_SETUP_FAILED"&&c.error!=="SPHERICAL_RENDER_ERROR")return;var f=a.addListener("stateChange",function(){a.isState(b("VideoPlayerStates").PLAYING)&&(a.logEvent(b("VideoPlayerLoggerEvent").SPHERICAL_FALLBACK_ENTERED,{spherical_fallback_type:e}),f.remove())});a.setFallbackSources(d);b("CSS").removeClass(a.getRootNode(),"_3-n5");a.reset();a.emit(b("VideoPlayerFallbackEvents").RECOVER)};if(a.isState(b("VideoPlayerStates").FALLBACK))f();else var g=a.addListener("stateChange",function(){a.isState(b("VideoPlayerStates").FALLBACK)&&(f(),g.remove())})}};e.exports=a}),null);
__d("VideoErrorOverlay",["SphericalVideoFallback"],(function(a,b,c,d,e,f){__p&&__p();function g(a,b){"textContent"in a&&(a.textContent=b),a.innerText=b}function h(a){if("textContent"in a)return a.textContent;return!a.innerText?"":a.innerText}function a(a,c,d,e,f){"use strict";__p&&__p();this.$1=c,this.$2=d,this.$3=e,a.registerOption("VideoErrorOverlay","title",function(){return this.getTitle()}.bind(this),function(a){return this.setTitle(a)}.bind(this)),a.registerOption("VideoErrorOverlay","message",function(){return this.getMessage()}.bind(this),function(a){return this.setMessage(a)}.bind(this)),a.registerOption("VideoErrorOverlay","linkURL",function(){return this.getLinkURL()}.bind(this),function(a){return this.setLinkURL(a)}.bind(this)),a.registerOption("VideoErrorOverlay","linkTitle",function(){return this.getLinkTitle()}.bind(this),function(a){return this.setLinkTitle(a)}.bind(this)),a.registerOption("VideoErrorOverlay","available",function(){return!0}),f&&b("SphericalVideoFallback").setup(a,f)}a.prototype.getTitle=function(){"use strict";return this.$1?h(this.$1):""};a.prototype.setTitle=function(a){"use strict";this.$1&&g(this.$1,a)};a.prototype.getMessage=function(){"use strict";return h(this.$2)};a.prototype.setMessage=function(a){"use strict";g(this.$2,a)};a.prototype.getLinkURL=function(){"use strict";return this.$3.href};a.prototype.setLinkURL=function(a){"use strict";this.$3.href=a};a.prototype.getLinkTitle=function(){"use strict";return h(this.$3)};a.prototype.setLinkTitle=function(a){"use strict";g(this.$3,a)};e.exports=a}),null);
__d("VideoComponentErrorOverlay.react",["cx","fbt","Link.react","React","ReactDOM","VideoComponent","VideoErrorOverlay","VideoPlayerReactConfig"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.enable=function(a){new(b("VideoErrorOverlay"))(a,b("ReactDOM").findDOMNode(this.refs.title),b("ReactDOM").findDOMNode(this.refs.msg),b("ReactDOM").findDOMNode(this.refs.link))};a.prototype.disable=function(){};a.prototype.render=function(){var a=b("VideoPlayerReactConfig").outdatedBrowser,c=a?h._("To watch the video, please upgrade your web browser."):null,d=b("React").createElement("div",{ref:"title",className:"_4ctr"},h._("Something Went Wrong"));c=b("React").createElement("div",{ref:"msg"},h._("Sorry, we're having trouble playing this video."),c);a=a?"/unsupportedbrowser":"https://www.facebook.com/help/396404120401278/list";a=b("React").createElement(b("Link.react"),{ref:"link",className:"_4cts",href:a},h._("Learn More"));return b("React").createElement("div",{className:"_4ctp _1jto _3htz"},b("React").createElement("div",{className:"_4ctq"},d,c,b("React").createElement("div",{className:"_5hdy"},a)))};function a(){i.apply(this,arguments)}e.exports=b("VideoComponent").createContainer(a)}),null);
__d("VideoComponentScrubberPreview.react",["React","RelayModern","VideoComponent","VideoScrubberPreviewComponent","VideoComponentScrubberPreviewQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.componentDidUpdate=function(a){__p&&__p();var c=this.props.video;if(c&&c!==a.video){a={};Object.assign(a,c.scrubberPreviewThumbnailInformation);if(Array.isArray(a.spriteIndexToURIMap)){c=a.spriteIndexToURIMap.slice();c.unshift(null);a.spriteIndexToURIMap=c}new(b("VideoScrubberPreviewComponent"))(this.vpc,a)}};a.prototype.disable=function(a){};a.prototype.enable=function(a){this.vpc=a};a.prototype.render=function(){return null};function a(){g.apply(this,arguments)}e.exports=b("VideoComponent").createContainer(a,{videoGraphQLQuery:function(){return b("VideoComponentScrubberPreviewQuery.graphql")}})}),null);
__d("VideoVolumeStorage",["CacheStorage"],(function(a,b,c,d,e,f){__p&&__p();var g="videos_persistent_volume_";function a(a){"use strict";this.$3=a,this.$2=new(b("CacheStorage"))("localstorage",g),a.runOnApiReady(function(){return this.$4()}.bind(this)),a.addListener("changeVolume",function(a){return this.$5(a.volume)}.bind(this))}a.prototype.$4=function(){"use strict";this.$1=this.$3.getVolume(),this.$3.setVolume(this.$6())};a.prototype.$5=function(a){"use strict";this.$2&&this.$2.set("volume",a,!0)};a.prototype.$6=function(){"use strict";return this.$2?this.$2.get("volume",this.$1):this.$1};e.exports=a}),null);
__d("VideoComponentVolumeStorage.react",["React","VideoComponent","VideoPlayerSnowliftReactExperiments","VideoVolumeStorage"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.enable=function(a){new(b("VideoVolumeStorage"))(a)};a.prototype.disable=function(){};a.prototype.render=function(){return null};function a(){g.apply(this,arguments)}e.exports=b("VideoComponent").createContainer(a,{suppressMount:function(){return!b("VideoPlayerSnowliftReactExperiments").videoCanStoreVolumeLevel}})}),null);
__d("VideoComponentWithCommercialBreak.react",["React","VideoComponent","VideoWithCommercialBreak"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.enable=function(a){this.$1=new(b("VideoWithCommercialBreak"))({}),this.$1.enable(a)};a.prototype.disable=function(){this.$1=null};a.prototype.render=function(){return null};function a(){g.apply(this,arguments)}e.exports=b("VideoComponent").createContainer(a)}),null);
__d("VideoComponentWithFallbackMode.react",["React","VideoComponent","VideoWithFallbackMode"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.enable=function(a){new(b("VideoWithFallbackMode"))(a,{fallbackTimeoutMs:this.props.fallbackTimeoutMs})};a.prototype.disable=function(){};a.prototype.render=function(){return null};function a(){g.apply(this,arguments)}a.defaultProps={fallbackTimeoutMs:1e4};e.exports=b("VideoComponent").createContainer(a)}),null);
__d("VideoComponentWithInstreamVideo.react",["ComposerAdBreaksPreviewConfig","React","RelayModern","VideoComponent","VideoWithInstreamVideo","VideoComponentWithInstreamVideoQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(a){g.constructor.call(this,a),a.shouldUsePreviewConfig&&b("ComposerAdBreaksPreviewConfig").config&&(this.$1=b("ComposerAdBreaksPreviewConfig").config)}a.prototype.UNSAFE_componentWillReceiveProps=function(a){!a.shouldUsePreviewConfig&&a.video&&a.video!==this.props.video&&(this.$1=JSON.parse(a.video.adBreaksViewerConfig),this.$4()),this.$2&&a.thumbnailURLForPreview&&this.$2.setThumbnailURLForPreview(a.thumbnailURLForPreview)};a.prototype.enable=function(a){this.$3=a,this.$4()};a.prototype.$4=function(){this.$3&&this.$1&&(this.$2=new(b("VideoWithInstreamVideo"))(this.$1),this.$2.enable(this.$3))};a.prototype.disable=function(){this.$2=null,this.$3=null};a.prototype.render=function(){return null};e.exports=b("VideoComponent").createContainer(a,{videoGraphQLQuery:function(){return b("VideoComponentWithInstreamVideoQuery.graphql")}})}),null);
__d("VideoWithLoopingPlayback",["VideoPlayerLoggerSource","VideoPlayerReason","setImmediate"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c){c===void 0&&(c=-1),this.$5=!1,this.$6=function(){var a=this.$1.getOption("FeedAutoplay","isVisibleForAutoplay"),c=this.$1.getOption("WatchAndScroll","isActive"),d=this.$1.getIsInChannel(),e=this.$1.getSource()===b("VideoPlayerLoggerSource").TAHOE;!this.$5&&(a||a===undefined)&&!c&&!d&&!e&&(!this.$4||this.$3<this.$4)&&(b("setImmediate")(function(){return this.$1.play(b("VideoPlayerReason").LOOP)}.bind(this)),this.$3++,this.$4&&this.$3===this.$4-1&&this.$1.setOption("Looping","isLooping",!1))}.bind(this),this.$1=a,this.$2=!0,this.$3=1,this.$4=c>-1?c:null,this.$1.addListener("finishPlayback",this.$6),this.$1.registerOption("Looping","isLooping",function(){return this.$2}.bind(this),function(a){return this.$7(a)}.bind(this)),this.$1.registerOption("Looping","disabled",function(){return this.$5}.bind(this),function(a){return this.$5=a}.bind(this))}a.prototype.isLooping=function(){"use strict";return this.$2};a.prototype.getLoopCount=function(){"use strict";return this.$3};a.prototype.getMaxLoopCount=function(){"use strict";return this.$4};a.prototype.setMaxLoopCount=function(a){"use strict";this.$4=a>-1?a:null};a.prototype.$7=function(a){"use strict";this.$2=a};e.exports=a}),null);
__d("VideoComponentWithLoopingPlayback.react",["React","RelayModern","VideoComponent","VideoWithLoopingPlayback","VideoComponentWithLoopingPlaybackQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.componentDidUpdate=function(a){if(this.props.video&&this.props.video!==a.video){var c=this.props.video.isLooping;a=a.infiniteLooping?Number.POSITIVE_INFINITY:this.props.video.loopCount;(c||this.props.forceLooping||this.props.infiniteLooping)&&new(b("VideoWithLoopingPlayback"))(this.vpc,a)}};a.prototype.enable=function(a){this.vpc=a};a.prototype.disable=function(){};a.prototype.render=function(){return null};function a(){g.apply(this,arguments)}e.exports=b("VideoComponent").createContainer(a,{videoGraphQLQuery:function(){return b("VideoComponentWithLoopingPlaybackQuery.graphql")}})}),null);
__d("VideoComponentWithSpacePlayPause.react",["React","VideoComponent","VideoWithSpacePlayPause"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.enable=function(a){new(b("VideoWithSpacePlayPause"))(a)};a.prototype.disable=function(){};a.prototype.render=function(){return null};function a(){g.apply(this,arguments)}e.exports=b("VideoComponent").createContainer(a)}),null);
__d("VideoSpinner",["cx","CircularProgressBar.react","CSS","EventListener","React","ReactDOM","VideoPlayerShakaGlobalConfig"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a,c){"use strict";this.$2=c,this.$1=a,this.$3=!1,a.addListener("beginPlayback",this.$5.bind(this)),a.addListener("finishPlayback",this.$6.bind(this)),a.addListener("pausePlayback",this.$7.bind(this)),a.addListener("playRequested",this.$8.bind(this)),a.addListener("buffering",this.$9.bind(this)),a.addListener("buffered",this.$10.bind(this)),a.addListener("networkInterrupted",this.$11.bind(this)),a.addListener("networkResumed",this.$12.bind(this)),a.addListener("stateChange",this.$13.bind(this)),a.addListener("clickVideo",this.$14.bind(this)),a.addListener("VideoSphericalOverlay/animationUpdate",this.$15.bind(this)),b("EventListener").listen(this.$2,"click",this.$16.bind(this)),b("VideoPlayerShakaGlobalConfig").getBool("use_progress_spinner",!1)&&(a.addListener("bufferingProgress",function(a){return this.$17(a)}.bind(this)),b("CSS").addClass(this.$2,"_69ci"))}a.prototype.$17=function(a){"use strict";b("ReactDOM").render(b("React").createElement(b("CircularProgressBar.react"),{animate:!0,text:Math.round(a*100)+"%",percentComplete:Math.max(a*100,10)}),this.$2)};a.prototype.$15=function(a,c){"use strict";a?b("CSS").addClass(this.$2,"_1st9"):b("CSS").removeClass(this.$2,"_1st9")};a.prototype.$11=function(){"use strict";b("VideoPlayerShakaGlobalConfig").getBool("enable_spinner_on_network_interrupted",!1)&&(this.$3&&b("CSS").show(this.$2)),this.$4=!0};a.prototype.$12=function(){"use strict";b("VideoPlayerShakaGlobalConfig").getBool("enable_spinner_on_network_interrupted",!1)&&(this.$3||b("CSS").hide(this.$2)),this.$4=!1};a.prototype.$9=function(){"use strict";b("CSS").show(this.$2),this.$3=!0,b("VideoPlayerShakaGlobalConfig").getBool("use_progress_spinner",!1)&&this.$17(0)};a.prototype.$10=function(){"use strict";b("VideoPlayerShakaGlobalConfig").getBool("enable_spinner_on_network_interrupted",!1)?this.$4||b("CSS").hide(this.$2):b("CSS").hide(this.$2),this.$3=!1};a.prototype.$5=function(){"use strict";this.$3?b("CSS").show(this.$2):b("CSS").hide(this.$2)};a.prototype.$7=function(){"use strict";b("VideoPlayerShakaGlobalConfig").getBool("enable_spinner_on_network_interrupted",!1)?this.$4||b("CSS").hide(this.$2):b("CSS").hide(this.$2)};a.prototype.$8=function(){"use strict";b("CSS").hide(this.$2)};a.prototype.$6=function(){"use strict";b("CSS").hide(this.$2)};a.prototype.$13=function(){"use strict";this.$1.isState("fallback")&&b("CSS").hide(this.$2)};a.prototype.$14=function(){"use strict";if(this.$1.isState("fallback"))return;(this.$3||this.$1.isState("ready")||this.$1.isState("loading"))&&b("CSS").show(this.$2)};a.prototype.$16=function(){"use strict";this.$1.clickVideo()};e.exports=a}),null);
__d("VideoPlayerHTML5ContextMenu.react",["cx","fbt","ContextualLayer.react","DOMQuery","Event","FBClipboardLink.react","Focus","FullScreen","Keys","LayerAutoFocus","LayerHideOnEscape","MountedContextMenu.react","React","ReactDOM","ReactXUIMenu","SubscriptionsHandler","URI","VideoContextMenuGK","VideoPermalinkURI","VideoPlayerExperiments","getFullScreenElement"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("ReactXUIMenu").Item,k=.35,l=6,m=60;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={permalinkVisible:!1,fullscreened:!1,screenWidth:screen.width,screenHeight:screen.height},this.$2=function(){var a=b("getFullScreenElement")(),c=this.props.rootContainer;a=!!(b("FullScreen").isFullScreen()&&a&&c&&b("DOMQuery").contains(a,c));this.setState({fullscreened:a})}.bind(this),this.$7=function(){this.props.onTogglePause&&this.props.onTogglePause()}.bind(this),this.$8=function(){this.props.onToggleMute&&this.props.onToggleMute()}.bind(this),this.$4=function(){b("Focus").set(b("ReactDOM").findDOMNode(this.refs.permalinkText)),this.setState({permalinkVisible:!0})}.bind(this),this.$3=function(){this.setState({permalinkVisible:!1})}.bind(this),this.$9=function(){b("ReactDOM").findDOMNode(this.refs.permalinkText).select()}.bind(this),this.$10=function(a){b("Event").getKeyCode(a)==b("Keys").ESC&&this.setState({permalinkVisible:!1})}.bind(this),c}a.prototype.componentDidMount=function(){var a=this.refs.permalinkLayer.layer;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(b("FullScreen").subscribe("changed",this.$2),a.subscribe("hide",this.$3),a.subscribe("show",this.$4));this.props.initialPosition&&this.refs.menu.showAt(this.props.initialPosition.x,this.props.initialPosition.y)};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.release()};a.prototype.$5=function(){if(this.props.paused)return h._("Play");else return h._("Pause")};a.prototype.$6=function(){if(this.props.muted)return h._("Unmute");else return h._("Mute")};a.prototype.hidePermalinkOverlay=function(){this.$3()};a.prototype.$11=function(a){a.preventDefault()};a.prototype.$12=function(){var a,b;if(this.state.fullscreened)a=this.state.screenWidth,b=this.state.screenHeight;else{var c=this.props.rootContainer.getBoundingClientRect();a=c.width;b=c.height}return{width:a,height:b}};a.prototype.$13=function(a){var c=this.props.permalinkURL;if(c){a={width:a+"px"};return b("React").createElement("div",{className:"_26oo",style:a},b("React").createElement("input",{className:"_26op autofocus",onFocus:this.$9,onKeyDown:this.$10,onMouseUp:this.$11,readOnly:!0,ref:"permalinkText",type:"text",value:c}),b("React").createElement("button",{className:"_26oq",onClick:this.$3},h._("Close")))}return null};a.prototype.renderLayers=function(){var a=this.props.permalinkURL&&this.state.permalinkVisible,c=0,d=0,e=null,f=this.$12(),g=f.width;f=f.height;var h=g*k;c=g/2-h/2;d=-f+l;this.state.fullscreened&&(d+=m);e=this.$13(h);return b("React").createElement(b("ContextualLayer.react"),{alignment:"left",behaviors:[b("LayerHideOnEscape"),b("LayerAutoFocus")],contextRef:function(){return this.props.videoContainer}.bind(this),offsetX:c,offsetY:d,position:"below",ref:"permalinkLayer",shown:a,key:"permalinkOverlay"},e)};a.prototype.$14=function(){if(!this.props.permalinkURL)return null;var a=new(b("URI"))(this.props.permalinkURL);if(b("VideoPlayerExperiments").copyLinkAtCurrentTimeInContextMenu&&b("VideoPermalinkURI").isValid(a)){a.addQueryData("t",this.props.getVideoCurrentTimePosition());return b("React").createElement(j,{ref:"copyPermalinkMenuItem"},b("React").createElement(b("FBClipboardLink.react"),{tooltip:null,tooltipSuccess:null,value:a.toString()},h._("Copy video URL at current time")))}return null};a.prototype.$15=function(){if(this.props.permalinkURL)if(b("VideoPlayerExperiments").copyLinkInContextMenu)return b("React").createElement(j,{ref:"copyPermalinkMenuItem"},b("React").createElement(b("FBClipboardLink.react"),{tooltip:null,tooltipSuccess:null,value:this.props.permalinkURL},h._("Copy Video URL")));else return b("React").createElement(j,{onclick:this.$4,ref:"permalinkMenuItem"},h._("Show video URL"));return null};a.prototype.render=function(){var a=this.props.paused!==null&&b("React").createElement(j,{onclick:this.$7},this.$5()),c=this.props.isLive?null:this.$14();a=b("React").createElement(b("ReactXUIMenu"),{className:b("VideoContextMenuGK").menuRedesign?"_45di":""},a,b("React").createElement(j,{onclick:this.$8},this.$6()),this.$15(),c,this.props.children);return b("React").createElement("span",null,b("React").createElement(b("MountedContextMenu.react"),{mountedTriggerElem:this.props.videoContainer,menu:a,ref:"menu"}),this.renderLayers())};e.exports=a}),null);
__d("VideoContextMenu",["Bootloader","CurrentUser","EventListener","React","ReactDOM","URI","UserAgent","VideoPlayerHTML5ContextMenu.react","VideoPlayerReason","VideoPlayerStates","isFacebookURI"],(function(a,b,c,d,e,f){__p&&__p();var g=/(instagram)/g;function a(a,c,d){"use strict";__p&&__p();this.$10=function(){for(var a in this.$8){var b=this.$8[a].name,c=this.$8[a].option,d=this.$8[a].description,e=this.$8[a].closeMessage;this.$2.hasOption(b,c)?this.$13(b,c,d,e):this.$12(b,c)}this.$9()}.bind(this);this.$9=function(){this.$6&&this.$14()}.bind(this);this.$11=function(a){var c=/^a$/i.test(a.target.nodeName||"");c=c||b("CurrentUser").isEmployee()&&(b("UserAgent").isPlatform("Mac OS X")?a.getModifiers().meta:a.getModifiers().ctrl);c&&this.$6?(b("ReactDOM").unmountComponentAtNode(this.$4),delete this.$6):!c&&!this.$6&&(a.preventDefault(),this.$14(a))}.bind(this);this.$8={debugOverlay:{name:"DebugOverlay",option:"hidden",description:"Employee Debug Info",closeMessage:"Hide Debug Information"},statsForNerds:{name:"StatsForNerds",option:"hidden",description:"Show video stats",closeMessage:"Hide video stats"}};this.$2=a;this.$3=d;this.$4=c;this.$1={};this.$5=null;if(this.$3.permalinkURL){d=new(b("URI"))(this.$3.permalinkURL).getQualifiedURI();b("isFacebookURI")(d)||(d.setSubdomain("www"),d.setDomain(d.getDomain().replace(g,"facebook")));this.$5=d.toString()}c=["muteVideo","unmuteVideo","changeVolume","beginPlayback","pausePlayback","finishPlayback","adBreakIndicatorShowing"];["enterWatchAndScroll","exitWatchAndScroll"].forEach(function(b){return a.addListener(b,function(){this.$6&&this.$6.hidePermalinkOverlay(),this.$9()}.bind(this))}.bind(this));a.addListener("optionsChange",this.$10);this.$10();c.forEach(function(b){return a.addListener(b,this.$9)}.bind(this));b("EventListener").listen(this.$2.getRootNode(),"contextmenu",this.$11)}a.prototype.setPermalinkURL=function(a){"use strict";this.$5=a,this.$9()};a.prototype.$12=function(a,b){"use strict";this.$7&&this.$7.removeMenuItem(a,b)};a.prototype.$13=function(a,c,d,e){"use strict";b("Bootloader").loadModules(["VideoComponentOptionMenuItems"],function(b){this.$7||(this.$7=new b(this.$2,this.$9)),this.$7.addComponentOptionMenuItem(a,c,d,e)}.bind(this),"VideoContextMenu")};a.prototype.$15=function(a,b){"use strict";return!this.$7?undefined:this.$7.getComponentOptionMenuItem(a,b)};a.prototype.$14=function(a){"use strict";var c=this.$15(this.$8.debugOverlay.name,this.$8.debugOverlay.option),d=this.$15(this.$8.statsForNerds.name,this.$8.statsForNerds.option),e=this.$2.getRootNode(),f=this.$2.getContainerNode(),g=function(){return Math.round(this.$2.getCurrentTimePosition())}.bind(this);this.$6=b("ReactDOM").render(b("React").createElement(b("VideoPlayerHTML5ContextMenu.react"),{rootContainer:e,videoContainer:f,paused:this.$16()?null:!this.$2.isState(b("VideoPlayerStates").PLAYING),muted:this.$2.isMuted(),permalinkURL:this.$5,initialPosition:a?{x:a.clientX,y:a.clientY}:undefined,getVideoCurrentTimePosition:g,onTogglePause:function(){return this.$17()}.bind(this),onToggleMute:function(){return this.$18()}.bind(this),isLive:this.$2.isLiveVideo()},c,d),this.$4)};a.prototype.$16=function(){"use strict";if(this.$2.getOption("VideoContextMenu","disablePauseMenuItem")&&!this.$2.isState(b("VideoPlayerStates").PAUSED))return!0;var a=this.$2.getOption("VideoWithCommercialBreak","controller");return a&&a.getIsDuringTransition()?!0:!1};a.prototype.$18=function(){"use strict";this.$2.isMuted()?this.$2.unmute():this.$2.mute()};a.prototype.$17=function(){"use strict";!this.$2.isState("playing")?this.$2.play(b("VideoPlayerReason").USER):this.$2.pause(b("VideoPlayerReason").USER)};e.exports=a}),null);
__d("VideoComponentContextMenu.react",["React","RelayModern","VideoComponent","VideoContextMenu","VideoPlayerHTML5Experiments","VideoComponentContextMenuQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;b("RelayModern").graphql;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.UNSAFE_componentWillReceiveProps=function(a){var b=this.contextMenu;b&&a.video&&a.video!==this.props.video&&b.setPermalinkURL(a.video.permalinkUrl)};a.prototype.enable=function(a){if(!this.refs.container)return;a.isHtml5Player()&&(this.contextMenu=new(b("VideoContextMenu"))(a,this.refs.container,{permalinkURL:""}))};a.prototype.disable=function(){};a.prototype.render=function(){return b("React").createElement("div",{ref:"container"})};function a(){g.apply(this,arguments)}e.exports=b("VideoComponent").createContainer(a,{suppressMount:function(){return!b("VideoPlayerHTML5Experiments").useCustomContextMenu},videoGraphQLQuery:function(){return b("VideoComponentContextMenuQuery.graphql")}})}),null);
__d("CommerceMerchantSettingsUpdateMutation",["RelayModern","CommerceMerchantSettingsUpdateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=function(){return b("CommerceMerchantSettingsUpdateMutation.graphql")};function a(a,b){return g(a,babelHelpers["extends"]({mutation:h},b))}e.exports={commit:a}}),null);
__d("CopyrightPlatform",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FB:"FB",IG:"IG",OC:"OC"})}),null);
__d("MediaCopyrightAttributionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PAGE:"PAGE",VIDEO:"VIDEO"})}),null);
__d("PageNuxIDEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADD_PROFILE_PICTURE:5039,ADD_COVER_PHOTO:5040,ADMIN_POST_CREATION_UPSELL:4684,AUTO_JOB_OPENING_POST_CONVERSION_NUX:5810,PAGE_OFFER_COMPOSER_TILE:5104,BOOST_PAGE_LIKE:4416,BOOST_WEBSITE:4415,FOOD_DRINK_ADMIN_ORDER_POST_UPSELL:5201,SEE_PAGES_FEED:4411,OFFER_TAB_NUX:5217,OFFER_TAB_RERUN_OFFER:5218,PAGE_CTA_AUTO_PROVISION:5219,PAGE_CTA_NEW_CTA_TYPE:5220,PAGE_CTA_NEW_FEATURE:5221,PAGE_CTA_PROMOTION:5222,PAGE_CTA_SUGGESTION:5223,WWW_HOME_TAB_STORY_NUX:5314,WWW_PUBLISH_PAGE_NUX:5341,WWW_COVER_SLIDESHOW_MENU_OPTION_NUX:5462,WWW_COVER_ON_TOUR_BADGE_MENU_OPTION_NUX:5649,COMPOSER_TARGETING_TAGGER:5056,COMPOSER_PRODUCT_TAGGER:5057})}),null);
__d("PageNuxSurfaceEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PAGE_TIMELINE:"page_timeline",PAGE_INSIGHTS_TAB:"page_insights_tab",PAGE_COMPOSER:"page_composer"})}),null);
__d("PagesMessagingSettingFieldKey",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IS_ENABLED:"isEnabled",RESPONSE_TIME_OPTION:"responseTimeOption",AUTO_REPLY_MESSAGE:"autoReplyMessage",AWAY_TIME_RANGES_JSON:"awayTimeRangesJson",AWAY_TIMEZONE_NAME:"awayTimezoneName",KEYWORD_FILTER_LIST:"keywordFilterList",OFFER_BOT_STATUS:"offerBotStatus"})}),null);
__d("PagesMessagingSettingSectionKey",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ENABLE_MESSAGES:"enableMessages",RESPONSE_TIME:"responseTime",INSTANT_REPLIES:"instantReplies",WELCOME_MESSAGE:"welcomeMessage",ENTER_TO_SEND:"enterToSend",ICEBREAKER_AUTO:"icebreaker_auto",ICEBREAKER_FREE_TEXT:"icebreaker_free_text",ICEBREAKER_TOGGLE:"icebreaker_toggle",AWAY_STATUS:"awayStatus",PRIORITY_INBOX:"priorityInbox",SUBSCRIBED_APPS:"subscribedApps",CUSTOMER_MATCHING:"customerMatching",FOLLOW_UP:"followUp",SMART_REPLIES:"smartReplies",KEYWORD_FILTER:"keywordFilter",MESSAGE_PROMPT:"messagePrompt",REFERRAL:"referral",APPOINTMENT_REMINDER:"appointmentReminder",PAGE_SUBMISSION:"pageSubmission",WHITELISTED_DOMAINS:"whitelistedDomains",CUSTOMER_CHAT_PLUGIN:"customerChatPlugin",APPOINTMENT_REQUESTS:"appointment_requests",QUOTE_REQUESTS:"quote_requests",M_DOT_ME_LINK:"mDotMeLink",ENABLE_CALLING:"enableCalling",CONNECTED_APPS:"connected_apps",OFFER_BOT:"offer_bot"})}),null);
__d("PresmaSettingsKeys",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADMIN_ROLES:"ADMIN_ROLES",GROUPS:"GROUPS",INSTAGRAM:"INSTAGRAM",MESSAGING:"MESSAGING",MESSENGER_PLATFORM:"messenger_platform",MESSENGER_REVIEWS:"messenger_reviews",MESSENGER_PAGE_FEEDBACK:"messenger_page_feedback",BUSINESS_ASSISTANT:"business_assistant",VIDEOS:"videos",IDENTITY_BADGES:"identity_badges",QR_CODE:"qr_code",WHATSAPP:"WHATSAPP",SUGGEST_PAGES:"suggest_pages",JOBS:"jobs",EVENT_TICKETING:"event_ticketing",BUSINESS_INFO:"business_info"})}),null);
__d("ProductDeliveryMethod",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SHIPPING:"shipping",REDEMPTION_CODE:"redemption_code"})}),null);
__d("ProductVisibility",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({LEGACY_PUBLIC:"",STAGING:"staging",PUBLISHED:"published",HIDDEN:"hidden",WHITELIST_ONLY:"whitelist_only"})}),null);
__d("requiredIfPropIsTruthy",["sprintf"],(function(a,b,c,d,e,f){__p&&__p();function a(a,c){return function(d,e,f){if(!d[a])return null;if(d[e]===undefined)return new Error(b("sprintf")("Must supply %s to %s if property %s is truthy.",e,f,a));for(var g=arguments.length,h=new Array(g>3?g-3:0),i=3;i<g;i++)h[i-3]=arguments[i];return c.apply(undefined,[d,e,f].concat(h))}}e.exports=a}),null);
__d("RelayDeferredContainer",["JSResource","React","RelayClassic_DEPRECATED","promiseDone","react-relay/classic/container/RelayRenderer","react-relay/classic/store/RelayStore","warning"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("RelayClassic_DEPRECATED").PropTypes;d=b("React").PropTypes;f=babelHelpers.inherits(a,b("React").Component);g=f&&f.prototype;function a(a,c){g.constructor.call(this,a,c),this.$1=function(a){a=a.error;if(a){var c=this.constructor;b("warning")(!1,"%s error running query for route `%s`: %s",c.name,this.props.route.name,a)}}.bind(this),this.state={Component:null,abortLoader:null}}a.prototype.$3=function(a){this.state.abortLoader&&this.state.abortLoader();var c=h(function(a){this.setState({abortLoader:null,Component:a})}.bind(this)),d=c.abort;c=c.callback;this.setState({abortLoader:d,Component:null});b("promiseDone")(a.loader.load(),c)};a.prototype.componentDidMount=function(){this.$3(this.props)};a.prototype.UNSAFE_componentWillReceiveProps=function(a){(!this.props.loader.equals(a.loader)||this.props.route!==a.route)&&this.$3(a)};a.prototype.componentWillUnmount=function(){this.state.abortLoader&&this.state.abortLoader()};a.prototype.$2=function(a){return this.props.render(this.state.Component,a)};a.prototype.render=function(){__p&&__p();return!this.state.Component?this.props.renderLoading():b("React").createElement(b("react-relay/classic/container/RelayRenderer"),{Container:this.state.Component,queryConfig:this.props.route,environment:b("react-relay/classic/store/RelayStore"),onReadyStateChange:this.$1,render:function(a){__p&&__p();var b=a.error,c=a.props;a=a.retry;if(b){if(this.props.renderFailure)return this.props.renderFailure(b,a)}else if(c){if(this.props.render)return this.props.render(this.state.Component,c)}else if(this.props.renderLoading)return this.props.renderLoading();return undefined}.bind(this)})};a.propTypes={renderFailure:d.func,renderLoading:d.func.isRequired,render:d.func.isRequired,loader:d.instanceOf(b("JSResource").Reference).isRequired,route:c.QueryConfig};var h=function(a){var b=!1;return{abort:function(){b=!0},callback:function(c){b||a(c)}}};e.exports=a}),null);
__d("MovingAverage",[],(function(a,b,c,d,e,f){__p&&__p();function a(a,b){"use strict";__p&&__p();this.$1=b;b=b||0;this.$2=0;this.$3=b*a;this.$4=a;this.$5=0;this.$6=[];for(var c=0;c<a;c++)this.$6[c]=b}a.prototype.add=function(a){"use strict";this.$3-=this.$6[this.$2];this.$3+=a;this.$6[this.$2]=a;this.$2=(this.$2+1)%this.$4;this.$5<this.$4&&this.$5++;return this};a.prototype.get=function(a){"use strict";a=a===undefined?0:a;a=(this.$2-a-1+this.$4)%this.$4;return this.$6[a]};a.prototype.getAvg=function(){"use strict";return this.$5<this.$4&&this.$5!==0&&this.$1==null?this.$3/this.$5:this.$3/this.$4};a.prototype.getSum=function(){"use strict";return this.$3};a.prototype.getMax=function(){"use strict";return Math.max.apply(Math,this.$6)};a.prototype.getMin=function(){"use strict";return Math.min.apply(Math,this.$6)};f.MovingAverage=a}),null);
__d("XPagesManagerShopManagementController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/{page_token}/shop/settings/{?tab}/{?order_id}/",{page_token:{type:"String",required:!0},business_id:{type:"Int"},tab:{type:"Enum",enumType:1},order_id:{type:"FBID"}})}),null);